const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/services-wFLDuxkn.js","assets/auth-V0Wbq6Te.js","assets/react-vendor-Caqaq3dM.js","assets/vendor-iWZt88IK.js","assets/markdown-vendor-PTyQapk7.js","assets/supabase-vendor-wc801gge.js","assets/core-services-lUmqlasC.js","assets/chat-services-aq9FlsQT.js","assets/ai-vendor-DDPwdD9r.js"])))=>i.map(i=>d[i]);
import{j as e,r as n,R as pe,u as Ys,m as Je,A as na,b as He,c as Ks,d as $e,e as aa,f as ra,i as oa}from"./react-vendor-Caqaq3dM.js";import{i as Ps,m as Zt,a as he,s as Yt,S as ia}from"./core-services-lUmqlasC.js";import{W as la,t as E,m as Kt,B as ca,U as it,o as Te,C as Ct,D as ze,F as da,n as We,G as ma,H as ua,s as ha,q as Qt,I as Jt,M as xa,i as Ds,J as wt,K as lt}from"./services-wFLDuxkn.js";import{s as Oe,A as pa}from"./auth-V0Wbq6Te.js";import{L as ss,S as ga,B as jt,T as ns,P as as,a as fa,C as ba,b as va,H as wa,A as ja,G as ya,F as Na,c as Qs,R as Aa,d as ka}from"./modals-CYfVJg3Y.js";import{g as Ca,E as Nt,G as Sa,C as Ma}from"./features-DDNJFj1N.js";import{Y as Js,Z as Pe}from"./vendor-iWZt88IK.js";import{C as Q,a as P,_ as Ce,G as Xt,n as Ls,b as _s}from"./chat-services-aq9FlsQT.js";import"./markdown-vendor-PTyQapk7.js";import"./supabase-vendor-wc801gge.js";import"./ai-vendor-DDPwdD9r.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const x of u)if(x.type==="childList")for(const h of x.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function c(u){const x={};return u.integrity&&(x.integrity=u.integrity),u.referrerPolicy&&(x.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?x.credentials="include":u.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function a(u){if(u.ep)return;u.ep=!0;const x=c(u);fetch(u.href,x)}})();const Fa=10*1024*1024*1.37,Ea=100;function es(o){if(typeof o!="string")return{valid:!1,error:"Screenshot data must be a string"};if(!o.startsWith("data:image/"))return{valid:!1,error:"Invalid image format - must be a data URL (data:image/...)"};if(o.length>Fa)return{valid:!1,error:`Image too large (${(o.length/1048576).toFixed(2)}MB). Maximum size is 10MB.`};const i=";base64,";if(!o.includes(i))return{valid:!1,error:"Missing base64 encoding in data URL"};const c=o.split(i);if(c.length!==2)return{valid:!1,error:"Malformed data URL - invalid base64 marker"};const a=c[1];return!a||a.length<Ea?{valid:!1,error:"Invalid or empty base64 image data"}:/^[A-Za-z0-9+/]+={0,2}$/.test(a)?{valid:!0}:{valid:!1,error:"Malformed base64 data - contains invalid characters"}}function Os(o){return parseFloat((o.length/(1024*1024)).toFixed(2))}const At=({className:o})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:o,children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),Ia=({className:o="",size:i="md",showBorder:c=!0,showShadow:a=!0,showBadge:u=!0,showStatus:x=!0})=>{const h={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32",xl:"w-40 h-40"},k=c?"border-2 border-[#E53A3A]/30 ring-2 ring-[#D98C1F]/20":"",w=a?"shadow-lg shadow-[#E53A3A]/20":"";return e.jsxs("div",{className:`relative ${o}`,children:[e.jsxs("div",{className:`relative overflow-hidden rounded-full ${h[i]} ${k} ${w}`,children:[e.jsx("img",{src:Ca("/images/founder-image.jpg"),alt:"Otagon Founder - AI Gaming Visionary",className:"w-full h-full object-cover object-center",style:{objectPosition:"center 30%"},onError:p=>{var v;const y=p.target;y.style.display="none";const U=(v=y.parentElement)==null?void 0:v.querySelector(".fallback");U&&(U.style.display="flex")}}),e.jsx("div",{className:"fallback hidden absolute inset-0 bg-gradient-to-br from-[#E53A3A] to-[#D98C1F] rounded-full items-center justify-center",children:e.jsxs("div",{className:"text-white font-bold text-center",children:[e.jsx("div",{className:"text-2xl",children:"ðŸ‘¨â€ðŸ’»"}),e.jsx("div",{className:"text-xs mt-1",children:"Founder"})]})})]}),x&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white rounded-full",children:e.jsx("div",{className:"w-full h-full bg-green-400 rounded-full animate-pulse"})}),u&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"FOUNDER"})]})},Ta=({pcAppImage:o})=>{const[i,c]=n.useState("windows"),a=[{id:"windows",label:"Windows",icon:e.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M0 3.449L9.75 2.1v9.451H0m10.949-9.602L24 0v11.4H10.949M0 12.6h9.75v9.451L0 20.699M10.949 12.6H24V24l-12.9-1.801"})})},{id:"ios",label:"iOS",icon:e.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})})},{id:"android",label:"Android",icon:e.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M17.6 9.48l1.84-3.18c.16-.31.04-.69-.26-.85a.637.637 0 0 0-.83.22l-1.88 3.24a11.43 11.43 0 0 0-8.94 0L5.65 5.67a.643.643 0 0 0-.87-.2c-.28.18-.37.54-.22.83L6.4 9.48A10.81 10.81 0 0 0 1 18h22a10.81 10.81 0 0 0-5.4-8.52M7 15.25a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0m7.5 0a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0z"})})}];return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"flex justify-center mb-8 md:mb-10",children:e.jsx("div",{className:"inline-flex bg-gradient-to-r from-neutral-900/80 to-neutral-800/80 backdrop-blur-xl border border-neutral-700/60 rounded-2xl p-1.5 shadow-2xl",children:a.map(u=>e.jsxs("button",{onClick:()=>c(u.id),className:`
                flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-sm transition-all duration-300
                ${i===u.id?"bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] text-white shadow-lg scale-105":"text-neutral-400 hover:text-neutral-200 hover:bg-neutral-800/50"}
              `,children:[u.icon,e.jsx("span",{children:u.label})]},u.id))})}),e.jsxs("div",{className:"relative",children:[i==="windows"&&e.jsx("div",{className:"animate-fade-slide-up",children:e.jsx("div",{className:"bg-gradient-to-br from-neutral-900/60 to-neutral-800/40 backdrop-blur-xl border border-neutral-700/60 rounded-3xl p-8 md:p-10 shadow-2xl",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 md:gap-12 items-center",children:[e.jsx("div",{className:"order-2 md:order-1",children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-[#E53A3A]/20 to-[#D98C1F]/20 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsx("img",{src:o,alt:"Otagon Connector for Windows",className:"relative w-full h-auto rounded-2xl shadow-2xl border border-neutral-700/40"})]})}),e.jsxs("div",{className:"order-1 md:order-2",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-3",children:"Otagon Connector for Windows"}),e.jsx("p",{className:"text-lg text-neutral-300 leading-relaxed",children:"Get help while gaming! This handy PC tool captures your game screen and sends it to Otagon so you can get hints without leaving your game."})]}),e.jsxs("div",{className:"space-y-6 mb-8",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] shadow-lg"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:"Download & Install"}),e.jsx("p",{className:"text-neutral-400 leading-relaxed",children:"Download the Otagon Connector app and install it on your PC (just like any other program)"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] shadow-lg"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:"Connect to Otagon"}),e.jsx("p",{className:"text-neutral-400 leading-relaxed",children:"Open the Connector app to see your 6-digit code, then type that code into Otagon (on your web browser or phone)"})]})]})]}),e.jsx("div",{className:"flex justify-center md:justify-start",children:e.jsxs("button",{disabled:!0,className:"inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-neutral-600 to-neutral-500 text-neutral-300 font-bold text-lg rounded-xl shadow-2xl transition-all duration-300 cursor-not-allowed opacity-50",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),e.jsx("span",{children:"Coming Soon"})]})})]})]})})}),i==="ios"&&e.jsx("div",{className:"animate-fade-slide-up",children:e.jsxs("div",{className:"bg-gradient-to-br from-neutral-900/60 to-neutral-800/40 backdrop-blur-xl border border-neutral-700/60 rounded-3xl p-8 md:p-10 shadow-2xl max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-r from-[#E53A3A]/20 to-[#D98C1F]/20 mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})})}),e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-3",children:"Get Otagon on iPhone/iPad"}),e.jsx("p",{className:"text-lg text-neutral-300 leading-relaxed",children:"Save Otagon to your home screen for easy access anytime"})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center pt-1",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] shadow-lg"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-neutral-200 leading-relaxed text-lg",children:["Open ",e.jsx("span",{className:"font-semibold text-white",children:"Safari"})," on your iPhone or iPad and visit Otagon"]})})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center pt-1",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] shadow-lg"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-neutral-200 leading-relaxed text-lg",children:["Go to the ",e.jsx("span",{className:"font-semibold text-white",children:"login page"})]})})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center pt-1",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] shadow-lg"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-neutral-200 leading-relaxed text-lg",children:["Tap the ",e.jsx("span",{className:"font-semibold text-white",children:"Share button"})," at the bottom (the square with an arrow pointing up)"]})})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center pt-1",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] shadow-lg"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-neutral-200 leading-relaxed text-lg",children:["Choose ",e.jsx("span",{className:"font-semibold text-white",children:"Add to Home Screen"}),", then tap ",e.jsx("span",{className:"font-semibold text-white",children:"Add"}),". That's it!"]})})]})]})]})}),i==="android"&&e.jsx("div",{className:"animate-fade-slide-up",children:e.jsxs("div",{className:"bg-gradient-to-br from-neutral-900/60 to-neutral-800/40 backdrop-blur-xl border border-neutral-700/60 rounded-3xl p-8 md:p-10 shadow-2xl max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-r from-[#E53A3A]/20 to-[#D98C1F]/20 mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M17.6 9.48l1.84-3.18c.16-.31.04-.69-.26-.85a.637.637 0 0 0-.83.22l-1.88 3.24a11.43 11.43 0 0 0-8.94 0L5.65 5.67a.643.643 0 0 0-.87-.2c-.28.18-.37.54-.22.83L6.4 9.48A10.81 10.81 0 0 0 1 18h22a10.81 10.81 0 0 0-5.4-8.52M7 15.25a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0m7.5 0a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0z"})})}),e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-3",children:"Get Otagon on Android"}),e.jsx("p",{className:"text-lg text-neutral-300 leading-relaxed",children:"Save Otagon to your home screen for easy access anytime"})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center pt-1",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] shadow-lg"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-neutral-200 leading-relaxed text-lg",children:["Open ",e.jsx("span",{className:"font-semibold text-white",children:"Chrome"})," on your Android phone or tablet and visit Otagon"]})})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center pt-1",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] shadow-lg"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-neutral-200 leading-relaxed text-lg",children:["Go to the ",e.jsx("span",{className:"font-semibold text-white",children:"login page"})]})})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center pt-1",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] shadow-lg"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-neutral-200 leading-relaxed text-lg",children:["Tap the ",e.jsx("span",{className:"font-semibold text-white",children:"three dots menu (â‹®)"})," in the top right corner"]})})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center pt-1",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] shadow-lg"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-neutral-200 leading-relaxed text-lg",children:["Choose ",e.jsx("span",{className:"font-semibold text-white",children:"Add to Home screen"})," or ",e.jsx("span",{className:"font-semibold text-white",children:"Install app"}),". Done!"]})})]})]})]})})]})]})},Pa="/assets/feature1-HyxaRwQ8.png",Da="/assets/feature2-PY2LtNFA.png",La="/assets/feature3-D0Za5pj4.png",_a="/assets/feature4-Cm_SdYxa.png",Oa="/assets/feature5-C56YcZYr.png",Ba="/assets/feature6-CcLOnXwB.png",Ra="/assets/google-BX7v9yq7.png",Ga="/assets/PC%20app-RNKTTh9G.png",Ha=({className:o})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:o,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2"}),e.jsx("path",{d:"M6 12h4"}),e.jsx("path",{d:"M14 10v4"}),e.jsx("path",{d:"M18 10v4"}),e.jsx("path",{d:"M10 10v4"})]}),Bs=()=>e.jsx("span",{className:"text-sm font-bold bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] text-white px-2.5 py-1 rounded-full uppercase tracking-wider ml-3",children:"PRO"}),Ua=({icon:o})=>{const i={eye:e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),bookmark:e.jsx(e.Fragment,{children:e.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"})}),network:e.jsxs(e.Fragment,{children:[e.jsx("rect",{x:"16",y:"16",width:"6",height:"6",rx:"1"}),e.jsx("rect",{x:"2",y:"16",width:"6",height:"6",rx:"1"}),e.jsx("rect",{x:"9",y:"2",width:"6",height:"6",rx:"1"}),e.jsx("path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3"}),e.jsx("path",{d:"M12 12V8"})]}),mic:e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}),e.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),e.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"})]}),insights:e.jsxs(e.Fragment,{children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),e.jsx("path",{d:"M3 9h18M9 21V9"})]}),cpu:e.jsxs(e.Fragment,{children:[e.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"}),e.jsx("rect",{x:"9",y:"9",width:"6",height:"6"}),e.jsx("line",{x1:"9",y1:"1",x2:"9",y2:"4"}),e.jsx("line",{x1:"15",y1:"1",x2:"15",y2:"4"}),e.jsx("line",{x1:"9",y1:"20",x2:"9",y2:"23"}),e.jsx("line",{x1:"15",y1:"20",x2:"15",y2:"23"}),e.jsx("line",{x1:"20",y1:"9",x2:"23",y2:"9"}),e.jsx("line",{x1:"20",y1:"14",x2:"23",y2:"14"}),e.jsx("line",{x1:"1",y1:"9",x2:"4",y2:"9"}),e.jsx("line",{x1:"1",y1:"14",x2:"4",y2:"14"})]})};return e.jsxs("div",{className:"relative flex h-full w-full items-center justify-center rounded-2xl p-4 group hover:scale-105 transition-all duration-500",style:{pointerEvents:"auto"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#E53A3A]/20 to-[#D98C1F]/20 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{pointerEvents:"none"}}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"url(#feature-gradient)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"opacity-60 group-hover:opacity-100 transition-opacity duration-500",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"feature-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#E53A3A"}),e.jsx("stop",{offset:"100%",stopColor:"#D98C1F"})]})}),i[o]]})]})},Rs=pe.memo(({title:o,description:i,icon:c,image:a,isGemini:u,altText:x})=>e.jsxs("div",{className:"flex flex-col items-center text-center group p-6 md:p-8 rounded-2xl md:hover:bg-gradient-to-br md:hover:from-neutral-800/20 md:hover:to-neutral-900/20 transition-all duration-500",children:[e.jsx("div",{className:`w-full max-w-4xl aspect-video min-h-[350px] md:min-h-[500px] mb-6 animate-fade-slide-up md:group-hover:scale-105 transition-transform duration-500 ${u?"bg-transparent flex items-center justify-center":""}`,children:a?u?e.jsx("div",{className:"w-full max-w-md aspect-[5/6] flex items-center justify-center bg-transparent",children:e.jsx("img",{src:a,alt:x||(typeof o=="string"?o:"Feature image"),className:"w-1/2 h-1/2 object-contain",loading:"lazy",decoding:"async",onError:h=>{console.error("âŒ Image failed to load:",a,h),console.error("âŒ Image element:",h.target)},onLoad:()=>console.log("âœ… Image loaded successfully:",a),style:{display:"block",imageRendering:"crisp-edges",WebkitFontSmoothing:"antialiased",backfaceVisibility:"hidden",transform:"translateZ(0)"}})}):e.jsx("img",{src:a,alt:x||(typeof o=="string"?o:"Feature image"),className:"w-full h-full object-contain",loading:"lazy",decoding:"async",onError:h=>{console.error("âŒ Image failed to load:",a,h),console.error("âŒ Image element:",h.target)},onLoad:()=>console.log("âœ… Image loaded successfully:",a),style:{display:"block",imageRendering:"crisp-edges",WebkitFontSmoothing:"antialiased",backfaceVisibility:"hidden",transform:"translateZ(0)"}}):c?e.jsx(Ua,{icon:c}):null}),e.jsxs("div",{className:"animate-fade-slide-up md:group-hover:translate-y-1 transition-transform duration-500",children:[e.jsx("h3",{className:"text-2xl lg:text-3xl font-bold tracking-tight text-white mb-4 leading-tight md:group-hover:text-transparent md:group-hover:bg-clip-text md:group-hover:bg-gradient-to-r md:group-hover:from-[#E53A3A] md:group-hover:to-[#D98C1F] transition-all duration-500",children:o}),e.jsx("p",{className:"text-lg text-neutral-300 leading-relaxed md:group-hover:text-neutral-200 transition-colors duration-500",children:i})]})]})),za=({features:o})=>{const i={delay:5e3,stopOnInteraction:!0,stopOnMouseEnter:!0,playOnInit:!0},[c,a]=Ys({loop:!0,align:"start",slidesToScroll:1,skipSnaps:!1,dragFree:!1,containScroll:"trimSnaps",breakpoints:{"(min-width: 768px)":{align:"start"}}},[Js(i)]),[,u]=n.useState(0),[,x]=n.useState([]),[h,k]=n.useState(!1);n.useEffect(()=>{const v=()=>{k(window.innerWidth<768)};return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);const w=n.useCallback(()=>{a&&a.scrollPrev()},[a]),p=n.useCallback(()=>{a&&a.scrollNext()},[a]);n.useCallback(v=>{a&&a.scrollTo(v)},[a]);const y=n.useCallback(()=>{a&&u(a.selectedScrollSnap())},[a]);n.useEffect(()=>{if(a)return y(),x(a.scrollSnapList()),a.on("select",y),a.on("reInit",y),()=>{a.off("select",y),a.off("reInit",y)}},[a,y]);const U=h?o:(()=>{const v=[];for(let N=0;N<o.length;N+=2)v.push(o.slice(N,N+2));return v})();return e.jsxs("div",{className:"relative px-4 md:px-0",children:[e.jsx("div",{className:"overflow-hidden",ref:c,children:e.jsx("div",{className:"flex touch-pan-y touch-pinch-zoom -ml-4",children:h?o.map((v,N)=>e.jsx("div",{className:"flex-[0_0_100%] min-w-0 pl-4",children:e.jsx(Rs,{title:v.title,description:v.description,image:v.image,isGemini:v.isGemini})},N)):U.map((v,N)=>e.jsx("div",{className:"flex-[0_0_100%] min-w-0 pl-4",children:e.jsx("div",{className:"grid grid-cols-2 gap-8",children:Array.isArray(v)&&v.map((C,R)=>e.jsx(Rs,{title:C.title,description:C.description,image:C.image,isGemini:C.isGemini},N*2+R))})},N))})}),e.jsxs("div",{className:"flex justify-center gap-4 mt-6 md:hidden",children:[e.jsx("button",{onClick:w,className:"bg-transparent border-2 border-[#E53A3A] text-[#E53A3A] p-3 rounded-lg active:bg-gradient-to-r active:from-[#E53A3A] active:to-[#D98C1F] active:text-white active:border-transparent md:hover:bg-gradient-to-r md:hover:from-[#E53A3A] md:hover:to-[#D98C1F] md:hover:text-white md:hover:border-transparent md:hover:shadow-2xl md:hover:shadow-[#E53A3A]/50 md:hover:scale-110 active:scale-95 focus:outline-none transition-[background,transform,shadow,opacity,border,color] duration-300 disabled:opacity-30 disabled:cursor-not-allowed backdrop-blur-sm","aria-label":"Previous feature",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"3",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:p,className:"bg-transparent border-2 border-[#E53A3A] text-[#E53A3A] p-3 rounded-lg active:bg-gradient-to-r active:from-[#E53A3A] active:to-[#D98C1F] active:text-white active:border-transparent md:hover:bg-gradient-to-r md:hover:from-[#E53A3A] md:hover:to-[#D98C1F] md:hover:text-white md:hover:border-transparent md:hover:shadow-2xl md:hover:shadow-[#E53A3A]/50 md:hover:scale-110 active:scale-95 focus:outline-none transition-[background,transform,shadow,opacity,border,color] duration-300 disabled:opacity-30 disabled:cursor-not-allowed backdrop-blur-sm","aria-label":"Next feature",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"3",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]}),e.jsx("button",{onClick:w,className:"hidden md:block absolute -left-16 lg:-left-24 top-1/2 -translate-y-1/2 bg-transparent border-2 border-[#E53A3A] text-[#E53A3A] p-2 rounded-lg md:hover:bg-gradient-to-r md:hover:from-[#E53A3A] md:hover:to-[#D98C1F] md:hover:text-white md:hover:border-transparent md:hover:shadow-2xl md:hover:shadow-[#E53A3A]/50 md:hover:scale-110 active:scale-95 focus:outline-none transition-[background,transform,shadow,opacity,border,color] duration-300 z-10 disabled:opacity-30 disabled:cursor-not-allowed backdrop-blur-sm opacity-60 md:hover:opacity-100","aria-label":"Previous feature",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"3",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:p,className:"hidden md:block absolute -right-16 lg:-right-24 top-1/2 -translate-y-1/2 bg-transparent border-2 border-[#E53A3A] text-[#E53A3A] p-2 rounded-lg md:hover:bg-gradient-to-r md:hover:from-[#E53A3A] md:hover:to-[#D98C1F] md:hover:text-white md:hover:border-transparent md:hover:shadow-2xl md:hover:shadow-[#E53A3A]/50 md:hover:scale-110 active:scale-95 focus:outline-none transition-[background,transform,shadow,opacity,border,color] duration-300 z-10 disabled:opacity-30 disabled:cursor-not-allowed backdrop-blur-sm opacity-60 md:hover:opacity-100","aria-label":"Next feature",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"3",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]})},de=({children:o})=>e.jsxs("li",{className:"flex items-start gap-4",children:[e.jsx(At,{className:"w-6 h-6 mt-1 text-green-500 flex-shrink-0"}),e.jsx("span",{className:"text-neutral-200 text-base leading-relaxed",children:o})]}),ts=({children:o,comingSoon:i=!1})=>e.jsxs("li",{className:"flex items-start gap-4",children:[e.jsx(ga,{className:"w-6 h-6 mt-1 text-[#FFAB40] flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-neutral-200 font-medium text-base leading-relaxed block",children:o}),i&&e.jsx("span",{className:"inline-block mt-2 text-xs font-semibold bg-gradient-to-r from-sky-500/20 to-blue-500/20 text-sky-300 border-2 border-sky-500/40 px-3 py-1 rounded-full uppercase",children:"Coming Soon"})]})]}),Wa=()=>e.jsx("svg",{className:"w-12 h-12 text-neutral-600 mb-6",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M6.5,10c0,2.21-1.79,4-4,4v-2c1.1,0,2-0.9,2-2h-2V4h6V10z M18.5,10c0,2.21-1.79,4-4,4v-2c1.1,0,2-0.9,2-2h-2V4h6V10z"})}),kt=pe.memo(({quote:o,author:i,title:c,index:a,isVisible:u})=>e.jsxs("div",{className:`bg-[#0F0F0F] border border-neutral-800/60 md:border-2 rounded-2xl md:rounded-3xl p-6 md:p-8 flex flex-col justify-between h-full animate-fade-slide-up transition-all duration-500 ${u?"md:border-neutral-700/80 md:scale-105 md:shadow-2xl md:shadow-[#E53A3A]/10":"md:border-neutral-800/60"} md:hover:bg-[#141414] md:hover:border-neutral-700/80 md:hover:scale-105 md:hover:shadow-2xl md:hover:shadow-[#E53A3A]/10`,style:{transitionDelay:u?`${a*150}ms`:"0ms"},children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(Wa,{}),e.jsxs("p",{className:"text-lg md:text-xl text-neutral-200 leading-relaxed",children:['"',o,'"']})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-white text-base md:text-lg",children:i}),e.jsx("p",{className:"text-sm md:text-base text-neutral-400",children:c})]})]})),$a=({testimonials:o})=>{const i={delay:5e3,stopOnInteraction:!0,stopOnMouseEnter:!0,playOnInit:!0},[c,a]=Ys({loop:!0,align:"center",slidesToScroll:1,skipSnaps:!1,dragFree:!1,containScroll:"trimSnaps",duration:25},[Js(i)]),[,u]=n.useState(0),[,x]=n.useState([]),h=n.useCallback(()=>{a&&a.scrollPrev()},[a]),k=n.useCallback(()=>{a&&a.scrollNext()},[a]);n.useCallback(p=>{a&&a.scrollTo(p)},[a]);const w=n.useCallback(()=>{a&&u(a.selectedScrollSnap())},[a]);return n.useEffect(()=>{if(a)return w(),x(a.scrollSnapList()),a.on("select",w),a.on("reInit",w),()=>{a.off("select",w),a.off("reInit",w)}},[a,w]),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"overflow-hidden",ref:c,children:e.jsx("div",{className:"flex touch-pan-y touch-pinch-zoom -ml-4",children:o.map((p,y)=>e.jsx("div",{className:"flex-[0_0_100%] min-w-0 pl-4",children:e.jsx(kt,{quote:p.quote,author:p.author,title:p.title,index:y,isVisible:!0})},y))})}),e.jsxs("div",{className:"flex justify-center gap-4 mt-6 md:hidden",children:[e.jsx("button",{onClick:h,className:"bg-transparent border-2 border-[#E53A3A] text-[#E53A3A] p-3 rounded-lg active:bg-gradient-to-r active:from-[#E53A3A] active:to-[#D98C1F] active:text-white active:border-transparent md:hover:bg-gradient-to-r md:hover:from-[#E53A3A] md:hover:to-[#D98C1F] md:hover:text-white md:hover:border-transparent md:hover:shadow-2xl md:hover:shadow-[#E53A3A]/50 md:hover:scale-110 active:scale-95 focus:outline-none transition-[background,transform,shadow,opacity,border,color] duration-300 disabled:opacity-30 disabled:cursor-not-allowed backdrop-blur-sm","aria-label":"Previous testimonial",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"3",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:k,className:"bg-transparent border-2 border-[#E53A3A] text-[#E53A3A] p-3 rounded-lg active:bg-gradient-to-r active:from-[#E53A3A] active:to-[#D98C1F] active:text-white active:border-transparent md:hover:bg-gradient-to-r md:hover:from-[#E53A3A] md:hover:to-[#D98C1F] md:hover:text-white md:hover:border-transparent md:hover:shadow-2xl md:hover:shadow-[#E53A3A]/50 md:hover:scale-110 active:scale-95 focus:outline-none transition-[background,transform,shadow,opacity,border,color] duration-300 disabled:opacity-30 disabled:cursor-not-allowed backdrop-blur-sm","aria-label":"Next testimonial",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"3",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]}),e.jsx("button",{onClick:h,className:"hidden md:block absolute left-2 top-1/2 -translate-y-1/2 bg-transparent border-2 border-[#E53A3A] text-[#E53A3A] p-2 rounded-lg md:hover:bg-gradient-to-r md:hover:from-[#E53A3A] md:hover:to-[#D98C1F] md:hover:text-white md:hover:border-transparent md:hover:shadow-2xl md:hover:shadow-[#E53A3A]/50 md:hover:scale-110 active:scale-95 focus:outline-none transition-[background,transform,shadow,opacity,border,color] duration-300 z-10 disabled:opacity-30 disabled:cursor-not-allowed backdrop-blur-sm opacity-60 md:hover:opacity-100","aria-label":"Previous testimonial",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"3",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:k,className:"hidden md:block absolute right-2 top-1/2 -translate-y-1/2 bg-transparent border-2 border-[#E53A3A] text-[#E53A3A] p-2 rounded-lg md:hover:bg-gradient-to-r md:hover:from-[#E53A3A] md:hover:to-[#D98C1F] md:hover:text-white md:hover:border-transparent md:hover:shadow-2xl md:hover:shadow-[#E53A3A]/50 md:hover:scale-110 active:scale-95 focus:outline-none transition-[background,transform,shadow,opacity,border,color] duration-300 z-10 disabled:opacity-30 disabled:cursor-not-allowed backdrop-blur-sm opacity-60 md:hover:opacity-100","aria-label":"Next testimonial",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"3",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]})},Va=({onGetStarted:o,onOpenAbout:i,onOpenPrivacy:c,onOpenRefund:a,onOpenTerms:u,onOpenContact:x,onDirectNavigation:h})=>{const[k,w]=n.useState(""),[p,y]=n.useState(!1),[U,v]=n.useState(""),[N,C]=n.useState(null),[R,te]=n.useState(0),_=n.useRef(null),[$,A]=n.useState(!1),[b,t]=n.useState({}),M=n.useRef(null),ce=n.useRef([]);n.useEffect(()=>{const j=window.location.pathname;j!=="/"&&j!==""&&h(j)},[]),n.useEffect(()=>{const j=g=>{g.preventDefault(),console.log("ðŸš« [Landing Page] Prevented PWA install prompt - only show on login/app")};return window.addEventListener("beforeinstallprompt",j),()=>{window.removeEventListener("beforeinstallprompt",j)}},[]),n.useEffect(()=>{const j=()=>{te(window.scrollY)};return window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)},[]),n.useEffect(()=>{if(!(window.innerWidth<768))return;const g={threshold:.6,rootMargin:"0px"},F={threshold:.7,rootMargin:"0px"},L=(q,se,ie)=>{q.forEach(Se=>{se(typeof ie=="number"?ye=>({...ye,[ie]:Se.isIntersecting}):Se.isIntersecting)})},Y=new IntersectionObserver(q=>L(q,A),F);M.current&&Y.observe(M.current);const ae=ce.current.map((q,se)=>{if(!q)return null;const ie=new IntersectionObserver(Se=>L(Se,t,se),g);return ie.observe(q),ie});return()=>{Y.disconnect(),ae.forEach(q=>q==null?void 0:q.disconnect())}},[]);const ue=async j=>{if(j.preventDefault(),!!k){y(!0),v("");try{const g=await la.addToWaitlist(k,"landing_page");g.success?(g.alreadyExists?v("You're already on our waitlist! We'll email you when access is ready."):v("Thanks for joining! We'll email you when access is ready."),w("")):v(g.error||"Failed to join waitlist. Please try again.")}catch(g){console.error("Waitlist submission error:",g),E.error("Failed to join waitlist. Please try again."),v("An unexpected error occurred. Please try again.")}finally{y(!1)}}},G=j=>g=>{var F;g.preventDefault(),(F=document.getElementById(j))==null||F.scrollIntoView({behavior:"smooth"})};return e.jsxs("div",{ref:_,className:"text-white font-inter relative custom-scrollbar animate-fade-in",style:{backgroundColor:"#111111",minHeight:"100vh",height:"auto",overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch"},children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full -z-15 pointer-events-none hero-glow-texture-top"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-full -z-15 pointer-events-none hero-glow-texture-bottom"}),e.jsx("div",{className:"absolute inset-0 -z-12 pointer-events-none",children:[...Array(40)].map((j,g)=>e.jsx("div",{className:"absolute w-1 h-1 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] rounded-full opacity-40 animate-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,transform:`translateY(${R*(.2+Math.random()*.4)}px)`,animationDelay:`${Math.random()*3}s`,animationDuration:`${4+Math.random()*4}s`}},g))}),e.jsx("div",{className:"absolute inset-0 -z-12 pointer-events-none",children:[...Array(16)].map((j,g)=>e.jsx("div",{className:"absolute opacity-15 animate-drift",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,transform:`translateY(${R*(.1+Math.random()*.3)}px)`,animationDelay:`${Math.random()*4}s`,animationDuration:`${6+Math.random()*4}s`},children:e.jsx("div",{className:"w-4 h-4 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] transform rotate-45"})},`shape-${g}`))}),e.jsx("div",{className:"absolute inset-0 -z-10 opacity-10 pointer-events-none",style:{background:"linear-gradient(90deg, #FF4D4D10 1px, transparent 1px), linear-gradient(0deg, #FF4D4D10 1px, transparent 1px)",backgroundSize:"30px 30px"}}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-64 bg-gradient-to-b from-[#111111] via-[#111111]/80 to-transparent -z-5 pointer-events-none"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-64 bg-gradient-to-t from-[#111111] via-[#111111]/80 to-transparent -z-5 pointer-events-none"}),e.jsxs("main",{children:[e.jsx("section",{className:"relative pt-20 pb-6 md:pb-8 text-center",children:e.jsxs("div",{className:"container mx-auto px-6 relative overflow-visible",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 md:gap-4 mb-4 md:mb-10 overflow-visible",children:[e.jsx(ss,{className:"h-32 w-32",spinOnce:!0}),e.jsx("h1",{className:"text-6xl md:text-7xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-[#FF4D4D] to-[#FFAB40] leading-none py-2",style:{lineHeight:"1.3",paddingTop:"0.25rem",paddingBottom:"0.25rem",display:"block",overflow:"visible",minHeight:"1.3em",height:"auto"},children:"Otagon"})]}),e.jsx("h2",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold tracking-tight mb-3 md:mb-6 text-white leading-tight",children:"Never Get Stuck Again"}),e.jsx("p",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl text-neutral-300 mb-6 md:mb-8 font-medium px-4",children:"Get instant, spoiler-free hints without leaving your game"}),e.jsx("div",{className:"hidden",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg text-neutral-300",children:[e.jsx("div",{className:"flex -space-x-2",children:[...Array(5)].map((j,g)=>e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden",children:e.jsx("img",{src:`/images/landing/${g+1}.png`,alt:`Gamer ${g+1}`,className:"w-full h-full rounded-full object-cover"})},g))}),e.jsxs("span",{className:"ml-2",children:[e.jsx("span",{className:"font-bold text-white",children:"1000+"})," gamers waiting"]})]}),e.jsx("div",{className:"hidden sm:block w-px h-6 bg-neutral-600"}),e.jsxs("div",{className:"flex items-center gap-2 text-lg text-neutral-300",children:[e.jsx("svg",{className:"w-5 h-5 text-[#FFAB40]",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"})}),e.jsxs("span",{children:["Trusted by ",e.jsx("span",{className:"font-bold text-white",children:"50+"})," beta testers"]})]})]})}),e.jsx("div",{ref:M,className:"relative mx-auto my-16 w-full max-w-2xl h-auto rounded-3xl bg-black/60 backdrop-blur-xl p-2 shadow-2xl animate-glow-pulse",children:e.jsxs("div",{className:"bg-transparent rounded-2xl p-6 space-y-6",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("p",{className:"text-base text-[#F5F5F5] bg-gradient-to-r from-rose-900/15 to-rose-800/15 py-3 px-6 rounded-2xl rounded-br-none border-2 border-rose-500/40 backdrop-blur-sm shadow-lg",children:"What should I do here?"})}),e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"border-2 border-neutral-700/60 bg-gradient-to-r from-neutral-800/15 to-neutral-700/15 p-6 rounded-2xl rounded-bl-none max-w-[80%] text-left backdrop-blur-sm shadow-lg",children:[e.jsx("p",{className:"text-base font-bold text-white mb-2",children:"Hint:"}),e.jsx("p",{className:"text-base text-[#F5F5F5] leading-relaxed",children:"The contraption on the far wall seems to be missing a gear. Perhaps there's one nearby?"})]})})]})}),e.jsx("p",{className:"text-xl md:text-2xl text-neutral-300 max-w-4xl mx-auto mb-8 leading-relaxed",children:"Otagon sees your screen and gives you the perfect nudge to keep you playingâ€”without ruining the surprise. The fastest way to snap a screenshot, share with friends, and get gaming hints in seconds. Stop searching, start playing."}),e.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[e.jsxs("form",{id:"waitlist-form",onSubmit:ue,className:"flex flex-col sm:flex-row gap-4 mb-4",children:[e.jsx("div",{className:"flex-grow relative group",children:e.jsx("input",{type:"email",value:k,onChange:j=>w(j.target.value),placeholder:"Enter your email address",required:!0,disabled:p,className:"w-full bg-[#0A0A0A]/80 border-2 border-neutral-700/60 rounded-xl py-4 sm:py-5 px-4 sm:px-6 text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-[#E53A3A]/50 focus:border-[#E53A3A]/80 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed text-base sm:text-lg backdrop-blur-sm hover:border-neutral-600/80 hover:bg-[#0A0A0A] text-center sm:text-left","aria-label":"Email for waitlist"})}),e.jsxs("button",{type:"submit",disabled:p,className:"bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] text-white font-bold py-4 sm:py-5 px-8 sm:px-12 rounded-xl transition-all duration-300 transform md:hover:scale-105 md:hover:shadow-2xl md:hover:shadow-[#E53A3A]/30 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:active:scale-100 text-base sm:text-lg relative overflow-hidden group min-h-[56px]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("span",{className:"relative z-10",children:p?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Joining..."]}):"Join the Waitlist"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6 text-sm text-neutral-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{children:"No spam, ever"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{children:"Free to join"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{children:"Early access"})]})]})]}),U&&e.jsx("div",{className:`mt-6 text-center text-lg ${U.includes("Thanks")||U.includes("already on our waitlist")?"text-green-400":"text-red-400"}`,children:U}),e.jsx("p",{className:"text-sm text-neutral-400 mt-4 hidden",children:"Join thousands of gamers on the waitlist!"})]})}),e.jsx("section",{className:"py-10 md:py-14 bg-transparent relative",children:e.jsxs("div",{className:"container mx-auto px-8 max-w-6xl relative",children:[e.jsxs("div",{className:"text-center mb-8 md:mb-10 animate-fade-slide-up",children:[e.jsx("h2",{className:"text-5xl md:text-6xl font-bold tracking-tight text-white mb-6",children:"How It Works"}),e.jsx("p",{className:"text-xl text-neutral-300 mt-6 leading-relaxed",children:"Get unstuck, get smart, get back to gamingâ€”all without leaving your game."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[e.jsxs("div",{className:"text-center animate-fade-slide-up",children:[e.jsx("div",{className:"flex items-center justify-center mx-auto mb-6",children:e.jsxs("svg",{className:"w-16 h-16",fill:"url(#keyboard-gradient)",viewBox:"0 0 16 16",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"keyboard-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#E53A3A"}),e.jsx("stop",{offset:"100%",stopColor:"#D98C1F"})]})}),e.jsx("path",{d:"M0 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm13 .25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5a.25.25 0 0 0-.25.25zM2.25 8a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 3 8.75v-.5A.25.25 0 0 0 2.75 8h-.5zM4 8.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 5 8.75v-.5A.25.25 0 0 0 4.75 8h-.5a.25.25 0 0 0-.25.25zM6.25 8a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 7 8.75v-.5A.25.25 0 0 0 6.75 8h-.5zM8 8.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 9 8.75v-.5A.25.25 0 0 0 8.75 8h-.5a.25.25 0 0 0-.25.25zM13.25 8a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5zm0 2a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5zm-3-2a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h1.5a.25.25 0 0 0 .25-.25v-.5A.25.25 0 0 0 10.75 8h-1.5zm.75 2.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5a.25.25 0 0 0-.25.25zM11.25 6a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5zM9 6.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5A.25.25 0 0 0 9.75 6h-.5a.25.25 0 0 0-.25.25zM7.25 6a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 8 6.75v-.5A.25.25 0 0 0 7.75 6h-.5zM5 6.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 6 6.75v-.5A.25.25 0 0 0 5.75 6h-.5a.25.25 0 0 0-.25.25zM2.25 6a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 4 6.75v-.5A.25.25 0 0 0 3.75 6h-1.5zM2 10.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5a.25.25 0 0 0-.25.25zM4.25 10a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h5.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-5.5z"})]})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Press a Hotkey on Your PC"}),e.jsx("p",{className:"text-lg text-neutral-300 leading-relaxed",children:"Instantly capture and analyze PC screenshots"})]}),e.jsxs("div",{className:"text-center animate-fade-slide-up",children:[e.jsx("div",{className:"flex items-center justify-center mx-auto mb-6",children:e.jsxs("svg",{className:"w-16 h-16",fill:"url(#message-gradient)",viewBox:"0 0 24 24",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"message-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#E53A3A"}),e.jsx("stop",{offset:"100%",stopColor:"#D98C1F"})]})}),e.jsx("path",{d:"M2 8.994A5.99 5.99 0 0 1 8 3h8c3.313 0 6 2.695 6 5.994V21H8c-3.313 0-6-2.695-6-5.994V8.994zM14 11v2h2v-2h-2zm-6 0v2h2v-2H8z"})]})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Get an Instant Hint and Gameplay Screenshot on Your Phone"}),e.jsx("p",{className:"text-lg text-neutral-300 leading-relaxed",children:"AI analyzes your situation and delivers spoiler-free hints to your mobile or second monitor"})]}),e.jsxs("div",{className:"text-center animate-fade-slide-up",children:[e.jsx("div",{className:"flex items-center justify-center mx-auto mb-6",children:e.jsxs("svg",{className:"w-16 h-16",fill:"url(#joystick-gradient)",viewBox:"0 0 24 24",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"joystick-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#E53A3A"}),e.jsx("stop",{offset:"100%",stopColor:"#D98C1F"})]})}),e.jsx("path",{d:"M16 6H8a6 6 0 0 0 0 12h8a6 6 0 0 0 0-12zm-5 7H9v2H7v-2H5v-2h2V9h2v2h2v2zm3.5 2a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3-3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"})]})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Keep Playing"}),e.jsx("p",{className:"text-lg text-neutral-300 leading-relaxed",children:"Get the nudge you need and dive back into action without alt-tabbing or overlays"})]})]})]})}),e.jsx("section",{id:"features",className:"py-10 md:py-14 bg-transparent relative",children:e.jsxs("div",{className:"container mx-auto px-8 max-w-6xl relative",children:[e.jsxs("div",{className:"text-center mb-8 md:mb-10 animate-fade-slide-up",children:[e.jsx("h2",{className:"text-5xl md:text-6xl font-bold tracking-tight text-white mb-6 leading-tight",style:{lineHeight:"1.3",minHeight:"1.3em",height:"auto",paddingTop:"0.5rem",paddingBottom:"0.5rem"},children:"Your Journey From First Moment to Victory"}),e.jsx("p",{className:"text-xl text-neutral-300 mt-6 leading-relaxed",children:"Features built to match your gaming style, not slow you down"})]}),e.jsx(za,{features:[{title:"Powered by Google Gemini",description:"Experience cutting-edge AI assistance powered by Google's advanced Gemini technology for accurate, context-aware gaming help.",image:Ra,isGemini:!0},{title:"From First Screenshot to Victory",description:"Upload a screenshot. Otagon identifies your game and becomes your personal guideâ€”no spoilers, full context.",image:Pa},{title:"Play Your Way",description:"Story-driven explorer? Completionist? Speedrunner? Tell us once, and every hint, strategy, and insight matches your playstyle.",image:Da},{title:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Stay Focused, Stay Ahead"}),e.jsx(Bs,{})]}),description:"Skip the wiki-hunting. Otagon provides quest tips, secret locations, build optimizationâ€”all without spoiling your discovery.",image:Ba,altText:"Stay Focused, Stay Ahead - Pro feature showing quest tips and build optimization"},{title:"Play From Anywhere",description:"Gaming on console? Manually upload screenshots from your phone. Help arrives instantly in the same conversation.",image:Oa},{title:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Hands-Free & AI Mode Toggle"}),e.jsx(Bs,{})]}),description:"Pro users can enable hands-free mode to get hints read aloud, and toggle AI analysis on/off to save screenshots for social sharing without using credits.",image:La,altText:"Hands-Free & AI Mode Toggle - Pro feature with voice commands and AI analysis controls"},{title:"Build Your Game Library",description:"Track multiple games at once. Each has its own conversation, progress bar, and AI-generated insight tabs tailored to that game's genre.",image:_a}]})]})}),e.jsx("section",{id:"installation",className:"py-10 md:py-14 bg-transparent relative",children:e.jsxs("div",{className:"container mx-auto px-8 max-w-6xl relative",children:[e.jsxs("div",{className:"text-center mb-8 md:mb-10 animate-fade-slide-up",children:[e.jsx("h2",{className:"text-5xl md:text-6xl font-bold tracking-tight text-white mb-6",children:"Install Otagon Everywhere"}),e.jsx("p",{className:"text-xl text-neutral-300 mt-6 leading-relaxed",children:"Access on mobile, sync with PC for seamless gaming"})]}),e.jsx(Ta,{pcAppImage:Ga})]})}),e.jsx("section",{className:"py-10 md:py-14 bg-transparent relative",children:e.jsxs("div",{className:"container mx-auto px-8 max-w-6xl relative",children:[e.jsx("div",{className:"text-center mb-8 md:mb-10 animate-fade-slide-up",children:e.jsx("h2",{className:"text-5xl md:text-6xl font-bold tracking-tight text-white mb-6",children:"For Every Challenge, In Every World"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12 lg:gap-16 py-6 md:py-10 lg:py-14",children:[e.jsxs("div",{className:"text-center animate-fade-slide-up",children:[e.jsx("div",{className:"flex items-center justify-center mx-auto mb-4",children:e.jsxs("svg",{className:"w-16 h-16",fill:"url(#souls-gradient)",viewBox:"0 0 800 800",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"souls-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#E53A3A"}),e.jsx("stop",{offset:"100%",stopColor:"#D98C1F"})]})}),e.jsx("path",{d:"M750.5,225H576v-75h40c6.6,0,12-5.4,12-12V12c0-6.6-5.4-12-12-12h-89.5h-253H184c-6.6,0-12,5.4-12,12v126c0,6.6,5.4,12,12,12h40v75H49.5C22.2,225,0,247.2,0,274.5v476C0,777.8,22.2,800,49.5,800h701c27.3,0,49.5-22.2,49.5-49.5v-476C800,247.2,777.8,225,750.5,225z M299,150h202v106H299V150z M725,725H75V300h152.6c7.3,18.2,25.1,31,45.9,31h253c20.8,0,38.6-12.8,45.9-31H725V725z"}),e.jsx("path",{d:"M383.6,428h-13.5c-0.7,0-1.3,0.1-2,0.2c-2.5,0.3-4.9,1.5-6.8,3.4l-29.9,29.9l-29.9-29.9c-1.9-1.9-4.3-3-6.8-3.4c-0.7-0.1-1.3-0.2-2-0.2h-13.5c-6.6,0-12,5.4-12,12v155c0,6.6,5.4,12,12,12h13.5c6.6,0,12-5.4,12-12V487.8l17.7,17.7c2.5,2.5,5.8,3.6,9.1,3.5c3.3,0.2,6.6-1,9.1-3.5l17.7-17.7V595c0,6.6,5.4,12,12,12h13.5c6.6,0,12-5.4,12-12V440C395.6,433.4,390.2,428,383.6,428z"}),e.jsx("path",{d:"M520.9,427h-67c-0.4,0-0.8,0-1.1,0.1c-0.4,0-0.7-0.1-1.1-0.1h-13.5c-6.6,0-12,5.4-12,12v155c0,6.6,5.4,12,12,12h13.5c6.6,0,12-5.4,12-12v-59h57.3c6.6,0,12-5.4,12-12v-6v-7v-58v-2v-11C532.9,432.4,527.5,427,520.9,427z M495.9,498h-32.3v-34h32.3V498z"})]})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Souls-likes & Action RPGs"}),e.jsx("p",{className:"text-neutral-300 leading-relaxed",children:"Master tough bosses and find hidden paths without rage-quitting. We'll give you a hint, not the easy way out."})]}),e.jsxs("div",{className:"text-center animate-fade-slide-up",children:[e.jsx("div",{className:"flex items-center justify-center mx-auto mb-4",children:e.jsxs("svg",{className:"w-16 h-16",viewBox:"0 0 64 64",children:[e.jsx("path",{fill:"#ea8039",d:"M53.5,13.81l2.83-6.13-6.1,2.81a24.35,24.35,0,0,1-6.93,2.2A7.16,7.16,0,0,0,38.18,16a7.13,7.13,0,1,0,13,5.22A34.82,34.82,0,0,1,53.5,13.81Z"}),e.jsx("path",{fill:"#ea8039",d:"M50.3,23.49a9.21,9.21,0,0,1-4.13-2.4,9.44,9.44,0,0,1-.8-12.41,9.42,9.42,0,0,0-6.18,16.07l.07.06c.1.1.2.18.3.27a7.12,7.12,0,0,0,9.74-.3A7.31,7.31,0,0,0,50.3,23.49Z"}),e.jsx("path",{fill:"#ea8039",d:"M40.51,13.71a9.43,9.43,0,0,0,14.82,4.92,9.42,9.42,0,0,1-16.07,6.18l-.07-.07-.27-.3a7,7,0,0,1,1.59-10.73Z"}),e.jsx("path",{fill:"#e8a63a",d:"M37.76,15.2l-.12-6.75-4.27,5.18a24.26,24.26,0,0,1-5.28,5,7.12,7.12,0,1,0,10.65,8.29,7,7,0,0,0,.19-4A34.56,34.56,0,0,1,37.76,15.2Z"}),e.jsx("path",{fill:"#ea8039",d:"M39.08,25.31a9.36,9.36,0,0,1-10.76-6.86,9.48,9.48,0,0,1-.11-4.34,9.42,9.42,0,0,0,1.42,17.16l.09,0,.39.11a7.12,7.12,0,0,0,8.63-4.5A6.44,6.44,0,0,0,39.08,25.31Z"}),e.jsx("path",{fill:"#e8a63a",d:"M23.37,25.17l-3.61-4,.17,5.35a19.15,19.15,0,0,1-.55,5.75,5.73,5.73,0,0,0,.84,4.79,5.67,5.67,0,1,0,7.88-7.93A27.66,27.66,0,0,1,23.37,25.17Z"}),e.jsx("path",{fill:"#ea8039",d:"M29.47,30.52a7.41,7.41,0,0,1-3,2.28,7.5,7.5,0,0,1-7-.74,7.42,7.42,0,0,1-2.34-2.54,7.49,7.49,0,0,0,9.84,9.53L27,39l.3-.13a5.67,5.67,0,0,0,2.8-7.23A5.19,5.19,0,0,0,29.47,30.52Z"}),e.jsx("path",{fill:"#e85b23",d:"M48.8,26.25l6.76.12-5.19,4.27a24.27,24.27,0,0,0-5,5.28,7.13,7.13,0,0,1-5.22,3.16,7,7,0,0,1-6.77-3.33A7.13,7.13,0,0,1,37.1,25.26a7,7,0,0,1,4-.19A35,35,0,0,0,48.8,26.25Z"}),e.jsx("path",{fill:"#ea8039",d:"M38.69,24.92a9.26,9.26,0,0,0,.37,4.76A9.45,9.45,0,0,0,49.89,35.8a9.41,9.41,0,0,1-17.15-1.42.29.29,0,0,1,0-.1c-.05-.12-.08-.26-.12-.38a7.13,7.13,0,0,1,4.51-8.64A7.53,7.53,0,0,1,38.69,24.92Z"}),e.jsx("path",{fill:"#e85b23",d:"M38.84,40.63l4,3.61-5.34-.16a19.54,19.54,0,0,0-5.76.54,5.67,5.67,0,1,1,3.14-8.72A27.79,27.79,0,0,0,38.84,40.63Z"}),e.jsx("path",{fill:"#ea8039",d:"M33.48,34.53a7.52,7.52,0,0,0,1,12.39A7.49,7.49,0,0,1,25,37.07L25,37c0-.1.09-.19.14-.29a5.66,5.66,0,0,1,7.22-2.81A6.19,6.19,0,0,1,33.48,34.53Z"}),e.jsx("path",{fill:"#e5cfb3",d:"M46.6,17.16,36.77,20.3a1.51,1.51,0,0,0-.53.32L22,34.91a5.05,5.05,0,0,0,0,7.14h0a5,5,0,0,0,7.14,0L43.38,27.77a1.26,1.26,0,0,0,.32-.53l3.15-9.84A.19.19,0,0,0,46.6,17.16Z"}),e.jsx("path",{fill:"#d1baa1",d:"M29.09,42.05,43.38,27.77a1.26,1.26,0,0,0,.32-.53l3.15-9.84a.21.21,0,0,0-.05-.2L22,42.05A5,5,0,0,0,29.09,42.05Z"}),e.jsx("path",{fill:"#f4e4d3",d:"M46.85,17.4a.19.19,0,0,0-.25-.24l-9.45,3-3,9.45a.19.19,0,0,0,.24.25l9.45-3Z"}),e.jsx("path",{fill:"#f9f3ed",d:"M22,37.48,36.32,23.19a1.26,1.26,0,0,1,.53-.32L46,19.93l.81-2.53a.19.19,0,0,0-.25-.24L36.77,20.3a1.51,1.51,0,0,0-.53.32L22,34.91a5.06,5.06,0,0,0-1.27,5A5,5,0,0,1,22,37.48Z"}),e.jsx("path",{fill:"#5df9e6",d:"M43.3,27.07l3.14-9.83a.18.18,0,0,0,0-.2L45,18.44l-2.51,7.83a1.26,1.26,0,0,1-.32.53L27.88,41.09a5,5,0,0,1-2.44,1.33,5,5,0,0,1-2.56.42,5,5,0,0,0,5.81-1L43,27.6A1.32,1.32,0,0,0,43.3,27.07Z"}),e.jsx("path",{fill:"#041256",d:"M25.52,44.53a6,6,0,0,1-4.28-10.32L35.53,19.92a2.3,2.3,0,0,1,.93-.57L46.3,16.2h0a1.21,1.21,0,0,1,1.21.3,1.18,1.18,0,0,1,.29,1.21l-3.15,9.83a2.22,2.22,0,0,1-.56.93L29.8,42.76A6,6,0,0,1,25.52,44.53Zm19.9-25.95-8.35,2.67a.57.57,0,0,0-.13.08L22.66,35.62a4,4,0,0,0,0,5.73,4.07,4.07,0,0,0,5.73,0L42.67,27.06a.35.35,0,0,0,.08-.13Z"}),e.jsx("rect",{fill:"#d0e0ef",height:"2.61",rx:"0.89",transform:"translate(36.31 -2.85) rotate(45)",width:"15.43",x:"13.88",y:"41.11"}),e.jsx("path",{fill:"#fff",d:"M16.5,38.58a.89.89,0,0,1,1.26,0l9.29,9.29.29-.29a.9.9,0,0,0,0-1.27l-9.65-9.65a.91.91,0,0,0-1.26,0l-.58.58a.9.9,0,0,0,0,1.27l.36.36Z"}),e.jsx("path",{fill:"#5df9e6",d:"M26.9,46.31l-9.65-9.65a.83.83,0,0,0-.51-.23l9.05,9a.9.9,0,0,1,0,1.27l-.58.58a.93.93,0,0,1-.75.24l.6.6a.89.89,0,0,0,1.26,0l.58-.58A.9.9,0,0,0,26.9,46.31Z"}),e.jsx("path",{fill:"#385272",d:"M18.42,50.73l4.82-4.83L18.1,40.76l-4.87,4.87a2.55,2.55,0,0,1-1.39.69,5,5,0,1,0,5.83,5.9A2.86,2.86,0,0,1,18.42,50.73Z"}),e.jsx("rect",{fill:"#577491",height:"0.54",transform:"translate(37.3 -0.51) rotate(45)",width:"5.5",x:"16.51",y:"44.5"}),e.jsx("rect",{fill:"#577491",height:"0.54",transform:"translate(37.82 0.75) rotate(45)",width:"5.5",x:"15.26",y:"45.75"}),e.jsx("rect",{fill:"#577491",height:"0.54",transform:"translate(38.33 2) rotate(45)",width:"5.5",x:"14",y:"47"}),e.jsx("rect",{fill:"#577491",height:"0.54",transform:"translate(38.85 3.25) rotate(45)",width:"5.5",x:"12.75",y:"48.26"}),e.jsx("path",{fill:"#5df9e6",d:"M17.41,51.72a2.72,2.72,0,0,1,.75-1.49L23,45.4l-5.15-5.14-.33.33,4.34,4.34L17,49.75a2.79,2.79,0,0,0-.75,1.5,5,5,0,0,1-1.39,2.62A5,5,0,0,1,10,55.15a5,5,0,0,0,7.46-3.43Z"}),e.jsx("path",{fill:"#577491",d:"M8.91,50a5,5,0,0,1,3.33-2.2,2.55,2.55,0,0,0,1.4-.69l5.42-5.42-1-1-4.87,4.87a2.55,2.55,0,0,1-1.39.69,5,5,0,0,0-3.72,7A4.94,4.94,0,0,1,8.91,50Z"}),e.jsx("path",{fill:"#041256",d:"M26.13,49.42a1.88,1.88,0,0,1-1.34-.56l-9.65-9.65a1.87,1.87,0,0,1,0-2.67l.58-.58a1.9,1.9,0,0,1,2.68,0l9.65,9.65a1.91,1.91,0,0,1,0,2.68l-.58.57A1.89,1.89,0,0,1,26.13,49.42Zm.07-2h0Zm-9.57-9.57,9.52,9.52.41-.45-9.5-9.5Zm10,9h0Z"}),e.jsx("path",{fill:"#041256",d:"M12.73,57.33a5.83,5.83,0,0,1-.59,0,6.1,6.1,0,0,1-4.45-2.67,6,6,0,0,1,4-9.29,1.61,1.61,0,0,0,.86-.42l4.87-4.87a1,1,0,1,1,1.42,1.42l-4.87,4.87a3.63,3.63,0,0,1-1.93,1,4.08,4.08,0,0,0-2.68,1.76,4,4,0,0,0,6.25,5.07A4,4,0,0,0,16.69,52a3.82,3.82,0,0,1,1-2l4.83-4.82A1,1,0,0,1,24,46.61l-4.82,4.82a2,2,0,0,0-.48,1A5.91,5.91,0,0,1,17,55.55,6,6,0,0,1,12.73,57.33Z"}),e.jsx("path",{fill:"#041256",d:"M13.16,52A.83.83,0,0,1,12,52a.85.85,0,0,1,0-1.18A.83.83,0,0,1,13.16,52Z"})]})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"RPGs"}),e.jsx("p",{className:"text-neutral-300 leading-relaxed",children:"Uncover deep lore and track complex quests without accidentally reading major story spoilers."})]}),e.jsxs("div",{className:"text-center animate-fade-slide-up",children:[e.jsx("div",{className:"flex items-center justify-center mx-auto mb-4",children:e.jsxs("svg",{className:"w-16 h-16",viewBox:"0 0 500 500",children:[e.jsx("path",{fill:"#E53A3A",d:"M202.78,371.74a34.27,34.27,0,0,1,36.11-13.5,34,34,0,0,1-8.18,67.09,34.17,34.17,0,0,1-27.93-14.46v76.51h171.7A20.55,20.55,0,0,0,395,466.83V295.23h-76.9a34,34,0,1,0-38.35,0h-77Z"}),e.jsx("path",{fill:"#D98C1F",d:"M362.63,295.23v171.6a20.55,20.55,0,0,1-20.55,20.55h32.4A20.55,20.55,0,0,0,395,466.83V295.23Z"}),e.jsx("path",{fill:"#E53A3A",d:"M126.17,295.23a34,34,0,1,1-39.13,0H10.53v171.6a20.55,20.55,0,0,0,20.55,20.55h171.7V410.47a33.83,33.83,0,0,0,32,14.63,34,34,0,0,0-4-67.82,33.82,33.82,0,0,0-28,14.85v-76.9Z"}),e.jsx("path",{fill:"#D98C1F",d:"M374.46,203.72a33.84,33.84,0,1,1,38.92,0h76.09V34a21.33,21.33,0,0,0-21.33-21.33H298.27V89.1a33.64,33.64,0,0,0-31.84-14.54,33.84,33.84,0,0,0,4,67.45,33.63,33.63,0,0,0,27.85-14.77v76.48Z"}),e.jsx("path",{fill:"#E53A3A",d:"M468.14,12.62h-32.4A21.33,21.33,0,0,1,457.07,34V203.72h32.4V34A21.33,21.33,0,0,0,468.14,12.62Z"}),e.jsx("path",{fill:"#D98C1F",d:"M202.78,218.72a34.27,34.27,0,0,1-36.11,13.5,34,34,0,0,1,8.18-67.09,34.17,34.17,0,0,1,27.93,14.46V103.08H31.08a20.55,20.55,0,0,0-20.55,20.54V295.23H87.44a34,34,0,1,0,38.34,0h77Z"})]})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Puzzle Games"}),e.jsx("p",{className:"text-neutral-300 leading-relaxed",children:'Get a clue for that brain-bending puzzle, not the entire solution. Preserve your "aha!" moment.'})]}),e.jsxs("div",{className:"text-center animate-fade-slide-up",children:[e.jsx("div",{className:"flex items-center justify-center mx-auto mb-4",children:e.jsx("img",{src:"/icons/openworld.svg",alt:"Open World Adventures",className:"w-16 h-16"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Open-World Adventures"}),e.jsx("p",{className:"text-neutral-300 leading-relaxed",children:"Hunt down every last collectible and conquer secret challenges with a gentle nudge in the right direction."})]}),e.jsxs("div",{className:"text-center animate-fade-slide-up",children:[e.jsx("div",{className:"flex items-center justify-center mx-auto mb-4",children:e.jsxs("svg",{className:"w-16 h-16",viewBox:"0 0 1367 1562",children:[e.jsx("rect",{fill:"#E62129",height:"97.6415",width:"780.786",x:"293"}),e.jsx("rect",{fill:"#E62129",height:"97.5262",width:"976.069",x:"195",y:"98"}),e.jsx("rect",{fill:"#E62129",height:"97.6415",width:"195.283",x:"195",y:"195"}),e.jsx("rect",{fill:"#E62129",height:"97.6415",width:"195.168",x:"976",y:"195"}),e.jsx("rect",{fill:"#E62129",height:"195.168",width:"97.6415",x:"293",y:"293"}),e.jsx("rect",{fill:"#E62129",height:"195.168",width:"97.5262",x:"390",y:"390"}),e.jsx("rect",{fill:"#E62129",height:"195.168",width:"97.6415",x:"976",y:"293"}),e.jsx("rect",{fill:"#E62129",height:"195.168",width:"97.5262",x:"879",y:"390"}),e.jsx("rect",{fill:"#E62129",height:"97.6415",width:"780.786",x:"293",y:"586"}),e.jsx("rect",{fill:"#E62129",height:"97.5262",width:"585.503",x:"391",y:"683"}),e.jsx("rect",{fill:"#E62129",height:"390.451",width:"97.5262",x:"98",y:"488"}),e.jsx("rect",{fill:"#E62129",height:"97.1804",width:"97.6415",x:"195",y:"781"}),e.jsx("rect",{fill:"#E62129",height:"390.335",width:"97.6415",y:"683"}),e.jsx("rect",{fill:"#E62129",height:"390.451",width:"97.5262",x:"1171",y:"488"}),e.jsx("rect",{fill:"#E62129",height:"97.1804",width:"97.6415",x:"1074",y:"781"}),e.jsx("rect",{fill:"#E62129",height:"390.335",width:"97.6415",x:"1269",y:"683"}),e.jsx("rect",{fill:"#F98812",height:"292.809",width:"97.6415",x:"195",y:"293"}),e.jsx("rect",{fill:"#F98812",height:"97.6415",width:"97.6415",x:"293",y:"488"}),e.jsx("rect",{fill:"#F98812",height:"292.809",width:"97.6415",x:"1074",y:"293"}),e.jsx("rect",{fill:"#F98812",height:"97.6415",width:"97.6415",x:"976",y:"488"}),e.jsx("rect",{fill:"#F98812",height:"195.283",width:"97.5262",x:"390",y:"195"}),e.jsx("rect",{fill:"#F98812",height:"195",width:"198",x:"583",y:"195"}),e.jsx("rect",{fill:"#F98812",height:"195.283",width:"99.1401",x:"877",y:"195"}),e.jsx("rect",{fill:"#F98812",height:"195",width:"391",x:"488",y:"390"}),e.jsx("rect",{fill:"#1D1819",height:"195.283",width:"94.9901",x:"488",y:"195"}),e.jsx("rect",{fill:"#1D1819",height:"195.283",width:"96.1429",x:"781",y:"195"}),e.jsx("rect",{fill:"#990000",height:"195.629",width:"97.6415",x:"195",y:"586"}),e.jsx("rect",{fill:"#990000",height:"292.348",width:"97.6415",x:"293",y:"684"}),e.jsx("rect",{fill:"#990000",height:"293",width:"195",x:"390",y:"781"}),e.jsx("rect",{fill:"#990000",height:"195.629",width:"97.7568",x:"1074",y:"586"}),e.jsx("rect",{fill:"#990000",height:"292.809",width:"97.5262",x:"976",y:"684"}),e.jsx("rect",{fill:"#990000",height:"293",width:"195",x:"781",y:"781"}),e.jsx("rect",{fill:"#990000",height:"195",width:"195",x:"586",y:"781"}),e.jsx("rect",{fill:"#F98812",height:"97.5262",width:"195.168",y:"1171"}),e.jsx("rect",{fill:"#F98812",height:"97.6415",width:"292.809",y:"1074"}),e.jsx("rect",{fill:"#F98812",height:"97.6415",width:"292.809",x:"1074",y:"1074"}),e.jsx("rect",{fill:"#F98812",height:"97.5262",width:"195.744",x:"1171",y:"1171"}),e.jsx("rect",{fill:"#E62129",height:"97.5262",width:"195.168",x:"586",y:"976"}),e.jsx("rect",{fill:"#E62129",height:"97.6415",width:"780.786",x:"293",y:"1074"}),e.jsx("rect",{fill:"#E62129",height:"97.5262",width:"196.897",x:"584",y:"1171"}),e.jsx("rect",{fill:"#E62129",height:"97.6415",width:"195.283",x:"195",y:"1269"}),e.jsx("rect",{fill:"#E62129",height:"97.6415",width:"390.451",x:"195",y:"1366"}),e.jsx("rect",{fill:"#E62129",height:"97.5262",width:"195.052",x:"293",y:"1464"}),e.jsx("rect",{fill:"#E62129",height:"97.5262",width:"195.168",x:"878",y:"1464"}),e.jsx("rect",{fill:"#E62129",height:"97.6415",width:"390.451",x:"781",y:"1366"}),e.jsx("rect",{fill:"#E62129",height:"97.6415",width:"195.168",x:"976",y:"1269"}),e.jsx("rect",{fill:"#F98812",height:"293",width:"195",x:"98",y:"878"}),e.jsx("rect",{fill:"#F98812",height:"293",width:"195",x:"1074",y:"878"}),e.jsx("rect",{fill:"#990000",height:"97.5262",width:"390.451",x:"195",y:"1171"}),e.jsx("rect",{fill:"#990000",height:"97.6415",width:"390.451",x:"781",y:"1171"}),e.jsx("rect",{fill:"#990000",height:"97.6415",width:"585.618",x:"390",y:"1269"}),e.jsx("rect",{fill:"#F98812",height:"97.6415",width:"97.6415",x:"293",y:"976"}),e.jsx("rect",{fill:"#F98812",height:"97.1804",width:"97.5262",x:"976",y:"976"})]})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Metroidvanias"}),e.jsx("p",{className:"text-neutral-300 leading-relaxed",children:"Lost after finding a new power? Discover which hidden path just opened up without checking a full map."})]}),e.jsxs("div",{className:"text-center animate-fade-slide-up",children:[e.jsx("div",{className:"flex items-center justify-center mx-auto mb-4",children:e.jsxs("svg",{className:"w-16 h-16",viewBox:"0 0 500 500",children:[e.jsx("path",{fill:"#faae3b",d:"M360.62,93.33c1.11,18.72-33.87,73.85-33.87,73.85C305.59,76.87,192.91,10.68,192.91,10.68s26.67,31.6-30.1,124-31.29,150.15-31.29,150.15h0c12.3,44.84,62.05,78.42,121.64,78.42s104-36.12,121.64-78.42h.05C411.52,203.21,360.62,93.33,360.62,93.33Z"}),e.jsx("path",{fill:"#ee3734",d:"M201.59,311.38c0-29,51.16-88.94,51.16-88.94s51.15,60,51.15,88.94-22.9,52.48-51.15,52.48S201.59,340.37,201.59,311.38Z"}),e.jsx("path",{fill:"rgba(0,0,0,0.15)",d:"M168.71,336.69c22.2,16.49,51.85,26.61,84.49,26.61,59.6,0,104-36.12,121.64-78.42h.05c36.63-81.67-14.27-191.55-14.27-191.55,1.11,18.72-33.87,73.85-33.87,73.85C305.59,76.87,192.91,10.68,192.91,10.68S438.82,258.17,168.71,336.69Z"}),e.jsx("ellipse",{fill:"#513b2c",cx:"55.48",cy:"453.93",rx:"22.06",ry:"36.04",transform:"translate(-107.9 26.8) rotate(-13.96)"}),e.jsx("path",{fill:"#fff",d:"M46,419.29c.27-.08.5-.26.78-.33l-.82.2Z"}),e.jsx("path",{fill:"#fff",d:"M63.36,489.11l.82-.2c-.28.07-.57,0-.85.07Z"}),e.jsx("path",{fill:"#b3814b",d:"M466.56,351.71a36,36,0,0,0-43.67-26.28L46.78,419c11.83-2.94,25.31,10.33,30.11,29.65S76,486,64.18,488.91l376.1-93.52A36,36,0,0,0,466.56,351.71Z"}),e.jsx("polygon",{fill:"rgba(0,0,0,0.15)",points:"64.18 488.91 440.28 395.39 466.56 351.71 76.89 448.61 64.18 488.91"}),e.jsx("ellipse",{fill:"#513b2c",cx:"444.52",cy:"453.93",rx:"36.04",ry:"22.06",transform:"translate(-103.27 775.77) rotate(-76.04)"}),e.jsx("path",{fill:"#fff",d:"M454,419.29c-.27-.08-.5-.26-.78-.33l.82.2Z"}),e.jsx("path",{fill:"#fff",d:"M436.64,489.11l-.82-.2c.28.07.57,0,.85.07Z"}),e.jsx("path",{fill:"#b3814b",d:"M33.44,351.71a36,36,0,0,1,43.67-26.28L453.22,419c-11.83-2.94-25.31,10.33-30.11,29.65s.89,37.36,12.71,40.3L59.72,395.39A36,36,0,0,1,33.44,351.71Z"}),e.jsx("polygon",{fill:"rgba(0,0,0,0.15)",points:"435.82 488.91 59.72 395.39 33.44 351.71 423.11 448.61 435.82 488.91"})]})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Survival & Crafting"}),e.jsx("p",{className:"text-neutral-300 leading-relaxed",children:"Need a specific resource? Learn where to find it or what recipe you're missing to build your ultimate base."})]})]})]})}),e.jsx("section",{id:"pricing",className:"py-8 md:py-10 bg-transparent",children:e.jsxs("div",{className:"container mx-auto px-8",children:[e.jsxs("div",{className:"text-center mb-8 md:mb-10 animate-fade-slide-up",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold tracking-tight text-white mb-4",children:"Choose Your Plan"}),e.jsx("p",{className:"text-lg text-neutral-300 leading-relaxed",children:"Start for free. Upgrade when you're ready."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-stretch",children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#1C1C1C]/60 to-[#0A0A0A]/60 backdrop-blur-xl border-2 border-neutral-800/60 rounded-2xl p-6 flex flex-col animate-fade-slide-up hover:border-neutral-700/80 hover:scale-105 hover:shadow-[0_0_30px_rgba(229,58,58,0.3)] hover:shadow-[#E53A3A]/20 transition-all duration-500 group cursor-pointer",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Free"}),e.jsx("p",{className:"text-neutral-300 mb-6 text-sm",children:"For the Casual Player"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:"text-4xl font-bold text-white",children:"$0"}),e.jsx("span",{className:"text-lg text-neutral-300",children:"/month"})]}),e.jsxs("ul",{className:"space-y-3 mb-8",children:[e.jsx(de,{children:"55 Text | 25 Image Queries/month"}),e.jsx(de,{children:"Knowledge till January 2025"}),e.jsx(de,{children:"Standard AI Model"}),e.jsx(de,{children:"PC-to-Mobile Sync"}),e.jsx(de,{children:"Progress Tracking"}),e.jsx(de,{children:"7 day free trial for Pro"})]}),e.jsx("div",{className:"mt-auto",children:e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"w-full bg-gradient-to-r from-neutral-600 to-neutral-500 text-neutral-300 font-bold py-3 px-6 rounded-lg cursor-not-allowed opacity-50",disabled:!0,title:"Coming Soon - Join the waitlist to be notified when pricing goes live!",children:"Coming Soon"})})]}),e.jsxs("div",{className:"relative border-2 border-[#FFAB40] rounded-2xl p-6 bg-gradient-to-r from-[#111] to-[#0A0A0A] shadow-2xl shadow-[#D98C1F]/30 transform lg:scale-105 flex flex-col animate-fade-slide-up hover:shadow-[#D98C1F]/50 hover:scale-110 hover:z-50 transition-all duration-500 group cursor-pointer animate-glow-pulse",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] text-white text-xs font-bold px-4 py-1 rounded-full uppercase tracking-wider shadow-2xl",children:"Limited Offer"}),e.jsx("h3",{className:"text-3xl font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-[#FF4D4D] to-[#FFAB40] mb-2",children:"Pro Vanguard"}),e.jsx("p",{className:"text-neutral-300 mb-6 text-sm",children:"Become a Founding Member"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:"text-4xl font-bold text-white",children:"$20"}),e.jsx("span",{className:"text-lg text-neutral-300",children:"/year"}),e.jsx("p",{className:"text-green-400 font-medium text-sm mt-1",children:"Lifetime Price Guarantee!"})]}),e.jsxs("ul",{className:"space-y-3 mb-6",children:[e.jsx(de,{children:"Everything in Free, plus:"}),e.jsx(de,{children:"1,583 Text | 328 Image Queries/month"}),e.jsx(de,{children:"Up-to-date knowledge using web search"}),e.jsx(de,{children:"Advanced AI Model"}),e.jsx(de,{children:"Build Your Game Library"}),e.jsx(de,{children:"Hands-Free & AI Mode Toggle"}),e.jsx(de,{children:"Batch Screenshot Capture"}),e.jsx(de,{children:"Priority Support & No Ads"})]}),e.jsx("div",{className:"mt-auto",children:e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"w-full bg-gradient-to-r from-neutral-600 to-neutral-500 text-neutral-300 font-bold py-3 px-6 rounded-lg cursor-not-allowed opacity-50",disabled:!0,title:"Coming Soon - Join the waitlist to be notified when pricing goes live!",children:"Coming Soon"})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-[#1C1C1C]/60 to-[#0A0A0A]/60 backdrop-blur-xl border-2 border-neutral-800/60 rounded-2xl p-6 flex flex-col animate-fade-slide-up hover:border-neutral-700/80 hover:scale-105 hover:shadow-[0_0_30px_rgba(229,58,58,0.3)] hover:shadow-[#E53A3A]/20 transition-all duration-500 group cursor-pointer",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Pro"}),e.jsx("p",{className:"text-neutral-300 mb-6 text-sm",children:"For the Serious Gamer"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:"text-4xl font-bold text-white",children:"$3.99"}),e.jsx("span",{className:"text-lg text-neutral-300",children:"/month"})]}),e.jsxs("ul",{className:"space-y-3 mb-8",children:[e.jsx(de,{children:"Everything in Free, plus:"}),e.jsx(de,{children:"1,583 Text + 328 Image Queries per month"}),e.jsx(de,{children:"Real-time web search for latest info"}),e.jsx(de,{children:"Advanced AI model for deeper insights"}),e.jsx(de,{children:"Build Your Game Library with insight tabs"}),e.jsx(de,{children:"Hands-Free mode & AI toggle for screenshots"}),e.jsx(de,{children:"Batch screenshot capture (F2 hotkey)"}),e.jsx(de,{children:"Priority support & ad-free experience"})]}),e.jsx("div",{className:"mt-auto",children:e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"w-full bg-gradient-to-r from-neutral-600 to-neutral-500 text-neutral-300 font-bold py-3 px-6 rounded-lg cursor-not-allowed opacity-50",disabled:!0,title:"Coming Soon - Join the waitlist to be notified when pricing goes live!",children:"Coming Soon"})})]})]})]})}),e.jsx("section",{className:"py-10 md:py-14 bg-transparent relative",children:e.jsxs("div",{className:"container mx-auto px-8 max-w-6xl relative",children:[e.jsx("div",{className:"text-center mb-8 md:mb-10 animate-fade-slide-up",children:e.jsx("h2",{className:"text-5xl md:text-6xl font-bold tracking-tight text-white mb-6 leading-tight",style:{lineHeight:"1.3",minHeight:"1.3em",height:"auto",paddingTop:"0.5rem",paddingBottom:"0.5rem"},children:"What Gamers Are Saying"})}),e.jsx("div",{className:"block md:hidden",children:e.jsx($a,{testimonials:[{quote:"Finally, a gaming assistant that doesn't spoil the story! I was stuck on a puzzle in Elden Ring for hours, and Otagon gave me just the right hint to figure it out myself.",author:"Sarah Chen",title:"Souls-like Enthusiast"},{quote:"The PC-to-mobile sync is a game-changer. I can get help without alt-tabbing and losing my immersion. It's like having a gaming buddy who knows exactly when to chime in.",author:"Marcus Rodriguez",title:"RPG Completionist"},{quote:"Pro's hands-free mode is incredible! During intense boss fights, I get AI hints spoken aloud without pausing. The AI toggle lets me save screenshots for later too.",author:"Safi Rahman",title:"Pro Subscriber"}]})}),e.jsxs("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsx("div",{ref:j=>ce.current[0]=j,children:e.jsx(kt,{quote:"Finally, a gaming assistant that doesn't spoil the story! I was stuck on a puzzle in Elden Ring for hours, and Otagon gave me just the right hint to figure it out myself.",author:"Sarah Chen",title:"Souls-like Enthusiast",index:0,isVisible:b[0]||!1})}),e.jsx("div",{ref:j=>ce.current[1]=j,children:e.jsx(kt,{quote:"The PC-to-mobile sync is a game-changer. I can get help without alt-tabbing and losing my immersion. It's like having a gaming buddy who knows exactly when to chime in.",author:"Marcus Rodriguez",title:"RPG Completionist",index:1,isVisible:b[1]||!1})}),e.jsx("div",{ref:j=>ce.current[2]=j,children:e.jsx(kt,{quote:"Pro's hands-free mode is incredible! During intense boss fights, I get AI hints spoken aloud without pausing. The AI toggle lets me save screenshots for later too.",author:"Safi Rahman",title:"Pro Subscriber",index:2,isVisible:b[2]||!1})})]})]})}),e.jsx("section",{id:"earn-by-playing",className:"hidden py-10 md:py-14 bg-transparent",children:e.jsx("div",{className:"container mx-auto px-6 max-w-4xl",children:e.jsx("div",{className:"p-[1px] bg-gradient-to-br from-[#E53A3A]/50 to-[#D98C1F]/50 rounded-xl",children:e.jsxs("div",{className:"bg-[#111111] rounded-[11px] p-8 md:p-12 text-left flex flex-col",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-start mb-4",children:e.jsx("div",{className:"flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-[#E53A3A]/10 to-[#FFAB40]/10 border border-neutral-700/50",children:e.jsx(Ha,{className:"w-12 h-12 text-[#FFAB40]"})})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold tracking-tight text-white mb-6",children:"Earn by Playing"}),e.jsx("div",{className:"mb-6",children:e.jsx("span",{className:"text-base font-bold bg-sky-500/20 text-sky-300 border border-sky-500/30 px-3 py-1 rounded-full uppercase tracking-wider",children:"Coming when we reach 10,000 pro subs"})}),e.jsx("p",{className:"text-lg text-[#FFAB40] font-semibold mb-4",children:"Exclusive to Vanguard Users"})]}),e.jsx("div",{className:"flex-grow",children:e.jsxs("ul",{className:"space-y-4 text-lg max-w-2xl mb-6 leading-relaxed",children:[e.jsx(ts,{children:"Earn instant rewards for completing in-game challenges."}),e.jsx(ts,{children:"Discover secrets, defeat bosses, find rare loot, or uncover lore."}),e.jsx(ts,{children:"Each achievement helps train our AI and puts money in your pocket, rewarded based on the challenge."})]})}),e.jsxs("div",{className:"mt-auto",children:[e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"w-full bg-neutral-600 text-neutral-400 font-bold py-3 px-6 rounded-lg cursor-not-allowed opacity-50",disabled:!0,title:"Coming when we reach 10,000 pro subs - Join the waitlist to be notified when this feature goes live!",children:"Coming when we reach 10,000 pro subs"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-3 text-center",children:"Join the waitlist to be notified when this feature goes live!"})]})]})})})}),e.jsx("section",{id:"faq",className:"py-10 md:py-14 bg-transparent",children:e.jsxs("div",{className:"container mx-auto px-6 md:px-10 max-w-5xl",children:[e.jsxs("div",{className:"text-center mb-8 md:mb-12 animate-fade-slide-up",children:[e.jsx("h2",{className:"text-4xl md:text-6xl font-bold tracking-tight text-white mb-6",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-lg md:text-xl text-neutral-300 max-w-3xl mx-auto leading-relaxed",children:"Got questions? We've got answers. Here's everything you need to know about Otagon."})]}),e.jsxs("div",{className:"flex flex-col gap-4 max-w-3xl mx-auto animate-fade-slide-up",children:[e.jsx("div",{className:"group p-[1px] bg-gradient-to-br from-[#E53A3A]/30 to-[#D98C1F]/30 hover:from-[#E53A3A]/50 hover:to-[#D98C1F]/50 rounded-xl transition-all duration-300 cursor-pointer",onClick:()=>C(N===0?null:0),children:e.jsxs("div",{className:"bg-[#111111] rounded-[11px] p-5 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white pr-4",children:"How does Otagon work?"}),e.jsx("svg",{className:`w-5 h-5 text-neutral-400 transition-transform duration-300 flex-shrink-0 ${N===0?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ${N===0?"max-h-40 mt-4":"max-h-0"}`,children:e.jsx("p",{className:"text-neutral-400 leading-relaxed",children:"Press a hotkey while gaming, and Otagon instantly captures your screen. Our AI analyzes the context using Google Gemini and sends spoiler-free hints to your phone or second monitor, so you never have to leave your game."})})]})}),e.jsx("div",{className:"group p-[1px] bg-gradient-to-br from-[#E53A3A]/30 to-[#D98C1F]/30 hover:from-[#E53A3A]/50 hover:to-[#D98C1F]/50 rounded-xl transition-all duration-300 cursor-pointer",onClick:()=>C(N===1?null:1),children:e.jsxs("div",{className:"bg-[#111111] rounded-[11px] p-5 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white pr-4",children:"Is it really spoiler-free?"}),e.jsx("svg",{className:`w-5 h-5 text-neutral-400 transition-transform duration-300 flex-shrink-0 ${N===1?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ${N===1?"max-h-40 mt-4":"max-h-0"}`,children:e.jsx("p",{className:"text-neutral-400 leading-relaxed",children:"Absolutely! Our AI is trained to understand context and provide hints that guide you without revealing plot points, solutions, or surprises. We give you just enough to get unstuck."})})]})}),e.jsx("div",{className:"group p-[1px] bg-gradient-to-br from-[#E53A3A]/30 to-[#D98C1F]/30 hover:from-[#E53A3A]/50 hover:to-[#D98C1F]/50 rounded-xl transition-all duration-300 cursor-pointer",onClick:()=>C(N===2?null:2),children:e.jsxs("div",{className:"bg-[#111111] rounded-[11px] p-5 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white pr-4",children:"What games does it support?"}),e.jsx("svg",{className:`w-5 h-5 text-neutral-400 transition-transform duration-300 flex-shrink-0 ${N===2?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ${N===2?"max-h-40 mt-4":"max-h-0"}`,children:e.jsx("p",{className:"text-neutral-400 leading-relaxed",children:"Otagon works with any game! Our AI can understand visual context from any game genre - RPGs, puzzles, platformers, strategy games, and more. If you can see it on screen, we can help."})})]})}),e.jsx("div",{className:"group p-[1px] bg-gradient-to-br from-[#E53A3A]/30 to-[#D98C1F]/30 hover:from-[#E53A3A]/50 hover:to-[#D98C1F]/50 rounded-xl transition-all duration-300 cursor-pointer",onClick:()=>C(N===3?null:3),children:e.jsxs("div",{className:"bg-[#111111] rounded-[11px] p-5 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white pr-4",children:"Is my data safe?"}),e.jsx("svg",{className:`w-5 h-5 text-neutral-400 transition-transform duration-300 flex-shrink-0 ${N===3?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ${N===3?"max-h-40 mt-4":"max-h-0"}`,children:e.jsx("p",{className:"text-neutral-400 leading-relaxed",children:"Yes. We take data security seriously. Your screenshots and conversations are processed securely, and we do not sell your personal data to third parties. Please review our Privacy Policy for complete details."})})]})})]})]})}),e.jsx("section",{id:"founder",className:"py-10 md:py-14 bg-transparent",children:e.jsxs("div",{className:"container mx-auto px-8 md:px-10 max-w-5xl",children:[e.jsxs("div",{className:"text-center mb-8 md:mb-10 animate-fade-slide-up",children:[e.jsx("h2",{className:"text-4xl md:text-6xl font-bold tracking-tight text-white mb-6",children:"Meet the Founder"}),e.jsx("p",{className:"text-lg md:text-xl text-neutral-300 max-w-3xl mx-auto leading-relaxed",children:"Hey, I'm Amaanâ€”a passionate gamer from Hyderabad who spent my early days printing cheat codes at internet cafes. After years of thinking about how people interact with technology, I'm building the future of gaming assistance."})]}),e.jsxs("div",{className:"text-center animate-fade-slide-up",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx(Ia,{size:"xl",showBadge:!1,showStatus:!1})}),e.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] mx-auto mb-8 rounded-full"}),e.jsxs("div",{className:"space-y-3 mb-8",children:[e.jsx("h3",{className:"text-4xl md:text-5xl font-bold text-white",children:"Amaan"}),e.jsx("p",{className:"text-xl md:text-2xl text-neutral-300 font-medium",children:"Service Designer"})]}),"                            ",e.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:e.jsx("div",{className:"bg-gradient-to-r from-[#0F0F0F]/60 to-[#1A1A1A]/60 border-2 border-neutral-700/60 rounded-2xl p-8 md:p-10 backdrop-blur-sm",children:e.jsx("p",{className:"text-[#CFCFCF] leading-relaxed text-lg md:text-xl italic",children:`"Like you, I've spent my life passionate about games. From getting lost in the deep lore of modern RPGs to the frustration of needing a small hint and getting a massive spoiler in return. That's why I built Otagon - to preserve the magic of discovery while giving you just the nudge you need."`})})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6 md:gap-8",children:[e.jsxs("a",{href:"https://www.linkedin.com/in/readmetxt/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-3 bg-gradient-to-r from-[#0077B5] to-[#005885] md:hover:from-[#005885] md:hover:to-[#004066] text-white font-semibold py-4 px-8 rounded-xl transition-all duration-300 md:hover:scale-105 active:scale-95 shadow-lg md:hover:shadow-xl md:hover:shadow-[#0077B5]/25",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:[e.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),e.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),e.jsx("circle",{cx:"4",cy:"4",r:"2"})]}),e.jsx("span",{className:"hidden sm:inline",children:"Connect on LinkedIn"}),e.jsx("span",{className:"sm:hidden",children:"LinkedIn"})]}),e.jsxs("a",{href:"mailto:support@otagon.app",className:"inline-flex items-center justify-center gap-3 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] md:hover:from-[#D42A2A] md:hover:to-[#C87A1A] text-white font-semibold py-4 px-8 rounded-xl transition-all duration-300 md:hover:scale-105 active:scale-95 shadow-lg md:hover:shadow-xl md:hover:shadow-[#E53A3A]/25",children:[e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{className:"hidden sm:inline",children:"Email Amaan"}),e.jsx("span",{className:"sm:hidden",children:"Email"})]})]})]})]})})]}),e.jsx("footer",{className:"bg-transparent border-t border-neutral-800/50",children:e.jsx("div",{className:"container mx-auto px-6 py-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-3 md:gap-6 text-sm font-medium text-neutral-400 order-1 md:order-2",children:[e.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[e.jsx("a",{href:"#pricing",onClick:G("pricing"),className:"hover:text-white transition-colors",children:"Pricing"}),e.jsx("button",{type:"button",onClick:i,className:"hover:text-white transition-colors active:scale-95",children:"About"}),e.jsx("button",{type:"button",onClick:u,className:"hover:text-white transition-colors active:scale-95",children:"Terms"})]}),e.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[e.jsx("button",{type:"button",onClick:c,className:"hover:text-white transition-colors active:scale-95",children:"Privacy"}),e.jsx("button",{type:"button",onClick:a,className:"hover:text-white transition-colors active:scale-95",children:"Refund Policy"}),e.jsx("button",{type:"button",onClick:x,className:"hover:text-white transition-colors active:scale-95",children:"Contact Us"})]})]}),e.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left order-2 md:order-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-8 w-8",bounce:!1}),e.jsx("span",{className:"text-xl font-bold",children:"Otagon"})]}),e.jsxs("p",{className:"text-neutral-400 mt-2 text-sm",children:["Â© ",new Date().getFullYear()," Otagon. All rights reserved."]})]})]})})})]})},Xs="__otagon_beforeinstallprompt";function qa(){return window[Xs]??null}function Gs(o){window[Xs]=o}const en=({className:o="",alwaysShowInBrowser:i=!1})=>{const[c,a]=n.useState(null),[u,x]=n.useState(!1),[h,k]=n.useState(!1),[w,p]=n.useState(!1);n.useEffect(()=>{if(console.log("ðŸ” [PWA Install Banner] Component mounted, checking installation status..."),console.log("ðŸ“ Current URL:",window.location.href),console.log("ðŸ” Is HTTPS?",window.location.protocol==="https:"),console.log("ðŸ’» Is localhost?",window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),Ps()){console.log("âœ… [PWA Install Banner] Running as PWA - hiding install banner completely"),p(!0),k(!0),Zt();return}(()=>{if(Ps()){console.log("âœ… [PWA Install Banner] App is already installed (running in PWA mode)"),k(!0),Zt();return}if(localStorage.getItem("otakon_pwa_installed")==="true"){console.log("âœ… [PWA Install Banner] App was previously installed"),k(!0);return}console.log("â„¹ï¸  [PWA Install Banner] App not installed yet")})();const v=qa();v&&(console.log("âœ… [PWA Install Banner] Found existing beforeinstallprompt event"),a(v),x(!0));const N=R=>{console.log("âœ… [PWA Install Banner] beforeinstallprompt event fired"),R.preventDefault();const te=R;Gs(te),a(te),x(!0)},C=()=>{console.log("ðŸŽ‰ [PWA Install Banner] App installed successfully!"),k(!0),Zt(),Gs(null),x(!1),a(null)};return window.addEventListener("beforeinstallprompt",N),window.addEventListener("appinstalled",C),setTimeout(()=>{!u&&!h&&(console.log("âŒ [PWA Install Banner] beforeinstallprompt event has NOT fired"),console.log("ðŸ” Checking PWA installation criteria:"),console.log("   1. HTTPS: "+(window.location.protocol==="https:"?"âœ…":"âŒ REQUIRED")),console.log("   2. Localhost: "+(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"âœ…":"âŒ")),console.log("   3. Service Worker: "+(navigator.serviceWorker.controller?"âœ… Active":"âš ï¸  Not active")),console.log("   4. Manifest Link: "+(document.querySelector('link[rel="manifest"]')?"âœ…":"âŒ")),fetch("/manifest.json").then(R=>(console.log("   5. Manifest Response: "+(R.ok?"âœ… 200 OK":"âŒ "+R.status)),R.json())).then(R=>{var te;console.log("   6. Manifest Content:",R),console.log("      - Name: "+(R.name?"âœ…":"âŒ")),console.log("      - Start URL: "+(R.start_url?"âœ…":"âŒ")),console.log("      - Icons: "+(((te=R.icons)==null?void 0:te.length)||0)+" icons"),console.log("      - Display: "+(R.display||"none"))}).catch(R=>{console.log("   5. Manifest Fetch: âŒ Failed - "+R.message)}),console.log("   Possible reasons:"),console.log("   - App is not served over HTTPS (required in production)"),console.log("   - manifest.json is invalid or missing required fields"),console.log("   - Service worker is not registered properly"),console.log("   - Browser does not support PWA installation (Safari iOS)"),console.log("   - App is already installed"),console.log("   - Chrome may have already shown prompt and user dismissed it"))},2e3),()=>{window.removeEventListener("beforeinstallprompt",N),window.removeEventListener("appinstalled",C)}},[]);const y=async()=>{if(!c){console.log("âš ï¸  [PWA Install Banner] No install prompt available");return}console.log("ðŸ“² [PWA Install Banner] Showing install prompt..."),c.prompt();const{outcome:U}=await c.userChoice;console.log(U==="accepted"?"âœ… [PWA Install Banner] User accepted the install prompt":"âŒ [PWA Install Banner] User dismissed the install prompt"),a(null)};return w?(console.log("ðŸ” [PWA Install Banner] Running as PWA - returning null"),null):h&&!i?null:e.jsxs("div",{className:`bg-gradient-to-r from-[#1C1C1C]/90 to-[#0A0A0A]/90 backdrop-blur-xl border border-neutral-700/60 rounded-lg md:rounded-xl p-2.5 md:p-3 lg:p-4 text-center ${o}`,children:[e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 mb-2 md:mb-3",children:[e.jsx("div",{className:"w-7 h-7 md:w-8 md:h-8 lg:w-9 lg:h-9 bg-[#111111] rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("img",{src:"/images/otagon-logo.png",alt:"Otagon",className:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6"})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("p",{className:"text-sm md:text-base lg:text-lg font-medium text-white leading-tight",children:h?"âœ… App Installed":"Install Otagon App"}),e.jsx("p",{className:"text-xs md:text-sm text-neutral-400 leading-tight",children:h?"Open from your home screen":"Get the full app experience"})]})]}),e.jsxs("div",{className:"mt-2 md:mt-3 space-y-2 md:space-y-2.5",children:[u&&!h&&e.jsx("button",{onClick:y,className:"w-full py-2 md:py-2.5 bg-gradient-to-r from-[#E53A3A] to-[#FFAB40] md:hover:from-[#D42A2A] md:hover:to-[#C87A1A] text-white text-sm md:text-base font-semibold rounded-lg transition-all duration-200 active:scale-95",children:"Install Now"}),e.jsxs("div",{className:"text-left space-y-1.5 md:space-y-2",children:[e.jsx("p",{className:"text-xs md:text-sm font-semibold text-white/90",children:"How to Install:"}),e.jsxs("ol",{className:"text-xs md:text-sm text-neutral-400 space-y-1.5 md:space-y-2 pl-3 md:pl-4 leading-relaxed",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-[#FFAB40] mr-1.5 md:mr-2",children:"â€¢"}),e.jsxs("span",{children:["Tap the ",e.jsx("span",{className:"text-white font-medium",children:"browser menu (â‹®)"})," in Chrome or Safari"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-[#FFAB40] mr-1.5 md:mr-2",children:"â€¢"}),e.jsxs("span",{children:["Select ",e.jsx("span",{className:"text-white font-medium",children:"Add to Home screen"})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-[#FFAB40] mr-1.5 md:mr-2",children:"â€¢"}),e.jsxs("span",{children:["Tap ",e.jsx("span",{className:"text-white font-medium",children:"Add"})," to install Otagon"]})]})]})]})]})]})},Za=({onComplete:o,onBackToLanding:i,onSetAppState:c})=>{const[a,u]=n.useState(!1),[x,h]=n.useState(""),[k,w]=n.useState(""),[p,y]=n.useState("options"),[U,v]=n.useState(""),[N,C]=n.useState(""),[R,te]=n.useState(!1),[_,$]=n.useState(!1),[A,b]=n.useState(""),[t,M]=n.useState(""),[ce,ue]=n.useState(!1),[G,j]=n.useState(!1),[g,F]=n.useState(!1),[L,Y]=n.useState(!1),[ae,q]=n.useState(!1),[se,ie]=n.useState("success"),[Se,ye]=n.useState("");n.useEffect(()=>{if(!document.querySelector('link[rel="manifest"]')){console.log("âœ… [LoginScreen] Loading PWA manifest");const H=document.createElement("link");H.rel="manifest",H.href="/manifest.json",document.head.appendChild(H)}},[]);const De=H=>{const J=[];return H.length<8&&J.push("Password must be at least 8 characters long"),/[a-z]/.test(H)||J.push("Password must contain at least one lowercase letter"),/[A-Z]/.test(H)||J.push("Password must contain at least one uppercase letter"),/[0-9]/.test(H)||J.push("Password must contain at least one number"),/[!@#$%^&*()_+\-=[\]{}|;:,.<>?]/.test(H)||J.push("Password must contain at least one special character"),{isValid:J.length===0,errors:J}},ct=H=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(H),dt=()=>{Y(!L)},Mt=()=>{q(!1),ye(""),h(""),w(""),b(""),M(""),v(""),y("options")};n.useEffect(()=>{A&&x&&b("")},[x,A]),n.useEffect(()=>{t&&k&&M("")},[k,t]),n.useEffect(()=>{p==="signup"&&k&&(De(k).isValid||M(""))},[k,p]),n.useEffect(()=>{const H=J=>{J.key==="Escape"&&p!=="options"&&(y("options"),h(""),w(""),b(""),M(""),v(""))};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[p]);const Ve=async H=>{u(!0),v("");try{if(H==="email"){y("signin"),u(!1);return}const J=await he[H==="google"?"signInWithGoogle":"signInWithDiscord"]();if(J.success)return;v(J.error||"Authentication failed. Please try again.")}catch{v("Authentication failed. Please try again.")}finally{u(!1)}},Xe=async H=>{if(H.preventDefault(),b(""),M(""),v(""),!x){b("Email is required");return}if(!ct(x)){b("Please enter a valid email address");return}if(p==="signin"&&!k){M("Password is required");return}if(p==="signin"&&k.length<8){M("Password must be at least 8 characters long");return}if(p==="signin"){const J=await he.checkEmailProvider(x);if(J.provider&&J.provider!=="email"){v(J.message);return}}u(!0),te(!0);try{let J;if(p==="signin")J=await he.signInWithEmail(x,k);else{if(!k){M("Password is required");return}const ne=De(k);if(!ne.isValid){M(ne.errors[0]);return}J=await he.signUpWithEmail(x,k)}if(J.success)p==="signup"?J.requiresConfirmation?(ie("success"),ye("Please check your email and click the confirmation link to complete your account setup."),q(!0)):(ie("success"),ye("Account created successfully! You are now signed in."),q(!0)):(_&&(localStorage.setItem("otakon_remember_me","true"),localStorage.setItem("otakon_remembered_email",x)),o());else if(p==="signup"){const ne=J.error||"Authentication failed. Please try again.";ne.toLowerCase().includes("user already registered")||ne.toLowerCase().includes("email already registered")||ne.toLowerCase().includes("already registered")||ne.toLowerCase().includes("user with this email already exists")||ne.toLowerCase().includes("email address is already in use")||ne.toLowerCase().includes("duplicate key value violates unique constraint")||ne.toLowerCase().includes("email already exists")||ne.toLowerCase().includes("user already exists")||ne.toLowerCase().includes("email is already taken")||ne.toLowerCase().includes("email already in use")||ne.toLowerCase().includes("email has already been taken")||ne.toLowerCase().includes("this email is already registered")||ne.toLowerCase().includes("email already registered with a different provider")?(ie("email-exists"),ye("This email is already registered. Please try signing in instead or check your email for a confirmation link.")):ne.toLowerCase().includes("for security purposes")||ne.toLowerCase().includes("you can only request this after")||ne.toLowerCase().includes("rate limit")||ne.toLowerCase().includes("too many requests")||ne.toLowerCase().includes("try again later")?(ie("invalid-email"),ye("Please wait before trying again. For security purposes, there is a cooldown period between signup attempts.")):ne.toLowerCase().includes("invalid email")||ne.toLowerCase().includes("email format")||ne.toLowerCase().includes("invalid email address")?(ie("invalid-email"),ye("Please enter a valid email address.")):(ie("invalid-email"),ye(ne)),q(!0)}else c(ne=>({...ne,view:"landing",onboardingStatus:"login"})),v(J.error||"Authentication failed. Please try again.")}catch{v("Authentication failed. Please try again.")}finally{u(!1),te(!1)}},mt=async()=>{if(!x){b("Please enter your email address first");return}if(!ct(x)){b("Please enter a valid email address");return}u(!0),v("");try{const H=await he.resetPassword(x);H.success?(C("Password reset email sent! Check your inbox."),v(""),setTimeout(()=>{y("signin"),C("")},3e3)):v(H.error||"Failed to send reset email. Please try again.")}catch{v("Failed to send reset email. Please try again.")}finally{u(!1)}};return e.jsxs("div",{className:"h-[100dvh] bg-gradient-to-br from-background via-[#0F0F0F] to-background text-text-primary flex flex-col items-center justify-between px-4 py-3 md:py-4 lg:py-6 relative overflow-hidden",children:[e.jsxs("div",{className:`w-full max-w-md lg:max-w-lg xl:max-w-xl relative z-10 transition-all duration-500 ${R?"scale-105":"scale-100"} mx-auto flex-1 flex flex-col justify-center`,children:[e.jsxs("div",{className:"text-center mb-3 md:mb-5 lg:mb-6",children:[e.jsx("img",{src:"/images/otagon-logo.png",alt:"Otagon Logo",className:"mx-auto mb-2 md:mb-3 lg:mb-4 w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 object-contain aspect-square",onError:H=>{const J=H.target;J.style.display="none"}}),e.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-1 md:mb-2",children:"Welcome to Otagon"}),e.jsx("p",{className:"text-xs md:text-sm lg:text-base text-text-secondary px-4 mb-3 md:mb-5 lg:mb-6",children:p==="options"?"Sign in to start your gaming adventure":p==="signin"?"Welcome back! Sign in to continue":p==="signup"?"Create your account to get started":"Reset your password"})]}),U&&e.jsx("div",{className:"mb-2 md:mb-3 lg:mb-4 p-1.5 md:p-2.5 lg:p-3 bg-red-500/10 border border-red-500/20 rounded-lg md:rounded-xl text-red-400 text-center text-xs md:text-sm",children:U}),N&&e.jsx("div",{className:"mb-2 md:mb-3 lg:mb-4 p-1.5 md:p-2.5 lg:p-3 bg-green-500/10 border border-green-500/20 rounded-lg md:rounded-xl text-green-400 text-center text-xs md:text-sm",children:N}),(p==="signin"||p==="signup")&&e.jsxs("form",{onSubmit:Xe,className:"space-y-2 md:space-y-4 lg:space-y-5 mb-2 md:mb-4",role:"form","aria-label":`${p==="signin"?"Sign in":"Sign up"} form`,children:[e.jsxs("div",{className:"space-y-2 md:space-y-4 lg:space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email-input",className:"sr-only",children:"Email address"}),e.jsx("input",{id:"email-input",type:"email",value:x,onChange:H=>h(H.target.value),onKeyDown:H=>{H.key==="Enter"&&p==="signin"&&(H.preventDefault(),Xe(H))},placeholder:"Enter your email",required:!0,autoComplete:"email",tabIndex:1,"aria-describedby":A?"email-error":void 0,className:`w-full bg-surface border rounded-xl py-1.5 md:py-2 lg:py-2.5 px-3 md:px-4 lg:px-5 text-text-primary placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-300 text-sm md:text-base ${A?"border-red-500/50 focus:border-red-500/60":"border-surface-light/60 focus:border-primary/60"}`}),A&&e.jsx("p",{id:"email-error",className:"mt-1.5 text-xs text-red-400",role:"alert",children:A})]}),(p==="signin"||p==="signup")&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password-input",className:"sr-only",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password-input",type:L?"text":"password",value:k,onChange:H=>w(H.target.value),onKeyDown:H=>{H.key==="Enter"&&(H.preventDefault(),Xe(H))},placeholder:p==="signin"?"Enter your password":"Create a password",required:!0,autoComplete:p==="signin"?"current-password":"new-password",tabIndex:2,"aria-describedby":t?"password-error":void 0,className:`w-full bg-surface border rounded-xl py-1.5 md:py-2 lg:py-2.5 px-3 md:px-4 lg:px-5 pr-10 md:pr-12 text-text-primary placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-300 text-sm md:text-base ${t?"border-red-500/50 focus:border-red-500/60":"border-surface-light/60 focus:border-primary/60"}`}),k&&e.jsx("button",{type:"button",onClick:dt,className:"absolute right-2.5 top-1/2 transform -translate-y-1/2 text-text-muted hover:text-text-primary transition-colors duration-200 focus:outline-none focus:text-text-primary","aria-label":L?"Hide password":"Show password",children:L?e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),t&&e.jsx("p",{id:"password-error",className:"mt-1.5 text-xs text-red-400",role:"alert",children:t}),p==="signup"&&e.jsxs("div",{className:"mt-2.5 md:mt-3 lg:mt-4 pt-2 md:pt-2.5 lg:pt-3 border-t border-surface-light/30 text-xs md:text-sm text-text-muted",children:[e.jsx("p",{className:"font-medium mb-2",children:"Password must contain:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1.5",children:[e.jsx("li",{className:k.match(/[a-z]/)?"text-green-400":"text-text-muted",children:"At least one lowercase letter"}),e.jsx("li",{className:k.match(/[A-Z]/)?"text-green-400":"text-text-muted",children:"At least one uppercase letter"}),e.jsx("li",{className:k.match(/[0-9]/)?"text-green-400":"text-text-muted",children:"At least one number"}),e.jsx("li",{className:k.match(/[!@#$%^&*()_+\-=[\]{}|;:,.<>?]/)?"text-green-400":"text-text-muted",children:"At least one special character"}),e.jsx("li",{className:k.length>=8?"text-green-400":"text-text-muted",children:"At least 8 characters long"})]})]})]}),p==="signin"&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center space-x-2 text-xs md:text-sm text-text-secondary",children:[e.jsx("input",{type:"checkbox",checked:_,onChange:H=>$(H.target.checked),className:"w-3.5 h-3.5 text-primary bg-surface border-surface-light/60 rounded focus:ring-primary focus:ring-2"}),e.jsx("span",{children:"Remember me"})]}),e.jsx("button",{type:"button",onClick:()=>y("forgot-password"),className:"text-xs md:text-sm text-primary hover:text-primary/80 transition-colors",children:"Forgot password?"})]})]}),e.jsx(jt,{type:"submit",disabled:a,isLoading:a,variant:"primary",className:"w-full mt-4 md:mt-5 lg:mt-6 py-1.5 md:py-2 lg:py-2.5",tabIndex:3,children:a?p==="signin"?"Signing in...":"Creating account...":p==="signin"?"Sign In":"Create Account"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>y("options"),className:"text-text-muted hover:text-text-primary transition-colors text-xs md:text-sm",children:p==="signup"?"â† Back to Login":"â† Back to options"})})]}),p==="forgot-password"&&e.jsxs("form",{onSubmit:H=>{H.preventDefault(),mt()},className:"space-y-2.5 md:space-y-3 mb-3 md:mb-4",children:[e.jsxs("div",{children:[e.jsx("input",{type:"email",value:x,onChange:H=>h(H.target.value),placeholder:"Enter your email",required:!0,className:`w-full bg-surface border rounded-xl py-1.5 md:py-2 lg:py-2.5 px-3 md:px-4 lg:px-5 text-text-primary placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-300 text-sm md:text-base ${A?"border-red-500/50 focus:border-red-500/60":"border-surface-light/60 focus:border-primary/60"}`}),A&&e.jsx("p",{className:"mt-1.5 text-xs text-red-400",children:A})]}),e.jsx(jt,{type:"submit",disabled:a,isLoading:a,variant:"primary",className:"w-full",children:a?"Sending...":"Send Reset Email"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>y("signin"),className:"text-text-muted hover:text-text-primary transition-colors text-xs",children:"â† Back to sign in"})})]}),g&&e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"text-green-500 text-5xl mb-3",children:"âœ…"}),e.jsx("h2",{className:"text-xl font-bold text-[#F5F5F5] mb-1.5",children:"Account Created!"}),e.jsx("p",{className:"text-[#CFCFCF] mb-4 text-sm",children:N}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(jt,{onClick:()=>{F(!1),y("signin"),w(""),b(""),M(""),v(""),C("")},variant:"primary",className:"w-full hover:scale-105 transition-all duration-300 py-1.5 md:py-2 lg:py-2.5",children:"Sign In Now"}),e.jsx("button",{onClick:()=>{F(!1),y("options"),h(""),w(""),b(""),M(""),v(""),C("")},className:"text-text-muted hover:text-text-primary transition-colors text-xs",children:"â† Back to options"})]})]}),p==="options"&&e.jsxs("div",{className:"space-y-2 md:space-y-3 lg:space-y-3.5",children:[e.jsxs("button",{onClick:()=>Ve("google"),disabled:a,className:"w-full flex items-center justify-center space-x-2 md:space-x-3 lg:space-x-4 hover:scale-105 active:scale-95 transition-all duration-300 py-1.5 md:py-2 lg:py-2.5 px-4 md:px-5 lg:px-6 font-bold rounded-xl bg-white text-gray-700 hover:shadow-lg hover:shadow-blue-500/25 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-background disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:active:scale-100 border border-gray-200 text-sm md:text-base",children:[e.jsxs("svg",{className:"w-4 h-4 md:w-5 md:h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{children:"Continue with Google"})]}),e.jsxs("button",{onClick:()=>Ve("discord"),disabled:a,className:"w-full flex items-center justify-center space-x-2 md:space-x-3 lg:space-x-4 hover:scale-105 active:scale-95 transition-all duration-300 py-1.5 md:py-2 lg:py-2.5 px-4 md:px-5 lg:px-6 font-bold rounded-xl bg-[#5865F2] text-white hover:bg-[#4752C4] hover:shadow-lg hover:shadow-indigo-500/25 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-background disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:active:scale-100 text-sm md:text-base",children:[e.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})}),e.jsx("span",{children:"Continue with Discord"})]}),e.jsxs("div",{className:"space-y-2 md:space-y-2.5 lg:space-y-3",children:[e.jsx("button",{onClick:()=>y("signin"),disabled:a,className:"w-full md:hover:scale-105 active:scale-95 transition-all duration-300 py-1.5 md:py-2 lg:py-2.5 px-4 md:px-5 lg:px-6 font-bold rounded-xl bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] text-white md:hover:shadow-xl md:hover:shadow-[#E53A3A]/25 focus:outline-none focus:ring-2 focus:ring-[#E53A3A] focus:ring-offset-2 focus:ring-offset-background disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:active:scale-100 text-sm md:text-base",children:"Sign In with Email"}),e.jsx(jt,{onClick:()=>y("signup"),disabled:a,variant:"ghost",className:"w-full hover:scale-105 transition-all duration-300 py-1.5 md:py-2 lg:py-2.5 text-sm md:text-base",children:"Create New Account"})]})]}),e.jsx("div",{className:"mt-3 md:mt-4 lg:mt-5",children:e.jsx(en,{alwaysShowInBrowser:!0})}),e.jsx("div",{className:"text-center mt-2 md:mt-4 lg:mt-6",children:e.jsxs("button",{onClick:()=>{i()},className:"text-text-muted hover:text-text-primary transition-colors text-xs md:text-sm lg:text-base flex items-center justify-center space-x-1 md:space-x-2 mx-auto hover:scale-105 transition-all duration-300","aria-label":"Return to landing page",children:[e.jsx("svg",{className:"w-3 h-3 md:w-4 md:h-4 lg:w-5 lg:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),e.jsx("span",{children:"Back to Landing Page"})]})})]}),e.jsx("div",{className:"w-full py-2 pb-[max(8px,env(safe-area-inset-bottom))] md:p-4 lg:p-5 text-center flex-shrink-0",children:e.jsxs("p",{className:"text-[10px] md:text-sm lg:text-base text-text-muted",children:["By continuing, you agree to our"," ",e.jsx("button",{onClick:()=>ue(!0),className:"text-primary hover:text-secondary transition-colors underline",children:"Terms of Service"})," ","and"," ",e.jsx("button",{onClick:()=>j(!0),className:"text-primary hover:text-secondary transition-colors underline",children:"Privacy Policy"}),"."]})}),e.jsx(ns,{isOpen:ce,onClose:()=>ue(!1)}),e.jsx(as,{isOpen:G,onClose:()=>j(!1)}),ae&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-surface border border-surface-light/20 rounded-xl p-6 max-w-md mx-4",children:e.jsxs("div",{className:"text-center",children:[se==="success"&&e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-500/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(se==="email-exists"||se==="invalid-email")&&e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-500/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:[se==="success"&&"Email Sent!",se==="email-exists"&&"Email Already Exists",se==="invalid-email"&&(Se.includes("cooldown")?"Retry Later":"Invalid Email")]}),e.jsx("p",{className:"text-text-secondary mb-6",children:Se}),e.jsx("div",{className:"flex space-x-3",children:e.jsx("button",{onClick:Mt,className:"flex-1 px-4 py-2 bg-primary hover:bg-primary/80 text-white rounded-lg transition-colors",children:se==="success"?"Back to Login":"Try Again"})})]})})})]})},Ya=({onComplete:o,user:i})=>{const[c,a]=n.useState(!1);n.useEffect(()=>{a(!1)},[]);const u=()=>{window.open("https://github.com/readmet3xt/otakon-pc-client/releases/tag/v1.0.0","_blank")},x=async()=>{if(!c){a(!0);try{if(localStorage.setItem("otakon_has_seen_splash_screens","true"),i)try{const{error:h}=await Oe.from("users").update({has_seen_splash_screens:!0,app_state:{onboardingStatus:"how-to-use",hasSeenSplashScreens:!0,completedInitialAt:new Date().toISOString()}}).eq("auth_user_id",i.authUserId)}catch{}o()}catch(h){console.error("ðŸŽ¯ [InitialSplashScreen] Error in button click:",h)}finally{a(!1)}}};return e.jsxs("div",{className:"h-screen bg-gradient-to-br from-[#111111] to-[#0A0A0A] text-[#F5F5F5] flex flex-col items-center justify-center font-inter px-4 sm:px-6 md:px-8 text-center overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-radial-at-top from-[#1C1C1C]/30 to-transparent pointer-events-none"}),e.jsxs("div",{className:"flex flex-col items-center justify-center w-full max-w-2xl",children:[e.jsx("div",{className:"flex-shrink-0 mb-1",children:e.jsx("img",{src:"/images/mascot/1.png",alt:"Otagon Mascot",className:"w-48 h-48 sm:w-56 sm:h-56 md:w-64 md:h-64 object-contain aspect-square",onError:h=>{var p;const k=h.target;k.style.display="none";const w=document.createElement("div");w.innerHTML='<div class="w-24 h-24 sm:w-26 sm:h-26 md:w-28 md:h-28"></div>',(p=k.parentNode)==null||p.appendChild(w)}})}),e.jsx("h1",{className:"text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-[#FF4D4D] to-[#FFAB40] leading-normal",children:"Otagon"}),e.jsx("p",{className:"text-base text-[#CFCFCF] leading-relaxed mt-1",children:"Your Spoiler-Free Gaming Companion"}),e.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 w-full max-w-lg mt-12 relative z-10",style:{pointerEvents:"auto"},children:[e.jsx("button",{onClick:x,disabled:c,className:`w-full bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] md:hover:from-[#D42A2A] md:hover:to-[#C87A1A] text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 md:hover:scale-105 md:hover:shadow-xl md:hover:shadow-[#E53A3A]/25 active:scale-95 text-base flex items-center justify-center relative z-10 ${c?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,style:{pointerEvents:"auto"},children:c?"Starting...":"Start the Adventure"}),e.jsx("button",{onClick:u,className:"w-full bg-gradient-to-r from-neutral-700 to-neutral-600 md:hover:from-neutral-600 md:hover:to-neutral-500 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 md:hover:scale-105 md:hover:shadow-lg active:scale-95 text-base flex items-center justify-center relative z-10 cursor-pointer",style:{pointerEvents:"auto"},children:"Download PC Client"}),e.jsx("div",{className:"w-full text-center px-4 relative z-10",style:{pointerEvents:"auto"},children:e.jsxs("p",{className:"text-xs sm:text-sm text-neutral-400 leading-relaxed",children:[e.jsx("span",{className:"block sm:inline",children:"1. Download and install the Otagon Connector (.exe) â€¢ "}),e.jsx("span",{className:"block sm:inline",children:"2. Open the connector app and enter the 6-digit code shown in the Otagon Connector App to connect Otagon app to your PC for instant screenshots."})]})})]}),e.jsx("div",{className:"w-full max-w-lg px-4 mt-8",children:e.jsx(en,{})})]})]})},tn=({className:o="w-6 h-6"})=>e.jsx("svg",{className:o,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),sn=({className:o="w-6 h-6"})=>e.jsxs("svg",{className:o,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),nn=({className:o="w-6 h-6",isActive:i=!1})=>e.jsx("svg",{className:`${o} ${i?"text-[#FFAB40]":"text-neutral-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),Ka=({className:o})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:o,viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}),Qa=({className:o})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:o,viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M8 5v14l11-7z"})}),Ja=({className:o="w-12 h-12"})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:o,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),e.jsx("path",{d:"M3 9h18M9 21V9"})]}),Hs=()=>e.jsx("span",{className:"text-xs font-bold bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] text-white px-2 py-0.5 rounded-full uppercase tracking-wider ml-2",children:"PRO"}),yt=({icon:o,title:i,children:c})=>e.jsxs("div",{className:"flex items-start gap-8 p-8 transition-all duration-500 hover:scale-105 bg-gradient-to-r from-[#1C1C1C]/40 to-[#0A0A0A]/40 border border-neutral-800/60 rounded-2xl backdrop-blur-sm",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 mt-1 rounded-xl bg-gradient-to-br from-[#FF4D4D]/20 to-[#FFAB40]/20 border-2 border-neutral-700/60 backdrop-blur-sm",children:o}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:i}),e.jsx("div",{className:"text-neutral-300 text-base leading-relaxed space-y-3",children:c})]})]}),Xa=({onComplete:o})=>{const[i,c]=pe.useState(!1);return pe.useEffect(()=>{c(!0)},[]),i?e.jsxs("div",{className:"h-screen bg-gradient-to-br from-[#111111] to-[#0A0A0A] text-[#F5F5F5] flex flex-col font-inter",children:[e.jsx("header",{className:"flex-shrink-0 px-4 sm:px-6 md:px-8 pt-3 sm:pt-4 md:pt-6 pb-2 sm:pb-3 text-center z-10 bg-gradient-to-br from-[#111111] to-[#0A0A0A]",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("img",{src:"/images/mascot/5.2.png",alt:"Connected Mascot",className:"w-24 h-24 sm:w-28 sm:h-28 md:w-32 md:h-32 object-contain mx-auto mb-3",onError:a=>{const u=a.target;u.style.display="none"}}),e.jsx("h1",{className:"text-3xl font-bold text-white leading-normal",children:"You're Connected!"}),e.jsx("p",{className:"text-base text-neutral-300 leading-relaxed mt-2",children:"Master Otagon in four easy steps."})]})}),e.jsx("main",{className:"flex-1 overflow-y-auto px-4 sm:px-6 md:px-8 pb-3 sm:pb-4 md:pb-6 how-to-use-scrollbar",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-4 sm:space-y-6 py-2 sm:py-3",children:[e.jsxs(yt,{icon:e.jsx(tn,{className:"w-6 h-6 text-[#FFAB40]"}),title:"1. Instant Capture",children:[e.jsxs("p",{className:"mb-4",children:["Use hotkeys to instantly analyze your game screen. Toggle the",e.jsxs("span",{className:"inline-flex items-center align-middle mx-2 px-2 py-1 rounded-lg bg-black/50 border-2 border-neutral-700/60",children:[e.jsx(Ka,{className:"w-4 h-4 text-sky-400"}),e.jsx("span",{className:"text-white mx-1",children:"/"}),e.jsx(Qa,{className:"w-4 h-4 text-neutral-400"})]}),"button to switch between auto-sending and manual review."]}),e.jsxs("div",{className:"space-y-3 text-sm p-4 bg-gradient-to-r from-black/40 to-neutral-900/40 rounded-xl border border-neutral-700/60 backdrop-blur-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{className:"text-neutral-200",children:"Single Shot:"})," ",e.jsx("kbd",{className:"px-3 py-1.5 mx-2 font-sans font-semibold text-neutral-200 bg-gradient-to-r from-neutral-900/60 to-neutral-800/60 border-2 border-neutral-700/60 rounded-lg",children:"F1"})]}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-neutral-200",children:"Multi Shot:"})," ",e.jsx("kbd",{className:"px-3 py-1.5 mx-2 font-sans font-semibold text-neutral-200 bg-gradient-to-r from-neutral-900/60 to-neutral-800/60 border-2 border-neutral-700/60 rounded-lg",children:"F2"})]}),e.jsxs("p",{className:"text-xs text-neutral-400 mt-2",children:["ðŸ’¡ ",e.jsx("strong",{children:"Custom Hotkeys:"})," You can configure your own hotkeys in the PC client settings"]})]})]}),e.jsxs(yt,{icon:e.jsx(sn,{className:"w-6 h-6 text-[#FFAB40]"}),title:"2. The Perfect Screenshot",children:[e.jsx("p",{children:"For the best hints, capture clear, full-screen views of:"}),e.jsxs("ul",{className:"list-disc list-inside mt-3 space-y-2",children:[e.jsx("li",{children:"Your inventory, skill tree, or map screen."}),e.jsx("li",{children:"The entire boss arena, including the boss."}),e.jsx("li",{children:"The specific puzzle or object you're stuck on."})]})]}),e.jsxs(yt,{icon:e.jsx(Ja,{className:"w-6 h-6 text-[#FFAB40]"}),title:e.jsxs(e.Fragment,{children:["3. Manage Insights",e.jsx(Hs,{})]}),children:[e.jsx("p",{className:"mb-4",children:"Take direct control of your game wiki with natural language commands."}),e.jsxs("div",{className:"space-y-4 text-sm p-4 bg-gradient-to-r from-black/40 to-neutral-900/40 rounded-xl border border-neutral-700/60 backdrop-blur-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{className:"text-neutral-200",children:"Add new tab:"}),e.jsx("br",{}),e.jsx("kbd",{className:"px-3 py-1.5 mt-2 inline-block font-sans font-semibold text-neutral-200 bg-gradient-to-r from-neutral-900/60 to-neutral-800/60 border-2 border-neutral-700/60 rounded-lg w-full text-left",children:'"add tab [title]"'})]}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-neutral-200",children:"Modify existing tab:"}),e.jsx("br",{}),e.jsx("kbd",{className:"px-3 py-1.5 mt-1 inline-block font-sans font-semibold text-neutral-200 bg-gradient-to-r from-neutral-900/60 to-neutral-800/60 border-2 border-neutral-700/60 rounded-lg w-full text-left",children:'"modify tab [id] to [new title]"'})]}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-neutral-200",children:"Delete a tab:"}),e.jsx("br",{}),e.jsx("kbd",{className:"px-3 py-1.5 mt-1 inline-block font-sans font-semibold text-neutral-200 bg-gradient-to-r from-neutral-900/60 to-neutral-800/60 border-2 border-neutral-700/60 rounded-lg w-full text-left",children:'"delete tab [id] confirm"'})]}),e.jsxs("p",{className:"text-xs text-neutral-400 mt-2",children:["ðŸ’¡ ",e.jsx("strong",{children:"Examples:"}),' "add tab Game Progress", "modify tab tab_123 to Current Objectives"']})]})]}),e.jsx(yt,{icon:e.jsx(nn,{isActive:!0,className:"w-6 h-6 text-[#FFAB40]"}),title:e.jsxs(e.Fragment,{children:["4. Go Hands-Free",e.jsx(Hs,{})]}),children:e.jsx("p",{children:"Stay immersed in the action. Enable Hands-Free mode to have hints and lore read aloud to you, keeping you focused on your game."})})]})}),e.jsx("footer",{className:"flex-shrink-0 p-6 sm:p-8 z-10 bg-gradient-to-br from-[#111111] to-[#0A0A0A]",children:e.jsx("div",{className:"w-full max-w-4xl mx-auto text-center",children:e.jsx("button",{onClick:o,className:"bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] md:hover:from-[#E53A3A] md:hover:to-[#D98C1F] text-white font-bold py-4 px-8 rounded-xl transition-all duration-300 md:hover:scale-105 md:hover:shadow-lg active:scale-95 text-lg flex items-center justify-center mx-auto",children:"Let's Begin"})})})]}):e.jsx("div",{className:"h-screen bg-gradient-to-br from-[#111111] to-[#0A0A0A] flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-[#FFAB40]",children:"Loading..."})})},er=pe.memo(Xa),tr=({title:o,description:i,children:c})=>e.jsxs(Je.div,{className:"flex items-start gap-4 p-4 bg-gradient-to-r from-[#1C1C1C]/80 to-[#0A0A0A]/80 backdrop-blur-xl rounded-xl border border-neutral-800/60 hover:border-neutral-700/80 transition-all duration-300",whileHover:{scale:1.01},transition:{type:"spring",stiffness:300,damping:20},children:[e.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-10 w-10 rounded-lg bg-gradient-to-br from-[#FF4D4D]/20 to-[#FFAB40]/20 border border-neutral-700/60",children:c}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:o}),e.jsx("p",{className:"text-xs text-[#A3A3A3] leading-relaxed",children:i})]})]}),sr=[{title:"Massively Increased Limits",description:"Get 1,583 Text | 328 Image Queries every month.",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-[#FFAB40]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})},{title:"Batch Screenshot Capture",description:"Capture the last 5 minutes of gameplay with a hotkey.",icon:e.jsx(tn,{className:"w-5 h-5 text-[#FFAB40]"})},{title:"In-Depth Insight Tabs",description:"Detailed breakdowns on lore, builds, and more.",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-[#FFAB40]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),e.jsx("path",{d:"M3 9h18M9 21V9"})]})},{title:"AI Mode Toggle",description:"Save query limits when you don't need insights.",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-[#FFAB40]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"})]})},{title:"Hands-Free Voice Mode",description:"Get hints read aloud without looking away.",icon:e.jsx(nn,{isActive:!0,className:"w-5 h-5 text-[#FFAB40]"})},{title:"No Ads",description:"Completely ad-free experience.",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-[#FFAB40]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"})]})}],nr=[{title:"Lifetime Price Guarantee",description:"$20/year forever. No increases.",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-amber-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})},{title:"Exclusive Founder's Badge",description:"Permanent badge showing early support.",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-amber-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),e.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),e.jsx("path",{d:"M4 22h16"}),e.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),e.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),e.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]})},{title:"Direct Influence",description:"Join the Founder's Council on Discord.",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-amber-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{title:"First Access & Rewards",description:"Beta access to all new features.",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-amber-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]})}],ar=({onComplete:o,onUpgrade:i,onUpgradeToVanguard:c})=>{const[a,u]=n.useState("pro"),[x,h]=n.useState(!1);if(pe.useEffect(()=>{h(!0)},[]),!x)return e.jsx("div",{className:"h-screen bg-gradient-to-br from-[#111111] to-[#0A0A0A] flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-[#FFAB40]",children:"Loading..."})});const k=a==="pro"?sr:nr,w=a==="vanguard";return e.jsxs("div",{className:"h-screen bg-gradient-to-br from-[#111111] to-[#0A0A0A] text-[#F5F5F5] flex flex-col font-inter overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 px-4 pt-3 pb-2",children:e.jsxs("div",{className:"w-full max-w-xs mx-auto p-1 bg-[#1A1A1A]/80 backdrop-blur-sm rounded-xl flex items-center gap-1",children:[e.jsx(Je.button,{onClick:()=>u("pro"),className:`w-1/2 py-2 text-xs font-bold rounded-lg transition-colors duration-200 ${a==="pro"?"bg-gradient-to-r from-[#424242] to-[#2A2A2A] text-white shadow-md":"text-neutral-400"}`,whileTap:{scale:.95},children:"Pro"}),e.jsx(Je.button,{onClick:()=>u("vanguard"),className:`w-1/2 py-2 text-xs font-bold rounded-lg transition-colors duration-200 ${a==="vanguard"?"bg-gradient-to-r from-[#FF4D4D] to-[#FFAB40] text-white shadow-md":"text-neutral-400"}`,whileTap:{scale:.95},children:"Pro Vanguard"})]})}),e.jsx("main",{className:"flex-1 px-4 py-2 overflow-hidden lg:overflow-y-auto",children:e.jsx("div",{className:"h-full max-w-5xl mx-auto flex flex-col lg:block",children:e.jsx(na,{mode:"wait",children:e.jsxs(Je.div,{className:"h-full",initial:{opacity:0,x:a==="pro"?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:a==="pro"?20:-20},transition:{duration:.2},children:[e.jsx("div",{className:"lg:hidden flex flex-col items-center justify-center h-full",children:w?e.jsxs("div",{className:"flex flex-col flex-1 w-full items-center justify-center h-full gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:"/images/mascot/vanguard-user.png",alt:"Vanguard Mascot",className:"w-60 h-60 sm:w-72 sm:h-72 object-contain rounded-xl"})}),e.jsx("h2",{className:"mt-5 text-xl sm:text-2xl font-bold text-center text-amber-300",children:"Founding Member"}),e.jsx("p",{className:"text-xs sm:text-base text-neutral-400 text-center mt-2 px-2",children:"Shape the future"})]}),e.jsx("div",{className:"py-2 px-3 bg-gradient-to-r from-amber-500/20 to-orange-500/20 border border-amber-500/40 rounded-lg",children:e.jsx("p",{className:"text-xs sm:text-base font-semibold text-amber-300 text-center",children:"âœ¨ All Pro features included!"})}),e.jsx("div",{className:"space-y-2 w-full max-w-xs mx-auto overflow-y-auto max-h-[40vh]",children:k.map(p=>e.jsxs("div",{className:"flex items-center gap-3 py-2 px-2 rounded-lg bg-[#181818]/60 border border-neutral-800/40",children:[e.jsx("svg",{className:"w-6 h-6 flex-shrink-0 text-amber-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-base sm:text-lg text-neutral-200 font-medium",children:p.title})]},p.title))})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",style:{flex:"0 0 40%"},children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:"/images/mascot/pro-user.png",alt:"Pro Mascot",className:"w-60 h-60 sm:w-72 sm:h-72 object-contain rounded-xl"})}),e.jsx("h2",{className:"mt-5 text-xl sm:text-2xl font-bold text-center bg-clip-text text-transparent bg-gradient-to-r from-[#FF4D4D] to-[#FFAB40]",children:"Otagon Pro"}),e.jsx("p",{className:"text-xs sm:text-base text-neutral-400 text-center mt-2 px-2",children:"Ultimate companion"})]}),e.jsx("div",{className:"flex-1 w-full flex flex-col items-center justify-center mt-4",style:{flex:"1 1 60%"},children:e.jsx("div",{className:"space-y-2 w-full max-w-xs mx-auto overflow-y-auto max-h-[40vh]",children:k.map(p=>e.jsxs("div",{className:"flex items-center gap-3 py-2 px-2 rounded-lg bg-[#181818]/60 border border-neutral-800/40",children:[e.jsx("svg",{className:"w-6 h-6 flex-shrink-0 text-[#FFAB40]",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-base sm:text-lg text-neutral-200 font-medium",children:p.title})]},p.title))})})]})}),e.jsxs("div",{className:"hidden lg:flex h-full gap-8 items-center",children:[e.jsxs("div",{className:"w-1/3 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:w?"/images/mascot/vanguard-user.png":"/images/mascot/pro-user.png",alt:w?"Vanguard Mascot":"Pro Mascot",className:"w-48 h-48 xl:w-56 xl:h-56 object-contain rounded-2xl"})}),e.jsx("h2",{className:`mt-4 text-2xl xl:text-3xl font-bold text-center bg-clip-text text-transparent ${w?"bg-gradient-to-r from-amber-400 via-orange-400 to-amber-300":"bg-gradient-to-r from-[#FF4D4D] to-[#FFAB40]"}`,children:w?"Become a Founding Member":"Supercharge with Pro"}),e.jsx("p",{className:"text-sm text-neutral-400 text-center mt-2",children:w?"Join the elite. Shape the future of gaming.":"Unlock the ultimate gaming companion."})]}),e.jsxs("div",{className:"w-2/3 flex flex-col justify-center",children:[w&&e.jsx("div",{className:"mb-4 py-3 px-4 bg-gradient-to-r from-amber-500/20 to-orange-500/20 border border-amber-500/40 rounded-xl",children:e.jsx("p",{className:"text-sm font-semibold text-amber-300 text-center",children:"âœ¨ All Pro features are included!"})}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:k.map(p=>e.jsx(tr,{title:p.title,description:p.description,children:p.icon},p.title))})]})]})]},a)})})}),e.jsx("footer",{className:"flex-shrink-0 bg-gradient-to-t from-[#0A0A0A] to-transparent px-4 pt-3 pb-4 sm:pb-5",children:e.jsxs("div",{className:"w-full max-w-md mx-auto space-y-2",children:[e.jsxs(Je.button,{onClick:a==="pro"?i:c,disabled:!0,className:"w-full font-bold py-3 px-6 rounded-xl cursor-not-allowed opacity-50 text-sm flex items-center justify-center gap-2 bg-gradient-to-r from-neutral-600 to-neutral-500 text-neutral-300",whileTap:{scale:.98},children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Coming Soon"]}),e.jsxs(Je.button,{onClick:o,className:"w-full text-neutral-400 font-medium py-2.5 px-4 rounded-xl border border-neutral-700/50 bg-neutral-800/30 hover:bg-neutral-700/40 hover:text-neutral-200 hover:border-neutral-600/60 transition-all duration-200 text-xs flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Maybe Later"]})]})})]})},rr=pe.memo(ar),or=({className:o="w-6 h-6"})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:o,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),ir=({className:o="w-6 h-6"})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:o,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})}),lr=[{icon:e.jsx(sn,{className:"w-24 h-24 text-[#FF4D4D]"}),title:"Instant Context from Any Screenshot",description:"Upload a screenshot from any game. Otagon instantly identifies the game, your location, and what's happening. Get answers, not spoilers."},{icon:e.jsx(or,{className:"w-24 h-24 text-[#FF4D4D]"}),title:"Hints that Don't Spoil the Story",description:"Stuck on a puzzle or boss? Get contextual, spoiler-free guidance. Discover rich lore about the world without ruining the surprise."},{icon:e.jsx(ir,{className:"w-24 h-24 text-[#FF4D4D]"}),title:"Automatic Progress Tracking",description:"Otagon automatically organizes your chats by game and tracks your main story progress. Easily see how far you've come and pick up right where you left off."},{icon:e.jsx("img",{src:"/images/mascot/2.png",alt:"Connect PC",className:"w-36 h-36 sm:w-48 sm:h-48 md:w-56 md:h-56 object-contain aspect-square",onError:o=>{const i=o.target;i.style.display="none"}}),title:"Connect Your PC for Instant Help",description:"Link your desktop and mobile app to get help without leaving your game. Press a hotkey to instantly send a screenshot for analysis."}],Us=lr.slice(-1),cr=({onSkipConnection:o,onConnect:i,status:c,error:a,connectionCode:u,onConnectionSuccess:x})=>{const[h,k]=n.useState(0),[w,p]=n.useState(u||""),[y,U]=n.useState(!1),[v,N]=n.useState(!1),[C,R]=n.useState(null),[te,_]=n.useState(null);n.useEffect(()=>{y&&c===Q.CONNECTED&&!v&&(N(!0),x())},[c,x,y,v]);const $=Us[h],A=h===Us.length-1,b=c===Q.CONNECTING,t=c===Q.CONNECTED,M=()=>{A||k(L=>L+1)},ce=()=>{h>0&&k(L=>L-1)},ue=()=>{b||t||(U(!0),N(!1),i(w))},G=L=>{_(null);const Y=L.targetTouches[0];Y&&R(Y.clientX)},j=L=>{const Y=L.targetTouches[0];Y&&_(Y.clientX)},g=()=>{if(!C||!te)return;const L=C-te,Y=50,ae=L>Y,q=L<-Y;ae?M():q&&ce(),R(null),_(null)},F=/^\d{6}$/.test(w);return e.jsxs("div",{className:"h-screen bg-[#111111] text-[#F5F5F5] flex flex-col font-inter",onTouchStart:G,onTouchMove:j,onTouchEnd:g,children:[e.jsx("main",{className:"flex-1 flex flex-col items-center justify-center p-4 sm:p-6 md:p-8",children:e.jsxs("div",{className:"text-center max-w-lg w-full",children:[e.jsx("div",{className:"mb-2 sm:mb-4 flex justify-center",children:$==null?void 0:$.icon}),e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-[#F5F5F5] mb-2 sm:mb-4 leading-normal",children:$==null?void 0:$.title}),e.jsx("p",{className:"text-[#CFCFCF] text-base sm:text-lg md:text-xl mb-4 leading-relaxed",children:$==null?void 0:$.description}),A&&e.jsxs("div",{className:"space-y-3 sm:space-y-4 text-left",children:[e.jsx("div",{className:"text-center pb-2",children:e.jsx("button",{onClick:()=>{window.open("https://github.com/readmet3xt/otakon-pc-client/releases/tag/v1.0.0","_blank")},className:"text-sm sm:text-base font-medium text-[#FF4D4D] hover:text-[#FF4D4D] hover:underline transition-all duration-300 hover:scale-105",children:"Download PC Client (v1.0.0)"})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"connection-code",className:"block text-sm sm:text-base font-medium text-[#CFCFCF] mb-2 text-center",children:"6-Digit Connection Code"}),e.jsx("input",{id:"connection-code",type:"text",value:w,onChange:L=>p(L.target.value),placeholder:"123456",maxLength:6,pattern:"\\d{6}",title:"Enter exactly 6 digits",disabled:b||t,required:!0,className:"w-full bg-gradient-to-r from-[#2E2E2E] to-[#1A1A1A] border-2 border-[#424242]/60 rounded-xl py-2 sm:py-3 px-4 text-[#F5F5F5] placeholder-[#6E6E6E] focus:outline-none focus:ring-2 focus:ring-[#FFAB40] focus:border-[#FFAB40]/60 disabled:opacity-50 text-center text-lg sm:text-xl font-mono tracking-widest backdrop-blur-sm",style:{textAlign:"center"}})]}),e.jsxs("div",{className:"min-h-[60px] pt-4 text-center text-base",children:[a&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-[#E53A3A] whitespace-pre-line",children:a}),e.jsx("button",{onClick:()=>{p(""),i("")},className:"text-sm text-[#FFAB40] hover:text-[#FF4D4D] underline transition-colors",children:"Try Again"})]}),t&&e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("img",{src:"/images/mascot/5.2.png",alt:"Connected",className:"w-24 h-24 sm:w-28 sm:h-28 md:w-32 md:h-32 object-contain aspect-square",onError:L=>{const Y=L.target;Y.style.display="none"}}),e.jsx("p",{className:"text-[#5CBB7B]",children:"You're all set! Your PC is now connected."})]}),b&&e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-[#FFAB40] rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-[#FFAB40] rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-[#FFAB40] rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("p",{className:"text-[#FFAB40]",children:"Connecting to PC..."})]})]})]})]})}),e.jsx("footer",{className:"flex-shrink-0 px-4 sm:px-6 md:px-8 pt-3 sm:pt-4 pb-6 sm:pb-8",children:e.jsx("div",{className:"w-full max-w-lg mx-auto",children:A?e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("button",{onClick:ue,disabled:b||!F||a!==null,className:`w-full font-bold py-3 sm:py-4 px-6 sm:px-8 rounded-xl transition-all duration-300 flex items-center justify-center text-sm sm:text-base active:scale-95 ${F&&!b&&!a?"bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] hover:from-[#D42A2A] hover:to-[#C87A1A] text-white hover:scale-105 hover:shadow-xl hover:shadow-[#E53A3A]/25":"bg-gradient-to-r from-neutral-600 to-neutral-500 text-neutral-300 cursor-not-allowed opacity-25"}`,children:b?"Connecting...":"Sync Now"}),e.jsx("button",{onClick:o,disabled:b,className:"w-full bg-gradient-to-r from-neutral-700 to-neutral-600 md:hover:from-neutral-600 md:hover:to-neutral-500 text-white font-bold py-3 sm:py-4 px-6 sm:px-8 rounded-xl transition-all duration-300 md:hover:scale-105 md:hover:shadow-lg active:scale-95 flex items-center justify-center text-sm sm:text-base disabled:opacity-50 disabled:cursor-not-allowed",children:"Skip for Now"})]}):e.jsx("button",{onClick:M,className:"w-full bg-gradient-to-r from-neutral-700 to-neutral-600 md:hover:from-neutral-600 md:hover:to-neutral-500 text-white font-bold py-4 px-8 rounded-xl transition-all duration-300 md:hover:scale-105 md:hover:shadow-lg active:scale-95 flex items-center justify-center",children:"Next"})})})]})},dr=pe.memo(cr),mr=(o={isActive:!0})=>{const[i,c]=n.useState(o),a=n.useCallback(x=>{c(h=>h.isActive&&h.currentGameId===x?{isActive:!1}:{isActive:!0,currentGameId:x})},[]),u=n.useCallback((x,h)=>{c({isActive:h,currentGameId:h?x:void 0})},[]);return{session:i,toggleSession:a,setActiveSession:u}},ur=({isOpen:o,position:i,onClose:c,onDelete:a,onPin:u,onUnpin:x,onClearConversation:h,canDelete:k=!0,canPin:w=!0,isPinned:p=!1,isEverythingElse:y=!1})=>{const U=n.useRef(null);return n.useEffect(()=>{const v=C=>{U.current&&!U.current.contains(C.target)&&c()},N=C=>{C.key==="Escape"&&c()};return o&&(document.addEventListener("mousedown",v),document.addEventListener("keydown",N)),()=>{document.removeEventListener("mousedown",v),document.removeEventListener("keydown",N)}},[o,c]),o?e.jsxs("div",{ref:U,className:"fixed z-[100] bg-surface border border-surface-light/20 rounded-lg shadow-xl py-2 min-w-[160px]",style:{left:i.x,top:i.y,transform:i.y<200?"translate(-50%, 10px)":"translate(-50%, -100%)"},children:[w&&!y&&e.jsxs("button",{onClick:()=>{p?x==null||x():u==null||u(),c()},className:"w-full px-4 py-2 text-left text-text-primary hover:bg-surface-light/50 transition-colors duration-200 flex items-center space-x-3",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),e.jsx("span",{children:p?"Unpin":"Pin to top"})]}),e.jsxs("button",{onClick:()=>{h==null||h(),c()},className:"w-full px-4 py-2 text-left text-orange-400 hover:bg-orange-500/10 transition-colors duration-200 flex items-center space-x-3",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),e.jsx("span",{children:"Clear conversation"})]}),k&&!y&&e.jsxs("button",{onClick:()=>{a==null||a(),c()},className:"w-full px-4 py-2 text-left text-red-400 hover:bg-red-500/10 transition-colors duration-200 flex items-center space-x-3",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),e.jsx("span",{children:"Delete"})]})]}):null},hr=({isOpen:o,onClose:i,conversations:c,activeConversation:a,onConversationSelect:u,onDeleteConversation:x,onPinConversation:h,onUnpinConversation:k,onClearConversation:w,onAddGame:p})=>{var ce,ue,G,j;const[y,U]=n.useState({isOpen:!1,position:{x:0,y:0},conversationId:null}),v=n.useRef(null),N=1500,C=Object.values(c).sort((g,F)=>{const L=g.isGameHub||g.id==="game-hub"||g.title==="Game Hub",Y=F.isGameHub||F.id==="game-hub"||F.title==="Game Hub";return L&&!Y?-1:!L&&Y?1:g.isPinned&&!F.isPinned?-1:!g.isPinned&&F.isPinned?1:g.isPinned&&F.isPinned?(g.pinnedAt||0)-(F.pinnedAt||0):g.createdAt-F.createdAt}),R=(g,F)=>{g.preventDefault(),g.stopPropagation(),U({isOpen:!0,position:{x:g.clientX,y:g.clientY},conversationId:F})},te=g=>{v.current=setTimeout(()=>{U({isOpen:!0,position:{x:window.innerWidth/2,y:window.innerHeight/2},conversationId:g})},N)},_=()=>{v.current&&(clearTimeout(v.current),v.current=null)},$=()=>{U({isOpen:!1,position:{x:0,y:0},conversationId:null})},A=()=>{y.conversationId&&(x(y.conversationId),$())},b=()=>{y.conversationId&&h&&(h(y.conversationId),$())},t=()=>{y.conversationId&&k&&(k(y.conversationId),$())},M=()=>{y.conversationId&&w&&(w(y.conversationId),$())};return e.jsxs(e.Fragment,{children:[o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-[55] lg:hidden",onClick:i}),e.jsx("div",{className:`fixed inset-y-0 left-0 z-[60] w-72 sm:w-80 bg-gradient-to-b from-surface to-background border-r border-surface-light/20 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${o?"translate-x-0":"-translate-x-full"}`,style:{zIndex:60},children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"p-4 sm:p-6 border-b border-surface-light/20 flex-shrink-0 relative",style:{zIndex:10},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-text-primary",children:"Conversations"}),e.jsx("button",{onClick:i,className:"lg:hidden btn-icon p-3 text-text-muted hover:text-text-primary active:scale-95 min-h-[44px] min-w-[44px] flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),p&&e.jsx("div",{className:"px-4 sm:px-6 pt-4 pb-2",children:e.jsxs("button",{onClick:p,className:"w-full px-4 py-3 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] md:hover:from-[#D42A2A] md:hover:to-[#C87A1A] text-white font-medium rounded-lg transition-all shadow-lg md:hover:shadow-xl active:scale-95 flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"Add Game"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 pb-4 sm:pb-6 custom-scrollbar",style:{minHeight:0,maxHeight:"100%"},children:e.jsxs("div",{className:"space-y-2 sm:space-y-3 pt-2",children:[C.map(g=>{const F=g.isGameHub||g.id==="game-hub"||g.title==="Game Hub",L=g.isUnreleased||!1,Y=!F&&!L&&g.gameTitle;(Y||L)&&!g.coverUrl&&console.log("ðŸ–¼ï¸ [Sidebar] Missing coverUrl for:",g.title,"gameTitle:",g.gameTitle,"isUnreleased:",L);let ae="",q="text-text-primary";return F?(ae="border-l-2 border-gradient-to-b from-[#FF4D4D] to-[#FFAB40]",q="bg-gradient-to-r from-[#FF4D4D] to-[#FFAB40] bg-clip-text text-transparent"):L?(ae="border-l-2 border-yellow-500",q="text-yellow-400"):Y&&(ae="border-l-2 border-orange-500",q="text-orange-400"),e.jsx("div",{className:`conversation-tab cursor-pointer transition-all duration-300 relative ${(a==null?void 0:a.id)===g.id?"conversation-tab-active":""} ${ae}`,onClick:()=>u(g.id),onContextMenu:se=>R(se,g.id),onMouseDown:()=>te(g.id),onMouseUp:_,onMouseLeave:_,onTouchStart:()=>te(g.id),onTouchEnd:_,style:{zIndex:1},children:e.jsxs("div",{className:"flex p-3",children:[(Y||L)&&g.coverUrl&&e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx("img",{src:g.coverUrl,alt:g.title,className:"w-14 h-[80px] object-cover rounded shadow-md",loading:"lazy",onError:se=>{se.target.style.display="none"}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:`text-xs font-medium truncate ${q}`,children:g.title}),L&&e.jsx("span",{className:"flex-shrink-0 px-1.5 py-0.5 bg-yellow-500/20 border border-yellow-500/40 rounded text-[10px] text-yellow-400 font-medium",children:"UPCOMING"}),g.isPinned&&e.jsx("svg",{className:"w-3 h-3 text-primary-dark flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})]}),Y&&g.gameProgress!==void 0&&g.gameProgress>0&&e.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5",children:[e.jsx("div",{className:"flex-1 h-1.5 bg-surface-light/30 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-[#D98C1F] to-[#FFB366] rounded-full transition-all duration-300",style:{width:`${Math.min(100,g.gameProgress)}%`}})}),e.jsxs("span",{className:"text-[10px] text-[#D98C1F] font-medium min-w-[28px] text-right",children:[g.gameProgress,"%"]})]}),e.jsxs("p",{className:"text-xs text-text-muted mt-1.5",children:[g.messages.filter(se=>se.role==="assistant").length," messages"]}),e.jsx("p",{className:"text-xs text-text-muted mt-0.5",children:new Date(g.updatedAt).toLocaleDateString()})]}),!F&&e.jsx("button",{onClick:se=>{se.stopPropagation(),x(g.id)},className:"flex-shrink-0 opacity-0 group-hover:opacity-100 p-2 text-text-muted hover:text-red-400 transition-all duration-200 rounded-lg hover:bg-red-500/10 active:scale-95 ml-2",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})},g.id)}),C.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary/20 to-secondary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsx("p",{className:"text-text-muted text-lg",children:"No conversations yet"}),e.jsx("p",{className:"text-sm text-text-muted mt-2",children:"Create your first conversation to get started"})]})]})})]})}),e.jsx(ur,{isOpen:y.isOpen,position:y.position,onClose:$,onDelete:A,onPin:b,onUnpin:t,onClearConversation:M,canDelete:y.conversationId?!((ce=c[y.conversationId])!=null&&ce.isGameHub):!0,canPin:y.conversationId?!((ue=c[y.conversationId])!=null&&ue.isGameHub):!0,isPinned:y.conversationId?(G=c[y.conversationId])==null?void 0:G.isPinned:!1,isEverythingElse:y.conversationId?((j=c[y.conversationId])==null?void 0:j.isGameHub)===!0:!1})]})},xr=({user:o,onClick:i})=>{const{textCount:c,textLimit:a,imageCount:u,imageLimit:x}=o.usage,h=a>0?Math.max(0,100-c/a*100):0,k=x>0?Math.max(0,100-u/x*100):0,w=13,p=2*Math.PI*w,y=p-h/100*p,U=8,v=2*Math.PI*U,N=v-k/100*v,C=3.5;return e.jsx("div",{className:"credit-indicator-wrapper",style:{display:"inline-block",background:"linear-gradient(135deg, #E53A3A, #D98C1F)",padding:"1px",borderRadius:"8px",boxShadow:"0 4px 16px rgba(229, 58, 58, 0.2), 0 2px 8px rgba(217, 140, 31, 0.15), 0 1px 4px rgba(0, 0, 0, 0.1)",filter:"drop-shadow(0 0 10px rgba(229, 58, 58, 0.15))"},children:e.jsx("button",{type:"button",onClick:i,className:"credit-indicator-button flex items-center justify-center h-11 w-11 sm:h-12 sm:w-12 lg:h-14 lg:w-14 rounded-lg transition-all duration-300 hover:scale-105 active:scale-95 min-h-[44px] min-w-[44px]",style:{background:"#0F0F0F",border:"none",outline:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.1)",width:"100%",height:"100%"},"aria-label":"View query credits",children:e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 lg:w-9 lg:h-9 xl:w-10 xl:h-10 flex items-center justify-center rounded-full p-0.5",style:{background:"rgba(0, 0, 0, 0.2)"},children:e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 32 32",fill:"none",children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"sky-gradient",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),e.jsx("stop",{offset:"100%",stopColor:"#0ea5e9"})]}),e.jsxs("linearGradient",{id:"emerald-gradient",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#34d399"}),e.jsx("stop",{offset:"100%",stopColor:"#10b981"})]})]}),e.jsx("circle",{cx:"16",cy:"16",r:w,stroke:"url(#sky-gradient)",strokeWidth:C,strokeDasharray:p,strokeDashoffset:y,strokeLinecap:"round",transform:"rotate(-90 16 16)"}),e.jsx("circle",{cx:"16",cy:"16",r:U,stroke:"url(#emerald-gradient)",strokeWidth:C,strokeDasharray:v,strokeDashoffset:N,strokeLinecap:"round",transform:"rotate(-90 16 16)"})]})})})})},pr=({isActive:o,className:i})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",width:"24",height:"24",children:[e.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",fill:o?"currentColor":"none"}),e.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"})]}),gr=({isHandsFree:o,onToggle:i})=>e.jsx("button",{type:"button",onClick:i,className:`btn-icon p-3 transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center ${o?"text-green-400 hover:text-green-300":"text-text-muted hover:text-text-primary"}`,"aria-pressed":o,"aria-label":"Hands-Free Settings",title:o?"Hands-Free Mode Active":"Hands-Free Voice Response Settings",children:e.jsx(pr,{className:"w-5 h-5 sm:w-6 sm:h-6 flex-shrink-0",isActive:o})}),fr=({isActive:o,className:i})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",width:"24",height:"24",children:[e.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"}),e.jsx("rect",{x:"9",y:"9",width:"6",height:"6",fill:o?"currentColor":"none"}),e.jsx("line",{x1:"9",y1:"1",x2:"9",y2:"4"}),e.jsx("line",{x1:"15",y1:"1",x2:"15",y2:"4"}),e.jsx("line",{x1:"9",y1:"20",x2:"9",y2:"23"}),e.jsx("line",{x1:"15",y1:"20",x2:"15",y2:"23"}),e.jsx("line",{x1:"20",y1:"9",x2:"23",y2:"9"}),e.jsx("line",{x1:"20",y1:"14",x2:"23",y2:"14"}),e.jsx("line",{x1:"1",y1:"9",x2:"4",y2:"9"}),e.jsx("line",{x1:"1",y1:"14",x2:"4",y2:"14"})]}),br=({isEnabled:o,onToggle:i,isPro:c})=>e.jsx("button",{type:"button",onClick:i,className:`btn-icon p-3 transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center ${o?"text-purple-400 hover:text-purple-300":"text-text-muted hover:text-text-primary"} ${c?"":"opacity-50 cursor-not-allowed"}`,"aria-pressed":o,"aria-label":"AI Mode Toggle",title:c?o?"AI Mode ON - Screenshots will be analyzed":"AI Mode OFF - Screenshots stored only":"AI Mode Toggle (Pro Feature)",disabled:!c,children:e.jsx(fr,{className:"w-5 h-5 sm:w-6 sm:h-6 flex-shrink-0",isActive:o})}),vr=({size:o="md",className:i=""})=>{const c={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return e.jsx("div",{className:`animate-spin rounded-full border-2 border-current border-t-transparent ${c[o]} ${i}`})},wr=({isOpen:o,position:i,onClose:c,onOpenSettings:a,onOpenGuide:u,onLogout:x,userTier:h,onTrialStart:k,onUpgradeClick:w,buttonRef:p})=>{const y=n.useRef(null),[U,v]=n.useState(!1),[N,C]=n.useState(!1),[R,te]=n.useState(null),[_,$]=n.useState(""),[A,b]=n.useState(!1),[t,M]=n.useState(!0);n.useEffect(()=>{(async()=>{if(o){M(!0);try{const g=he.getCurrentUser();if(g){const F=await Yt.getTrialStatus(g.authUserId);F&&(v(F.isEligible&&!F.isActive&&h==="free"),C(F.isActive),te(F.expiresAt||null))}}catch(g){console.error("Error checking trial status:",g),v(h==="free"),C(!1)}finally{M(!1)}}else v(!1),C(!1),te(null),$(""),M(!0)})()},[o,h]),n.useEffect(()=>{if(!N||!R)return;const j=()=>{const F=Date.now(),L=R-F;if(L<=0){$("Trial Expired"),C(!1);return}const Y=Math.floor(L/(1e3*60*60*24)),ae=Math.floor(L%(1e3*60*60*24)/(1e3*60*60)),q=Math.floor(L%(1e3*60*60)/(1e3*60));Y>0?$(`${Y}d ${ae}h ${q}m`):ae>0?$(`${ae}h ${q}m`):$(`${q}m`)};j();const g=setInterval(j,1e3);return()=>clearInterval(g)},[N,R]),n.useEffect(()=>{const j=F=>{const L=F.target;y.current&&y.current.contains(L)||p!=null&&p.current&&p.current.contains(L)||c()},g=F=>{F.key==="Escape"&&c()};if(o){const F=setTimeout(()=>{document.addEventListener("mousedown",j),document.addEventListener("touchstart",j),document.addEventListener("keydown",g)},10);return()=>{clearTimeout(F),document.removeEventListener("mousedown",j),document.removeEventListener("touchstart",j),document.removeEventListener("keydown",g)}}return()=>{document.removeEventListener("mousedown",j),document.removeEventListener("touchstart",j),document.removeEventListener("keydown",g)}},[o,c,p]);const ce=async()=>{const j=he.getCurrentUser();if(!(!j||A))try{if(b(!0),await Yt.startTrial(j.authUserId)){E.success("Pro trial activated! Enjoy your 7-day trial."),c();const F=await Yt.getTrialStatus(j.authUserId);F&&(v(!1),C(F.isActive),te(F.expiresAt||null)),k&&k()}else console.error("âŒ Failed to start trial"),E.error("Failed to start trial. Please try again.")}catch(g){console.error("Error starting trial:",g),E.error("Failed to start trial. Please try again.")}finally{b(!1)}},ue=()=>{const L=typeof window<"u"?window.innerWidth:800,Y=typeof window<"u"?window.innerHeight:600;let ae=i.x,q=i.y;return ae=Math.max(8+200/2,Math.min(ae,L-200/2-8)),i.y+280+8>Y?(q=i.y-280-10,q=Math.max(8,q)):q=i.y+10,{left:ae,top:q}};if(!o)return null;const G=ue();return e.jsxs("div",{ref:y,className:"fixed z-[100] bg-surface border border-surface-light/20 rounded-lg shadow-xl py-2 min-w-[200px]",style:{left:G.left,top:G.top,transform:"translateX(-50%)"},children:[e.jsxs("button",{onClick:()=>{a(),c()},className:"w-full px-4 py-2 text-left text-text-primary hover:bg-surface-light/50 transition-colors duration-200 flex items-center space-x-3",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{children:"Settings"})]}),u&&e.jsxs("button",{onClick:()=>{u(),c()},className:"w-full px-4 py-2 text-left text-text-primary hover:bg-gradient-to-r hover:from-[#FF4D4D]/10 hover:to-[#FFAB40]/10 transition-colors duration-200 flex items-center space-x-3",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),e.jsx("span",{children:"Guide"})]}),N&&_&&e.jsxs("div",{className:"w-full px-4 py-2 text-left text-blue-400 flex items-center space-x-3 cursor-default",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsxs("span",{className:"text-sm",children:["Pro Trial: ",_]})]}),t&&h==="free"&&e.jsxs("div",{className:"w-full px-4 py-2 text-left text-text-muted flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-text-muted/30 border-t-text-muted rounded-full animate-spin"}),e.jsx("span",{className:"text-sm",children:"Loading..."})]}),!t&&U&&!N&&e.jsxs("button",{onClick:ce,disabled:A,className:"w-full px-4 py-2 text-left text-blue-400 hover:bg-blue-500/10 transition-colors duration-200 flex items-center space-x-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsx("span",{children:A?"Starting...":"Start 7-Day Pro Trial"})]}),!t&&!U&&!N&&h==="free"&&e.jsxs("button",{onClick:()=>{w&&w(),c()},className:"w-full px-4 py-2 text-left text-[#FFAB40] hover:bg-gradient-to-r hover:from-[#FF4D4D]/10 hover:to-[#FFAB40]/10 transition-colors duration-200 flex items-center space-x-3",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),e.jsx("span",{children:"Upgrade to Pro"})]}),e.jsx("div",{className:"border-t border-surface-light/20 my-1"}),e.jsxs("button",{onClick:()=>{x(),c()},className:"w-full px-4 py-2 text-left text-red-400 hover:bg-red-500/10 transition-colors duration-200 flex items-center space-x-3",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),e.jsx("span",{children:"Logout"})]})]})},jr=({onComplete:o,onDismiss:i})=>{const[c,a]=n.useState(!1),[u,x]=n.useState(()=>typeof window>"u"?!1:window.matchMedia("(max-width: 768px)").matches),[h,k]=n.useState({hintStyle:"Balanced",playerFocus:"Story-Driven",preferredTone:"Encouraging",spoilerTolerance:"Strict"}),[w,p]=n.useState(0);n.useEffect(()=>{if(typeof window>"u")return;const A=window.matchMedia("(max-width: 768px)"),b=t=>x(t.matches);return x(A.matches),A.addEventListener("change",b),()=>A.removeEventListener("change",b)},[]);const y=[{title:"How do you like your hints?",field:"hintStyle",options:[{value:"Cryptic",label:"ðŸ”® Cryptic"},{value:"Balanced",label:"âš–ï¸ Balanced"},{value:"Direct",label:"ðŸŽ¯ Direct"}]},{title:"What's your gaming focus?",field:"playerFocus",options:[{value:"Story-Driven",label:"ðŸ“– Story-Driven"},{value:"Completionist",label:"ðŸ’¯ Completionist"},{value:"Strategist",label:"ðŸ§  Strategist"}]},{title:"Preferred tone?",field:"preferredTone",options:[{value:"Encouraging",label:"ðŸ’ª Encouraging"},{value:"Professional",label:"ðŸ’¼ Professional"},{value:"Casual",label:"ðŸ˜Ž Casual"}]},{title:"Spoiler protection?",field:"spoilerTolerance",options:[{value:"Strict",label:"ðŸ”’ Strict"},{value:"Moderate",label:"ðŸ”“ Moderate"},{value:"Relaxed",label:"ðŸ”“ Relaxed"}]}],U=()=>{w<y.length-1?p(w+1):o(h)},v=()=>{w>0&&p(w-1)},N=(A,b)=>{const t={...h,[A]:b};k(t),setTimeout(()=>{w<y.length-1?p(w+1):o(t)},300)},C=y[w],R=(w+1)/y.length*100,te=c&&u;n.useEffect(()=>{if(!te)return;const A=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=A}},[te]);const _=e.jsx("div",{className:"mx-3 sm:mx-4 lg:mx-6 mb-4 sm:mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-[#FF4D4D]/10 to-[#FFAB40]/10 border-2 border-[#FF4D4D]/30 rounded-xl p-4 shadow-lg animate-slide-down backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#FF4D4D] to-[#FFAB40] rounded-full flex items-center justify-center flex-shrink-0 shadow-lg",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-primary",children:"Personalize Your Experience"}),e.jsx("p",{className:"text-sm text-text-secondary hidden sm:block",children:"Set up your gaming preferences for better AI responses"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[e.jsx("button",{onClick:A=>{A.stopPropagation(),a(!0)},className:"px-4 py-2 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] md:hover:from-[#D42A2A] md:hover:to-[#C87A1A] text-white text-sm font-bold rounded-lg transition-all md:hover:scale-105 active:scale-95 whitespace-nowrap shadow-lg flex-shrink-0",children:"Set Up"}),e.jsx("button",{onClick:A=>{A.stopPropagation(),i()},className:"p-2 text-text-muted hover:text-text-primary transition-colors flex-shrink-0","aria-label":"Dismiss banner",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})})});if(!c)return _;const $=e.jsxs("div",{className:"bg-gradient-to-br from-[#1C1C1C] to-[#0A0A0A] border-2 border-[#FF4D4D]/30 rounded-xl shadow-2xl overflow-hidden animate-scale-in backdrop-blur-xl",role:"dialog","aria-modal":u,"aria-label":"Profile setup wizard",children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] p-4 sm:p-5 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Quick Setup"}),e.jsxs("p",{className:"text-white/90 text-sm mt-1",children:["Step ",w+1," of ",y.length]})]}),e.jsx("button",{onClick:A=>{A.stopPropagation(),i()},className:"p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-colors flex-shrink-0","aria-label":"Close",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"bg-white/20 rounded-full h-2 shadow-inner",children:e.jsx("div",{className:"bg-white rounded-full h-2 transition-all duration-300 shadow-lg",style:{width:`${R}%`}})})]}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:C.title}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:C.options.map(A=>e.jsxs("button",{onClick:b=>{b.stopPropagation(),N(C.field,A.value)},className:`p-4 text-center rounded-lg border-2 transition-all duration-200 hover:scale-105 active:scale-95 ${h[C.field]===A.value?"border-[#FF4D4D] bg-gradient-to-br from-[#FF4D4D]/20 to-[#FFAB40]/20 text-text-primary ring-2 ring-[#FF4D4D]/50 shadow-lg":"border-surface-light/30 bg-surface/50 text-text-secondary hover:border-[#FF4D4D]/50 hover:bg-surface-light/30"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:A.label.split(" ")[0]}),e.jsx("div",{className:"text-sm font-medium",children:A.label.split(" ").slice(1).join(" ")})]},A.value))}),e.jsxs("div",{className:"flex justify-between mt-6 pt-4 border-t border-surface-light/20",children:[e.jsxs("div",{className:"flex space-x-2",children:[w>0&&e.jsx("button",{onClick:A=>{A.stopPropagation(),console.log("ðŸŽ¯ [ProfileBanner] Back button clicked"),v()},className:"px-4 py-2 bg-surface hover:bg-surface-light text-text-primary rounded-lg transition-colors text-sm font-medium",children:"â† Back"}),e.jsx("button",{onClick:A=>{A.stopPropagation(),i()},className:"px-4 py-2 text-text-muted hover:text-text-primary transition-colors text-sm",children:"Skip for now"})]}),e.jsx("button",{onClick:A=>{A.stopPropagation(),U()},className:"px-6 py-2 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] md:hover:from-[#D42A2A] md:hover:to-[#C87A1A] text-white font-bold rounded-lg transition-all md:hover:scale-105 active:scale-95 text-sm shadow-lg",children:w===y.length-1?"âœ“ Complete":"Next â†’"})]})]})]});if(te){const A=b=>{b.target===b.currentTarget&&a(!1)};return e.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center px-4 py-6 bg-black/80 backdrop-blur-lg",onClick:A,children:e.jsx("div",{className:"w-full max-w-md max-h-[90vh] overflow-y-auto custom-scrollbar",children:$})})}return e.jsx("div",{className:"mx-3 sm:mx-4 lg:mx-6 mb-4 sm:mb-6",children:$})},yr=()=>{const o=n.useRef(null),i=n.useRef(!1);return n.useEffect(()=>{if(!i.current)try{typeof window<"u"&&window.adsbygoogle&&(window.adsbygoogle.push({}),i.current=!0)}catch(c){console.error("[AdBanner] Error loading ad:",c)}},[]),e.jsx("div",{className:"px-3 sm:px-4 lg:px-6 pt-0 sm:pt-1 flex-shrink-0",children:e.jsx("div",{className:"bg-gradient-to-r from-gray-100/10 to-gray-200/10 border border-gray-300/20 rounded-xl p-3 sm:p-4 mb-4 sm:mb-6",children:e.jsx("div",{className:"min-h-[64px] sm:min-h-[80px] lg:min-h-[96px] overflow-hidden rounded-lg",children:e.jsx("ins",{ref:o,className:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-4482938310886744","data-ad-slot":"6150844525","data-ad-format":"auto","data-full-width-responsive":"true"})})})})},Nr=({onStartChat:o,onAddGame:i})=>{const[c,a]=n.useState("overview"),u=[{id:"overview",label:"Overview"},{id:"features",label:"Features"},{id:"hotkeys",label:"PC Hotkeys"},{id:"best-practices",label:"Best Practices"}];return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-2 sm:p-4",children:e.jsxs("div",{className:"relative w-full max-w-5xl h-[95vh] sm:max-h-[90vh] bg-background rounded-xl sm:rounded-2xl shadow-2xl border border-transparent bg-clip-padding flex flex-col overflow-hidden",style:{backgroundImage:"linear-gradient(#1a1a1a, #1a1a1a), linear-gradient(135deg, #FF4D4D, #FFAB40)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},children:[e.jsx("button",{onClick:o,className:"absolute top-2 right-2 sm:top-4 sm:right-4 z-10 p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors","aria-label":"Close guide",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("div",{className:"flex-shrink-0 border-b border-gray-700 px-2 sm:px-3 md:px-6 pt-3 sm:pt-6",children:e.jsx("div",{className:"flex justify-start sm:justify-center gap-1 sm:gap-2 md:gap-3 overflow-x-auto pr-8 sm:pr-12 pb-0 scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:u.map(x=>e.jsx("button",{onClick:()=>a(x.id),className:`flex items-center justify-center px-3 sm:px-4 md:px-6 py-2.5 sm:py-3 min-h-[44px] text-xs sm:text-sm md:text-sm font-medium whitespace-nowrap transition-all duration-200 border-b-2 flex-shrink-0 ${c===x.id?"border-[#FF4D4D] text-white bg-gradient-to-b from-[#FF4D4D]/10 to-transparent":"border-transparent text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:e.jsx("span",{children:x.label})},x.id))})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-3 sm:px-4 md:px-6 py-3 sm:py-4 md:py-6 custom-scrollbar",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[c==="overview"&&e.jsx(Ar,{}),c==="features"&&e.jsx(kr,{}),c==="hotkeys"&&e.jsx(Cr,{}),c==="best-practices"&&e.jsx(Sr,{})]})}),e.jsx("div",{className:"flex-shrink-0 py-2 sm:py-3 md:py-4 px-3 sm:px-4 md:px-6 border-t border-gray-700 bg-background",children:e.jsx("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 items-stretch sm:items-center justify-center",children:e.jsxs("button",{onClick:o,className:"inline-flex items-center justify-center gap-2 px-4 sm:px-6 md:px-8 py-2.5 sm:py-3 text-xs sm:text-sm font-bold text-white bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] md:hover:from-[#D42A2A] md:hover:to-[#C87A1A] rounded-lg shadow-lg md:hover:shadow-xl transition-all duration-200 md:hover:scale-105 active:scale-95 min-h-[44px]",children:[e.jsx("span",{children:"Got It!"}),e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})})})]})})},Ar=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-[#1C1C1C] to-[#0A0A0A] border border-[#FF4D4D]/30 rounded-xl p-6 shadow-xl",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-text-primary mb-4 flex items-center",children:[e.jsx("span",{className:"mr-3",children:"ðŸŽ¯"}),"What is Otagon?"]}),e.jsx("p",{className:"text-sm sm:text-base text-text-muted leading-relaxed mb-4",children:"Otagon is your intelligent gaming companion powered by AI. It helps you overcome challenges, discover secrets, and master any game without spoiling the experience. Whether you're stuck on a boss, need strategic advice, or want to understand game mechanics, Otagon has your back."}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/30 rounded-lg p-4",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ“¸"}),e.jsx("h3",{className:"font-semibold text-text-primary mb-2",children:"Screenshot Analysis"}),e.jsx("p",{className:"text-sm text-text-muted",children:"Upload any game screenshot for instant insights"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/10 border border-purple-500/30 rounded-lg p-4",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸŽ®"}),e.jsx("h3",{className:"font-semibold text-text-primary mb-2",children:"Game-Specific Tabs"}),e.jsx("p",{className:"text-sm text-text-muted",children:"Auto-organized tabs for each game you play"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 border border-green-500/30 rounded-lg p-4",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ“š"}),e.jsx("h3",{className:"font-semibold text-text-primary mb-2",children:"Smart Insights"}),e.jsx("p",{className:"text-sm text-text-muted",children:"Story, tips, builds auto-generated for you"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500/10 to-orange-600/10 border border-orange-500/30 rounded-lg p-4",children:[e.jsx("div",{className:"text-3xl mb-2",children:"âš¡"}),e.jsx("h3",{className:"font-semibold text-text-primary mb-2",children:"Dual Modes"}),e.jsx("p",{className:"text-sm text-text-muted",children:"Playing vs Planning for different needs"})]})]})]}),e.jsxs("div",{className:"bg-surface/50 border border-surface-light/30 rounded-xl p-6",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-text-primary mb-4 flex items-center",children:[e.jsx("span",{className:"mr-3",children:"ðŸš€"}),"Quick Start Guide"]}),e.jsxs("ol",{className:"space-y-4",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] rounded-full flex items-center justify-center text-white font-bold text-sm mr-3",children:"1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-1",children:"Start in Game Hub"}),e.jsx("p",{className:"text-sm text-text-muted",children:"Ask general gaming questions or upload screenshots"})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] rounded-full flex items-center justify-center text-white font-bold text-sm mr-3",children:"2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-1",children:"Create Game Tabs"}),e.jsx("p",{className:"text-sm text-text-muted",children:"Mention a game or upload its screenshot to create a dedicated tab"})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] rounded-full flex items-center justify-center text-white font-bold text-sm mr-3",children:"3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-1",children:"Explore Insight Tabs"}),e.jsx("p",{className:"text-sm text-text-muted",children:"AI auto-generates Story, Tips, Builds tabs as you ask questions"})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] rounded-full flex items-center justify-center text-white font-bold text-sm mr-3",children:"4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-1",children:"Toggle Modes"}),e.jsx("p",{className:"text-sm text-text-muted",children:"Switch between Playing (active help) and Planning (strategy)"})]})]})]})]})]}),kr=()=>{const o=[{icon:"ðŸ“¸",title:"Screenshot Analysis",description:"Upload any game screenshot and get instant tactical advice, lore explanations, and hidden secrets.",tips:["Works with any game - from AAA titles to indie gems","AI analyzes HUD elements, enemy types, inventory, and environment","Get tactical positioning advice and item recommendations"]},{icon:"ðŸŽ®",title:"Game-Specific Tabs",description:"Otagon automatically creates dedicated tabs for each game you mention or screenshot.",tips:["Each game gets its own organized conversation space","Tabs persist across sessions - your knowledge builds over time","Easily switch between multiple games you're playing"]},{icon:"ðŸ“š",title:"Smart Insight Tabs",description:"AI automatically generates and updates specialized tabs for story, tips, builds, and more.",tips:["Story tab: Spoiler-free lore and character backgrounds","Tips tab: Combat strategies, secrets, and optimizations","Builds tab: Character builds, skill trees, and equipment loadouts"]},{icon:"âš¡",title:"Playing vs Planning Mode",description:"Toggle between active gameplay help and strategic planning modes.",tips:["Playing Mode: Real-time tactical advice during active gameplay","Planning Mode: Strategic planning, builds, and long-term goals","AI adapts its responses based on your current mode"]},{icon:"ðŸ”—",title:"PC Connection",description:"Connect your PC client to send screenshots with a single hotkey press.",tips:["No alt-tabbing required - stay in your game","Instant screenshot capture with F1 or F2","Automatic image upload and AI analysis"]},{icon:"ðŸŽ¤",title:"Hands-Free Mode",description:"Have AI responses read aloud while you focus on the game.",tips:["Perfect for action games where you can't look away","Natural voice synthesis for comfortable listening","Toggle on/off anytime from the header"]},{icon:"ðŸ’¬",title:"Command Centre",description:"Use @ commands to manage insight tabs with natural language.",tips:['Add new tabs: "add tab Boss Strategies"','Update existing: "update @Tips with this strategy"','Delete tabs: "delete @Builds tab"']},{icon:"ðŸŽ¯",title:"Context-Aware AI",description:"AI remembers your conversation history and game progress.",tips:["Follows up on previous questions naturally","Tracks your game progress across sessions","Provides personalized recommendations based on your playstyle"]}];return e.jsx("div",{className:"grid grid-cols-1 gap-6",children:o.map((i,c)=>e.jsx("div",{className:"bg-gradient-to-br from-[#1C1C1C] to-[#0A0A0A] border border-surface-light/30 rounded-xl p-5 sm:p-6 hover:border-[#FF4D4D]/50 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"text-3xl sm:text-4xl flex-shrink-0",children:i.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-text-primary mb-2",children:i.title}),e.jsx("p",{className:"text-sm sm:text-base text-text-muted mb-4 leading-relaxed",children:i.description}),e.jsx("div",{className:"space-y-2",children:i.tips.map((a,u)=>e.jsxs("div",{className:"flex items-start text-xs sm:text-sm",children:[e.jsx("span",{className:"text-[#FF4D4D] mr-2 mt-0.5 flex-shrink-0",children:"â–¸"}),e.jsx("span",{className:"text-text-secondary",children:a})]},u))})]})]})},c))})},Cr=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#FF4D4D]/10 to-[#FFAB40]/10 border-2 border-[#FF4D4D]/30 rounded-xl p-6 shadow-xl",children:e.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[e.jsx("div",{className:"text-4xl",children:"ðŸ–¥ï¸"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-text-primary mb-2",children:"Download PC Client"}),e.jsx("p",{className:"text-sm sm:text-base text-text-muted mb-4",children:"Get the Otagon PC client to enable hotkey screenshot capture. Stay in your game and send screenshots instantly!"}),e.jsxs("a",{href:"https://github.com/readmet3xt/otakon-pc-client/releases/tag/v1.0.0",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] md:hover:from-[#D42A2A] md:hover:to-[#C87A1A] text-white font-bold rounded-lg transition-all duration-300 md:hover:scale-105 active:scale-95 shadow-lg text-sm sm:text-base",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download PC Client"]})]})]})}),e.jsxs("div",{className:"bg-gradient-to-br from-[#1C1C1C] to-[#0A0A0A] border border-surface-light/30 rounded-xl p-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-text-primary mb-6 flex items-center",children:[e.jsx("span",{className:"mr-3",children:"âŒ¨ï¸"}),"Default Hotkeys"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-surface/30 rounded-lg border border-surface-light/20",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-1",children:"Single Screenshot"}),e.jsx("p",{className:"text-sm text-text-muted",children:"Capture current game screen"})]}),e.jsx("kbd",{className:"px-4 py-2 font-mono font-bold text-white bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] rounded-lg shadow-lg text-lg",children:"F1"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-surface/30 rounded-lg border border-surface-light/20",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-1",children:"Batch Screenshot (PRO)"}),e.jsx("p",{className:"text-sm text-text-muted",children:"Capture last 5 minutes of gameplay"})]}),e.jsx("kbd",{className:"px-4 py-2 font-mono font-bold text-white bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] rounded-lg shadow-lg text-lg",children:"F2"})]})]})]}),e.jsxs("div",{className:"bg-surface/50 border border-surface-light/30 rounded-xl p-6",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-text-primary mb-4 flex items-center",children:[e.jsx("span",{className:"mr-3",children:"ðŸ”§"}),"Setup Instructions"]}),e.jsxs("ol",{className:"space-y-4",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] rounded-full flex items-center justify-center text-white font-bold text-sm mr-3",children:"1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-1",children:"Download & Install"}),e.jsx("p",{className:"text-sm text-text-muted",children:"Download the PC client from the link above and run the installer"})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] rounded-full flex items-center justify-center text-white font-bold text-sm mr-3",children:"2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-1",children:"Connect to Otagon"}),e.jsx("p",{className:"text-sm text-text-muted",children:"Click the connection icon in Otagon and enter the 6-digit code from the PC client"})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] rounded-full flex items-center justify-center text-white font-bold text-sm mr-3",children:"3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-1",children:"Start Gaming"}),e.jsx("p",{className:"text-sm text-text-muted",children:"Launch your game and press F1 or F2 to capture screenshots"})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] rounded-full flex items-center justify-center text-white font-bold text-sm mr-3",children:"4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-1",children:"Customize (Optional)"}),e.jsx("p",{className:"text-sm text-text-muted",children:"Configure custom hotkeys in the PC client settings"})]})]})]})]}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-5",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-2xl",children:"ðŸ’¡"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-2",children:"Pro Tip"}),e.jsx("p",{className:"text-sm text-text-muted leading-relaxed",children:"Toggle between manual and auto-send mode using the pause/play button in Otagon. Manual mode lets you review screenshots before sending, while auto mode sends them instantly for faster help."})]})]})})]}),Sr=()=>{const o=[{category:"ðŸ“¸ Screenshot Best Practices",tips:[{title:"Capture Full Screen",description:"Include the entire game screen with HUD visible for better context",example:"âœ… Full arena view with health/mana bars visible"},{title:"Focus on the Problem",description:"Center the area you need help with in the screenshot",example:"âœ… Boss in frame, puzzle clearly visible, skill tree fully shown"},{title:"Include UI Elements",description:"Don't crop out menus, inventories, or skill trees",example:"âœ… Show entire inventory screen, full skill tree, complete map"},{title:"Timing Matters",description:"Capture at the right moment for best results",example:"âœ… Before engaging boss, at decision points, when stuck"}]},{category:"ðŸ’¬ Asking Questions",tips:[{title:"Be Specific",description:"Clear questions get better answers",example:'âœ… "How do I beat the second phase of Margit?" vs âŒ "Help with boss"'},{title:"Provide Context",description:"Mention your character level, gear, and what you've tried",example:`âœ… "I'm level 25 with +3 sword, tried dodge rolling but still dying"`},{title:"Ask Follow-ups",description:"Otagon remembers conversation history",example:'âœ… "What about for mage builds?" after asking about warrior strategies'},{title:"Use Natural Language",description:"Talk to Otagon like a gaming buddy",example:'âœ… "I keep dying to this attack, any tips?"'}]},{category:"ðŸŽ® Tab Management",tips:[{title:"One Game Per Tab",description:"Create separate tabs for each game you play",example:`âœ… "Elden Ring" tab, "Baldur's Gate 3" tab, etc.`},{title:"Use @ Commands",description:"Manage insight tabs with natural language",example:'âœ… "add tab Boss Strategies", "update @Tips with this info"'},{title:"Keep Game Hub Clean",description:"Use Game Hub for general questions, create game tabs for specific games",example:'âœ… Game Hub: "Best RPGs of 2024?" â†’ Game-specific tab: actual gameplay'},{title:"Pin Important Tabs",description:"Pin up to 3 frequently used tabs for quick access",example:"âœ… Pin your current main game and frequently referenced guides"}]},{category:"âš¡ Mode Usage",tips:[{title:"Playing Mode",description:"Use during active gameplay for real-time tactical help",example:"âœ… Boss fights, difficult platforming, combat encounters"},{title:"Planning Mode",description:"Use when planning builds, routes, or long-term strategy",example:"âœ… Character builds, quest routing, gear optimization"},{title:"Switch Freely",description:"Toggle between modes based on your current needs",example:"âœ… Playing during raid, Planning during downtime"},{title:"Session Summaries",description:"AI creates summaries when you switch modes",example:"âœ… Captures key learnings from your playing session"}]}];return e.jsxs("div",{className:"space-y-6",children:[o.map((i,c)=>e.jsxs("div",{className:"bg-gradient-to-br from-[#1C1C1C] to-[#0A0A0A] border border-surface-light/30 rounded-xl p-5 sm:p-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-text-primary mb-6",children:i.category}),e.jsx("div",{className:"space-y-5",children:i.tips.map((a,u)=>e.jsx("div",{className:"bg-surface/30 border border-surface-light/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3 mb-2",children:[e.jsx("span",{className:"text-[#FF4D4D] text-xl font-bold mt-0.5",children:"â–¸"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-1",children:a.title}),e.jsx("p",{className:"text-sm text-text-muted mb-2",children:a.description}),e.jsx("div",{className:"bg-surface/50 border border-surface-light/10 rounded px-3 py-2 mt-2",children:e.jsx("p",{className:"text-xs text-text-secondary font-mono",children:a.example})})]})]})},u))})]},c)),e.jsx("div",{className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-5",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-3xl",children:"ðŸŽ¯"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-2 text-lg",children:"Remember"}),e.jsx("p",{className:"text-sm text-text-muted leading-relaxed mb-3",children:"Otagon learns your playstyle over time. The more you interact, the better it gets at providing personalized advice. Don't be afraid to ask for clarification or alternative strategies!"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[e.jsx("span",{className:"px-3 py-1 bg-green-500/20 border border-green-500/40 rounded-full text-xs text-green-300",children:"âœ“ Be specific"}),e.jsx("span",{className:"px-3 py-1 bg-green-500/20 border border-green-500/40 rounded-full text-xs text-green-300",children:"âœ“ Provide context"}),e.jsx("span",{className:"px-3 py-1 bg-green-500/20 border border-green-500/40 rounded-full text-xs text-green-300",children:"âœ“ Use screenshots"}),e.jsx("span",{className:"px-3 py-1 bg-green-500/20 border border-green-500/40 rounded-full text-xs text-green-300",children:"âœ“ Ask follow-ups"})]})]})]})})]})},Mr=({isOpen:o,onClose:i})=>o?e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-black/95 to-[#0A0A0A]/95 backdrop-blur-xl flex items-center justify-center p-3 sm:p-4 md:p-6 z-50 animate-fade-in overflow-y-auto",children:e.jsx("div",{className:"w-full max-w-md mx-auto animate-scale-in",children:e.jsxs("div",{className:"bg-gradient-to-b from-[#1A1A1A]/90 to-[#0D0D0D]/90 border border-[#2A2A2A] rounded-2xl sm:rounded-3xl p-4 sm:p-6 md:p-8 shadow-2xl",children:[e.jsxs("div",{className:"relative flex justify-center mb-4 sm:mb-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 bg-green-500/20 rounded-full blur-3xl animate-pulse"})}),e.jsx("img",{src:"/images/mascot/5.2.png",alt:"Connected",className:"relative w-28 h-28 sm:w-36 sm:h-36 md:w-44 md:h-44 object-contain animate-bounce",style:{animationDuration:"1.5s"},onError:c=>{const a=c.target;a.style.display="none"}})]}),e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-[#5CBB7B] text-center mb-2 sm:mb-3",children:"You're Connected!"}),e.jsx("p",{className:"text-sm sm:text-base md:text-lg text-[#CFCFCF] text-center mb-4 sm:mb-6",children:"Your PC is now synced and ready"}),e.jsxs("div",{className:"bg-[#1E1E1E]/80 border border-[#333333] rounded-xl p-3 sm:p-4 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-[#FFAB40]/20 to-[#E53A3A]/20 rounded-xl flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#FFAB40]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("p",{className:"text-xs sm:text-sm text-[#A3A3A3]",children:["Press ",e.jsx("span",{className:"font-mono bg-[#2E2E2E] px-1.5 py-0.5 rounded text-[#FFAB40] text-xs",children:"F1"})," on your PC to capture screenshots"]})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 pt-2 border-t border-[#333333]",children:[e.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs sm:text-sm text-green-400 font-medium",children:"Connection active"})]})]}),e.jsx("button",{onClick:i,className:"w-full bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] text-white font-bold py-3 sm:py-4 px-6 rounded-xl text-sm sm:text-base transition-all duration-300 active:scale-[0.98] hover:shadow-lg hover:shadow-[#E53A3A]/25",children:"Let's Go!"})]})})}):null,Fr=pe.memo(Mr),Er=()=>e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#FFAB40]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),Ir=()=>e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#FFAB40]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Tr=()=>e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#FFAB40]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),Pr=()=>e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#FFAB40]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),Dr=()=>e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#FFAB40]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Lr=()=>e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#FFAB40]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),_r=()=>e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#FFAB40]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Or=()=>e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#FFAB40]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),Br=()=>e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#FFAB40]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),zs=[{icon:e.jsx(Er,{}),title:"1,583 Text Queries",description:"Get answers to all your gaming questions"},{icon:e.jsx(Ir,{}),title:"328 Image Queries",description:"Analyze screenshots for instant help"},{icon:e.jsx(Tr,{}),title:"Batch Screenshots",description:"Capture multiple screenshots at once"},{icon:e.jsx(Pr,{}),title:"Auto Game Insights",description:"Builds, tips & strategies for each game"},{icon:e.jsx(Dr,{}),title:"Grounding Search",description:"Real-time info from the web"},{icon:e.jsx(Lr,{}),title:"Hands-Free Mode",description:"AI reads responses while you play"},{icon:e.jsx(_r,{}),title:"Command Centre",description:"Modify or delete tabs with @ commands"}],Rr=[{icon:e.jsx(Or,{}),title:"VIP Support",description:"Priority access to our team"},{icon:e.jsx(Br,{}),title:"Early Access",description:"Try new features before anyone else"}],Gr=({isOpen:o,onClose:i,tierName:c="pro"})=>{if(!o)return null;const a=c==="vanguard_pro",u=a?[...zs,...Rr]:zs;return e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-black/95 to-[#0A0A0A]/95 backdrop-blur-xl flex items-center justify-center p-3 sm:p-4 md:p-6 z-50 animate-fade-in overflow-y-auto",children:e.jsx("div",{className:"w-full max-w-lg mx-auto animate-scale-in",children:e.jsxs("div",{className:"bg-gradient-to-b from-[#1A1A1A]/90 to-[#0D0D0D]/90 border border-[#2A2A2A] rounded-2xl sm:rounded-3xl p-4 sm:p-5 md:p-6 shadow-2xl",children:[e.jsxs("div",{className:"relative flex justify-center mb-2 sm:mb-4",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:`w-20 h-20 sm:w-36 sm:h-36 ${a?"bg-purple-500/25":"bg-blue-500/25"} rounded-full blur-3xl animate-pulse`})}),e.jsx("img",{src:"/images/mascot/pro-user.png",alt:"Pro User",className:"relative w-16 h-16 sm:w-32 sm:h-32 md:w-40 md:h-40 object-contain animate-bounce",style:{animationDuration:"1.5s"},onError:x=>{const h=x.target;h.style.display="none"}})]}),e.jsxs("h1",{className:`text-lg sm:text-2xl md:text-3xl font-bold text-center mb-0.5 sm:mb-2 ${a?"text-purple-400":"text-blue-400"}`,children:["Welcome to ",a?"Vanguard Pro":"Pro","!"]}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-[#CFCFCF] text-center mb-3 sm:mb-5",children:"You've unlocked the full Otagon experience"}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-2 gap-1.5 sm:gap-3 mb-3 sm:mb-5",children:u.map(x=>e.jsx("div",{className:"bg-[#1E1E1E]/60 border border-[#333333]/60 rounded-lg sm:rounded-xl p-2 sm:p-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-1 sm:gap-2.5",children:[e.jsx("div",{className:"flex-shrink-0",children:x.icon}),e.jsxs("div",{className:"flex-1 min-w-0 text-center sm:text-left",children:[e.jsx("h3",{className:"text-[10px] sm:text-sm font-semibold text-[#F5F5F5] leading-tight",children:x.title}),e.jsx("p",{className:"hidden sm:block text-xs text-[#A3A3A3] leading-tight mt-0.5",children:x.description})]})]})},x.title))}),e.jsxs("div",{className:"bg-[#1E1E1E]/60 border border-[#333333]/60 rounded-lg sm:rounded-xl p-2.5 sm:p-4 mb-3 sm:mb-5",children:[e.jsxs("h3",{className:"text-xs sm:text-sm font-semibold text-[#FFAB40] mb-1.5 sm:mb-2 flex items-center gap-1.5 sm:gap-2",children:[e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Pro Tips"]}),e.jsxs("ul",{className:"text-[10px] sm:text-xs text-[#CFCFCF] space-y-0.5 sm:space-y-1",children:[e.jsxs("li",{className:"flex items-start gap-1.5",children:[e.jsx("span",{className:"text-[#FFAB40] mt-0.5",children:"â€¢"}),e.jsxs("span",{children:["Press ",e.jsx("span",{className:"font-mono bg-[#2E2E2E] px-1 py-0.5 rounded text-[#FFAB40]",children:"F2"})," on PC for batch screenshots"]})]}),e.jsxs("li",{className:"flex items-start gap-1.5",children:[e.jsx("span",{className:"text-[#FFAB40] mt-0.5",children:"â€¢"}),e.jsx("span",{children:"Game insights auto-generate for each game tab"})]}),e.jsxs("li",{className:"flex items-start gap-1.5",children:[e.jsx("span",{className:"text-[#FFAB40] mt-0.5",children:"â€¢"}),e.jsx("span",{children:"Toggle Hands-Free mode for voice responses"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3 sm:mb-5",children:[e.jsx("div",{className:`w-2 h-2 sm:w-2.5 sm:h-2.5 ${a?"bg-purple-400":"bg-blue-400"} rounded-full animate-pulse`}),e.jsxs("span",{className:`text-xs sm:text-sm font-medium ${a?"text-purple-400":"text-blue-400"}`,children:[a?"Vanguard Pro":"Pro"," Active"]})]}),e.jsx("button",{onClick:i,className:"w-full bg-gradient-to-r from-[#E53A3A] to-[#D98C1F] text-white font-bold py-2.5 sm:py-4 px-6 rounded-xl text-sm sm:text-base transition-all duration-300 active:scale-[0.98] hover:shadow-lg hover:shadow-[#E53A3A]/25",children:"Let's Go!"})]})})})},Hr=pe.memo(Gr),Ur=()=>e.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ’¬"}),e.jsx("h2",{className:"text-xl font-bold text-[#F5F5F5] mb-2",children:"Chat Temporarily Unavailable"}),e.jsx("p",{className:"text-[#CFCFCF] mb-4",children:"We encountered an error loading the chat. Please try refreshing."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gradient-to-r from-[#FF4D4D] to-[#FFAB40] text-white rounded-lg font-semibold hover:scale-105 transition-transform",children:"Refresh Page"})]})}),zr=({onLogout:o,onOpenSettings:i,onOpenAbout:c,onOpenPrivacy:a,onOpenRefund:u,onOpenContact:x,onOpenTerms:h,connectionStatus:k,connectionError:w,connectionCode:p,onConnect:y,onDisconnect:U,onClearConnectionError:v,onWebSocketMessage:N,showProfileSetupBanner:C=!1,onProfileSetupComplete:R,onProfileSetupDismiss:te})=>{const[_,$]=n.useState(null),[A,b]=n.useState({}),[t,M]=n.useState(null),[ce,ue]=n.useState(!1),[G,j]=n.useState(!0),[g,F]=n.useState([]),[L,Y]=n.useState(null),{session:ae,toggleSession:q,setActiveSession:se}=mr(),[ie,Se]=n.useState(()=>{const s=localStorage.getItem("otakon_manual_upload_mode");return s!==null?s==="true":!0}),[ye,De]=n.useState(!1),[ct,dt]=n.useState(!1),[Mt,Ve]=n.useState(!1),[Xe,mt]=n.useState(!1),[H,J]=n.useState(!1),[ne,rs]=n.useState(!1),[an,os]=n.useState(!1),[rn,on]=n.useState("pro"),[ln,cn]=n.useState(null),[dn,ut]=n.useState(null),Ft=p??ln,ht=cn,[et,mn]=n.useState(()=>localStorage.getItem("otakonHandsFreeMode")==="true"),[un,is]=n.useState(!1),[Et,hn]=n.useState(()=>localStorage.getItem("otakonAiMode")!=="false"),xt=n.useRef(null),[xn,It]=n.useState(""),[tt,pt]=n.useState(null),[Le,Ue]=n.useState(null),gt=n.useRef(!1),ft=n.useRef(!1),Me=n.useRef(null),ls=n.useRef(0),cs=500,ds=n.useRef(null),[pn,Tt]=n.useState(!1),[qe,Pt]=n.useState(null),re=n.useMemo(()=>_||{tier:"free"},[_]),[gn,Dt]=n.useState(!1),[fn,Lt]=n.useState(!1),[_t,Ot]=n.useState(null),[bn,ms]=n.useState(!1),bt=n.useRef(null),Ze=s=>{const r={};return Object.keys(s).forEach(m=>{var l;r[m]={...s[m],subtabs:s[m].subtabs?(l=s[m].subtabs)==null?void 0:l.map(d=>({...d})):void 0,messages:s[m].messages.map(d=>({...d}))}}),r},[Bt,us]=n.useState({isOpen:!1,position:{x:0,y:0}}),hs=n.useRef(null),Ye=k??Q.DISCONNECTED,vn=w??null;n.useEffect(()=>{const s=localStorage.getItem("otakon_connection_code");if(s){ht(s);const r=localStorage.getItem("otakon_last_connection");r&&ut(new Date(r))}},[]),n.useEffect(()=>{Kt.init().catch(s=>{})},[]),n.useEffect(()=>{localStorage.setItem("otakon_manual_upload_mode",String(ie))},[ie]);const st=n.useCallback(s=>{if(console.log("ðŸ“¸ [MainApp] handleWebSocketMessage called with type:",s.type),s.type==="partner_connected"||s.type==="connection_alive"||s.type==="connected"||s.status==="connected"){console.log("ðŸ“¸ [MainApp] Connection confirmation received (handled by MainAppRoute)"),ut(new Date);return}if(s.type==="screenshot-single"){console.log("ðŸ“¸ [MainApp] screenshot-single received from PC client");const r=s.payload,m=r==null?void 0:r.images;if(m&&Array.isArray(m)&&m.length>0){console.log("ðŸ“¸ [MainApp] Processing single screenshot from F1");const l=m[0],d=es(l);if(!d.valid){console.error("ðŸ“¸ [MainApp] Screenshot validation failed:",d.error),E.error(`Screenshot validation failed: ${d.error}`);return}const f=Os(l);if(console.log("ðŸ“¸ [MainApp] Screenshot validated:",{sizeMB:f,length:l.length}),ie){Ue(l),E.info("Screenshot queued. Review and send when ready.");return}t&&Me.current?(Me.current("",l),Ue(null)):E.warning("No active conversation. Please select or create a conversation first.")}else console.warn("ðŸ“¸ [MainApp] screenshot-single received but no images in payload");return}if(s.type==="screenshot-multi"){console.log("ðŸ“¸ [MainApp] screenshot-multi received from PC client");const r=he.getCurrentUser(),m=(r==null?void 0:r.tier)||"free";if(console.log("ðŸ“¸ [MainApp] Checking tier access - userTier:",m,"user:",r==null?void 0:r.email),m!=="pro"&&m!=="vanguard_pro"){console.warn("ðŸ“¸ [MainApp] screenshot-multi blocked - Free tier users can only use F1 (single screenshot)"),console.log("ðŸ“¸ [MainApp] Showing upgrade toast for free user"),E.warning("Batch screenshots (F2) are a Pro feature. Upgrade to unlock!");return}const l=s.payload,d=l==null?void 0:l.images;d&&Array.isArray(d)&&d.length>0?(console.log("ðŸ“¸ [MainApp] Processing",d.length,"buffered screenshots from F2"),d.forEach((f,D)=>{console.log("ðŸ“¸ [MainApp] Processing screenshot",D+1,"of",d.length);const K=es(f);if(!K.valid){console.error("ðŸ“¸ [MainApp] Screenshot",D+1,"validation failed:",K.error);return}if(ie)D===0&&(Ue(f),E.info(`${d.length} screenshots received. First one queued.`));else if(t&&Me.current){const oe=Me.current;setTimeout(()=>{oe("",f)},D*500)}})):console.warn("ðŸ“¸ [MainApp] screenshot-multi received but no images in payload");return}if(s.type==="screenshot"&&s.dataUrl){const r=s.dataUrl,m=es(r);if(!m.valid){console.error("ðŸ“¸ [MainApp] Screenshot validation failed:",m.error),E.error(`Screenshot validation failed: ${m.error}`);return}const l=Os(r);if(console.log("ðŸ“¸ [MainApp] Processing screenshot:",{dataUrlLength:r.length,sizeMB:l,dataUrlPreview:r.substring(0,50),isManualUploadMode:ie,hasActiveConversation:!!t}),ie){Ue(r),E.info("Screenshot queued. Review and send when ready.");return}t&&Me.current?(Me.current("",r),Ue(null)):E.warning("No active conversation. Please select or create a conversation first.")}},[ie,t,y,Ft]),wn=()=>{Ue(null)};n.useEffect(()=>{console.log("ðŸ“¸ [MainApp] queuedScreenshot state changed:",{hasQueuedScreenshot:!!Le,queuedScreenshotLength:Le==null?void 0:Le.length,queuedScreenshotPreview:Le==null?void 0:Le.substring(0,50)})},[Le]),n.useEffect(()=>{N&&N(st)},[N,st]),n.useEffect(()=>{Ye===Q.CONNECTED&&(console.log("ðŸ“¸ [MainApp] Connection is CONNECTED - updating WebSocket handlers to receive screenshots"),ca(()=>{console.log("ðŸ“¸ [MainApp] WebSocket onOpen (already connected)")},st,s=>{console.error("ðŸ“¸ [MainApp] WebSocket error:",s)},()=>{console.log("ðŸ“¸ [MainApp] WebSocket closed")}))},[Ye,st]);const Ke=n.useRef(!1),[_e,Rt]=n.useState(null),nt=n.useRef(null);n.useEffect(()=>{const s=()=>{console.log("ðŸ” [MainApp] User logout detected - setting logout flag and resetting state"),Ke.current=!0,gt.current=!1,ft.current=!1,$(null),b({}),M(null),j(!0),F([]),Ue(null),Rt(null),nt.current=null,console.log("ðŸ” [MainApp] State and refs reset for new login")},r=()=>{console.log("ðŸ” [MainApp] Caches cleared event received - logout complete, ready for new user"),Ke.current=!1,console.log("ðŸ” [MainApp] Logout flag cleared - new user can now load")};return window.addEventListener("otakon:user-logout",s),window.addEventListener("otakon:caches-cleared",r),()=>{window.removeEventListener("otakon:user-logout",s),window.removeEventListener("otakon:caches-cleared",r)}},[]),n.useEffect(()=>{const s=he.subscribe(r=>{var l;const m=((l=r.user)==null?void 0:l.authUserId)||null;m!==_e&&(console.log("ðŸ” [MainApp] Auth state change detected:",{previousUserId:_e,newUserId:m,isLoading:r.isLoading,isLoggingOut:Ke.current}),m&&(Ke.current&&(console.log("ðŸ” [MainApp] New user detected while logout flag was set - clearing flag"),Ke.current=!1),Rt(m)))});return()=>{s()}},[_e]),n.useEffect(()=>{const s=async(r=0)=>{if(Ke.current){console.log("ðŸ” [MainApp] Skipping loadData - logout in progress");return}if(gt.current)return;const m=_e&&nt.current!==_e;if(!(ft.current&&r===0&&!m)){m&&(console.log("ðŸ” [MainApp] New user detected, resetting for fresh load:",{previousUser:nt.current,newUser:_e}),ft.current=!1,nt.current=_e),gt.current=!0;try{const l=he.getCurrentUser();if(l)$(l),it.setCurrentUser(l),_e||(Rt(l.authUserId),nt.current=l.authUserId);else if(r===0){setTimeout(()=>s(1),500);return}console.log("ðŸ” [MainApp] Loading conversations (attempt",r+1,")");const d=r===0||!!m,f=await P.ensureGameHubExists(d);console.log("ðŸ” [MainApp] Game Hub from ensureGameHubExists:",{id:f==null?void 0:f.id,title:f==null?void 0:f.title,isGameHub:f==null?void 0:f.isGameHub});let D=await P.getConversations(d);console.log("ðŸ” [MainApp] Conversations from getConversations:",Object.keys(D)),console.log("ðŸ” [MainApp] Conversation count:",Object.keys(D).length),f&&!D[f.id]&&(D[f.id]=f),b(D);let K=await P.getActiveConversation(),oe=Object.values(D).find(O=>O.isGameHub||O.title==="Game Hub"||O.id==="game-hub");if(!oe&&f&&(oe=f),Object.keys(D).length===0){const O=P.createConversation("Game Hub","game-hub");await P.addConversation(O),await P.setActiveConversation(O.id);const V=await P.getConversations(),ot=Object.keys(V).length>0?V:{[O.id]:O};b(ot),K=ot[O.id],M(K),localStorage.setItem("otakon_has_used_app","true"),console.log('ðŸ” [MainApp] Created and activated "Game Hub" conversation (first-run complete)')}else if(!K&&oe){await P.setActiveConversation(oe.id);const O=await P.getConversations();b(O),K=O[oe.id],M(K)}else if(oe){if(K)M(K);else if(oe){await P.setActiveConversation(oe.id);const O=await P.getConversations();b(O),M(O[oe.id])}}else{const O=P.createConversation("Game Hub","game-hub");if(await P.addConversation(O),K){const V=await P.getConversations();b(V),M(K)}else{await P.setActiveConversation(O.id);const V=await P.getConversations();b(V),K=V["game-hub"],M(K)}}const X=K||oe;if(X)if(X.isGameHub||X.id===Xt)if(!X.messages||X.messages.length===0)F(Ls);else{const O=We.getFallbackSuggestions(X.id,X.isGameHub);F(O)}else{const O=We.getFallbackSuggestions(X.id,X.isGameHub);F(O)}if(X)console.log("ðŸ” [MainApp] Initialization complete with active conversation:",X.id),j(!1);else{console.error("ðŸ” [MainApp] ERROR: No active conversation after initialization!"),console.log("ðŸ” [MainApp] userConversations:",Object.keys(D)),console.log("ðŸ” [MainApp] gameHubFromEnsure:",f==null?void 0:f.id);let O=Object.values(D).find(V=>V.isGameHub||V.title==="Game Hub"||V.id==="game-hub");if(!O&&f&&(console.log("ðŸ” [MainApp] Using gameHubFromEnsure as fallback"),O=f,D[O.id]=O,b({...D})),O){console.log("ðŸ” [MainApp] Setting Game Hub as active:",O.id),await P.setActiveConversation(O.id);const V=await P.getConversations();b(V),M(V[O.id]||O)}else{console.error("ðŸ” [MainApp] CRITICAL: No Game Hub found at all! Creating new one...");const V=P.createConversation("Game Hub","game-hub");await P.addConversation(V),await P.setActiveConversation(V.id),b({[V.id]:V}),M(V)}j(!1)}ft.current=!0}catch(l){if(console.error("ðŸ” [MainApp] Error loading data:",l),r<3){const d=Math.pow(2,r)*1e3;setTimeout(()=>s(r+1),d)}else console.error("ðŸ” [MainApp] Failed to load data after 3 attempts"),E.error("Failed to load conversations. Please refresh the page.",{action:{label:"Refresh",onClick:()=>window.location.reload()}}),M(null),j(!1)}finally{gt.current=!1}}};s()},[_e]),n.useEffect(()=>{const s=setTimeout(()=>{if(G)if(Object.keys(A).length>0||t)j(!1);else{const r=he.getCurrentUser();r&&($(r),it.setCurrentUser(r),j(!1))}},3e3);return()=>clearTimeout(s)},[G,A,t]);const xs=n.useRef(!1);n.useEffect(()=>{const s=(re==null?void 0:re.tier)||"free",r=ds.current;if(ds.current=s,r===null){console.log("ðŸ”„ [TierChange] Initial tier set:",s);return}if(G){console.log("ðŸ”„ [TierChange] Skipping tier change during initialization");return}if(!xs.current&&(_!=null&&_.id)){xs.current=!0,console.log("ðŸ”„ [TierChange] First user load - tier initialized to:",s);return}if(r===s)return;console.log("ðŸ”„ [TierChange] Tier changed from",r,"to",s);const m=r==="free";if(m&&(s==="pro"||s==="vanguard_pro")){console.log("ðŸ”„ [TierChange] User upgraded from free to",s,"- generating subtabs for existing game tabs");const d=`otakon_upgrade_splash_shown_${s}`;localStorage.getItem(d)==="true"?E.success("Upgrade Complete! ðŸŽ‰ Generating game insights..."):(console.log("ðŸ”„ [TierChange] Showing upgrade splash for first-time",s,"user"),on(s),os(!0),localStorage.setItem(d,"true")),Tt(!0),Te.generateSubtabsForExistingGameTabs(A,void 0,async(D,K,oe)=>{if(console.log(`ðŸ”„ [TierChange] Progress: ${D}/${K} - ${oe}`),Pt({current:D+1,total:K,gameName:oe}),D<K)try{const X=await P.getConversations(!0);b(X)}catch(X){console.warn("Failed to incrementally refresh conversations:",X)}else E.success(`All insights generated! âœ¨ Created insights for ${K} games`),Tt(!1),Pt(null),P.getConversations(!0).then(X=>{b(X)}).catch(X=>{console.error("Failed to refresh conversations:",X)})}).catch(D=>{console.error("ðŸ”„ [TierChange] Failed to generate subtabs:",D),Tt(!1),Pt(null),E.error("Error generating insights. Some game insights may not have been created.")})}else!m&&s==="free"&&(console.log("ðŸ”„ [TierChange] User downgraded to free tier - subtabs preserved but will not update"),E.info("Subscription ended. Your game insights are preserved but won't update until you resubscribe."))},[re==null?void 0:re.tier,A,G,_==null?void 0:_.id]),n.useEffect(()=>{if(!(t!=null&&t.id))return;const s=Oe.channel(`conversation:${t.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"conversations",filter:`id=eq.${t.id}`},async r=>{b(l=>{const d={...l},f=r.new;return f&&d[t.id]&&(d[t.id]={...d[t.id],...f,subtabs:f.subtabs||d[t.id].subtabs||[]}),d});const m=r.new;t.id===(m==null?void 0:m.id)&&M(l=>l&&{...l,...m,subtabs:m.subtabs||l.subtabs||[]})}).subscribe(r=>{r==="SUBSCRIBED"||r==="CHANNEL_ERROR"&&console.error("âŒ [MainApp] Real-time subscription error")});return()=>{s.unsubscribe()}},[t==null?void 0:t.id]),n.useEffect(()=>{(async()=>{var m;if(console.log("ðŸŽ® [IGDB] Effect triggered:",{hasActiveConv:!!t,gameTitle:t==null?void 0:t.gameTitle,isGameHub:t==null?void 0:t.isGameHub,convId:t==null?void 0:t.id,prevFetched:bt.current}),!(t!=null&&t.gameTitle)||t.isGameHub){console.log("ðŸŽ® [IGDB] Skipping fetch - no gameTitle or is Game Hub"),Ot(null),bt.current=null;return}const r=t.gameTitle;if(bt.current===r){console.log("ðŸŽ® [IGDB] Already fetched for this game, skipping");return}console.log("ðŸŽ® [MainApp] Fetching IGDB data for:",r),ms(!0),bt.current=r;try{const l=await ma(r);if(Ot(l),l){console.log("âœ… [MainApp] IGDB data loaded:",l.name);const d=ua(l);if(console.log("ðŸ–¼ï¸ [MainApp] Cover URL for sidebar:",d,"Original:",(m=l.cover)==null?void 0:m.url),d&&t){const f={...A};f[t.id]={...t,coverUrl:d},b(f),console.log("ðŸ–¼ï¸ [MainApp] Updated conversation with coverUrl:",t.id)}}else console.log("â„¹ï¸ [MainApp] No IGDB data found for:",r)}catch(l){console.error("âŒ [MainApp] Failed to fetch IGDB data:",l),Ot(null)}finally{ms(!1)}})()},[t==null?void 0:t.gameTitle,t==null?void 0:t.isGameHub]);const jn=async()=>{try{await he.refreshUser();const s=he.getCurrentUser();s&&($(s),it.setCurrentUser(s))}catch(s){console.error("Failed to refresh user data:",s),E.warning("Failed to refresh user data. Please refresh the page if you experience issues.")}};n.useEffect(()=>{const s=localStorage.getItem("otakon_connection_code");s&&!Ft&&(console.log("ðŸ”— [MainApp] Found stored code, triggering reconnection via parent..."),ht(s),y?(console.log("ðŸ”— [MainApp] Using propOnConnect for reconnection"),y(s)):(console.log("ðŸ”— [MainApp] No propOnConnect, handling WebSocket locally"),Ct(s,()=>{console.log("ðŸ”— [MainApp] Local WebSocket opened")},st,d=>{console.error("WebSocket error:",d)},()=>{console.log("ðŸ”— [MainApp] Local WebSocket closed")})))},[]),n.useEffect(()=>{const s=r=>{const m=r.target;if(!(m.tagName==="INPUT"||m.tagName==="TEXTAREA"||m.isContentEditable)){if((r.ctrlKey||r.metaKey)&&r.key==="k"){r.preventDefault();const l=document.querySelector('textarea[placeholder*="message"]');l&&(l.focus(),E.info("Chat input focused"))}if((r.ctrlKey||r.metaKey)&&r.key==="g"){r.preventDefault();const l=Object.values(A).find(d=>d.isGameHub);l&&(ps(l.id),E.info("Switched to Game Hub"))}r.key==="Escape"&&ce&&(r.preventDefault(),L&&(L.abort(),E.info("Generation stopped")))}};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[A,ce,L]);const ps=async s=>{console.error("ðŸ”„ [MainApp] Switching to conversation:",s),tt&&pt(null);const r=A[s];if(r){console.error("ðŸ”„ [MainApp] âš¡ Instant UI update for conversation:",s),M(r),De(!1);const l=ae.currentGameId===s;!l&&Te.isGameTab(r)&&!r.isGameHub&&!r.isUnreleased?se(s,!0):!l&&(!r||r.isGameHub)&&se("",!1),P.setConversations(A).catch(d=>{console.error("ðŸ”„ [MainApp] Failed to persist conversations:",d)}),P.setActiveConversation(s).catch(d=>{console.error("ðŸ”„ [MainApp] Failed to sync active conversation:",d)})}else{console.error("ðŸ”„ [MainApp] âš ï¸ Conversation not found in local state:",s),console.error("ðŸ”„ [MainApp] Available conversations:",Object.keys(A)),console.error("ðŸ”„ [MainApp] This should NOT happen - conversation should exist in state");const l=await P.getConversations(),d={...A,...l};b(d),M(d[s]);const f=d[s],D=ae.currentGameId===s;!D&&f&&Te.isGameTab(f)&&!f.isGameHub&&!f.isUnreleased?se(s,!0):!D&&(!f||f.isGameHub)&&se("",!1)}r||De(!1);const m=A[s];if(m!=null&&m.isGameHub||s===Xt)if(!m||!m.messages||m.messages.length===0)F(Ls);else{const l=We.getFallbackSuggestions(s,m.isGameHub);F(l)}else{const l=We.getFallbackSuggestions(s,m==null?void 0:m.isGameHub);F(l)}},yn=async s=>{const r=(t==null?void 0:t.id)===s,m=A[s];b(l=>{const d={...l};return delete d[s],d});try{await P.deleteConversation(s),console.log(`âœ… [MainApp] Successfully deleted conversation: ${s}`)}catch(l){console.error("Failed to delete conversation:",l),b(d=>({...d,[s]:m})),E.error("Failed to delete conversation.");return}if(r){const l=A[Xt]||A["game-hub"];if(l)P.setActiveConversation(l.id).catch(console.error),M(l),se("",!1);else{const d=Object.values(A)[0]||null;d?(P.setActiveConversation(d.id).catch(console.error),M(d)):M(null)}De(!1)}},Nn=async s=>{if(Object.values(A).filter(l=>l.isPinned).length>=3){E.warning("You can only pin up to 3 conversations.");return}const m=Date.now();b(l=>({...l,[s]:{...l[s],isPinned:!0,pinnedAt:m}})),P.updateConversation(s,{isPinned:!0,pinnedAt:m}).catch(l=>{console.error("Failed to pin conversation:",l),b(d=>({...d,[s]:{...d[s],isPinned:!1,pinnedAt:void 0}})),E.error("Failed to pin conversation.")})},An=async s=>{b(r=>({...r,[s]:{...r[s],isPinned:!1,pinnedAt:void 0}})),P.updateConversation(s,{isPinned:!1,pinnedAt:void 0}).catch(r=>{console.error("Failed to unpin conversation:",r),b(m=>({...m,[s]:{...m[s],isPinned:!0,pinnedAt:A[s].pinnedAt}})),E.error("Failed to unpin conversation.")})},kn=async s=>{try{b(r=>({...r,[s]:{...r[s],messages:[],updatedAt:Date.now()}})),(t==null?void 0:t.id)===s&&M(r=>r?{...r,messages:[],updatedAt:Date.now()}:null),P.clearConversation(s).catch(r=>{console.error("Failed to clear conversation:",r),E.error("Failed to clear conversation.")}),E.success("Conversation cleared")}catch(r){console.error("Failed to clear conversation:",r)}},Cn=()=>{Ve(!0)},Sn=()=>{Ve(!1)},Mn=()=>{},Fn=()=>{mt(!0)},gs=()=>{Dt(!0)},En=async(s,r)=>{const m=Object.values(A).find(d=>d.isGameHub||d.id==="game-hub"||d.title==="Game Hub");if(!m){E.error("Game Hub not found. Please refresh the page.");return}await P.setActiveConversation(m.id),M(m),Dt(!1);const l=`I'm playing ${s}. ${r}`;E.info(`Checking ${s}...`),rt(l)},fs=()=>{J(!0)},In=()=>{J(!1)},Tn=()=>{v&&v()},Pn=()=>{const s=he.getCurrentUser();if(!((s==null?void 0:s.tier)==="pro"||(s==null?void 0:s.tier)==="vanguard_pro")){E.show("Hands-free mode is a Pro feature","info");return}is(!0)},Dn=()=>{is(!1)},Ln=()=>{const s=!et;mn(s),localStorage.setItem("otakonHandsFreeMode",String(s)),s||Kt.cancel()},_n=()=>{const s=he.getCurrentUser();if(!((s==null?void 0:s.tier)==="pro"||(s==null?void 0:s.tier)==="vanguard_pro")){E.show("AI mode toggle is a Pro feature","info");return}const m=!Et;hn(m),localStorage.setItem("otakonAiMode",String(m)),!m&&ie?(xt.current=!0,Se(!1),localStorage.setItem("otakon_manual_upload_mode","false"),E.show("AI mode disabled - Auto-upload enabled for direct screenshot capture","success")):m&&xt.current===!0?(xt.current=null,Se(!0),localStorage.setItem("otakon_manual_upload_mode","true"),E.show("AI mode enabled - Pause mode restored","success")):(m||(xt.current=null),E.show(m?"AI mode enabled - Screenshots will be analyzed":"AI mode disabled - Screenshots will be stored only","success"))},On=s=>{s.preventDefault(),s.stopPropagation(),Bt.isOpen?Gt():us({isOpen:!0,position:{x:s.clientX,y:s.clientY}})},Gt=()=>{us({isOpen:!1,position:{x:0,y:0}})},Bn=()=>{dt(!0)},Rn=()=>{o()},Gn=s=>{console.log("[MainApp] handleConnect called with code:",s),ht(s),y?y(s):(console.warn("[MainApp] No propOnConnect provided, using local WebSocket connection"),Ct(s,()=>{console.log("[MainApp] Local WebSocket opened")},r=>{(r.type==="partner_connected"||r.type==="connection_alive")&&(ut(new Date),localStorage.setItem("otakon_connection_code",s),localStorage.setItem("otakon_last_connection",new Date().toISOString()),localStorage.setItem("otakonHasConnectedBefore","true"))},r=>{console.error("[MainApp] Connection error:",r)},()=>{console.log("[MainApp] Local WebSocket closed")}))},Hn=()=>{console.log("[MainApp] handleDisconnect called"),U?U():lt(),ht(null),ut(null)},Un=async s=>{if(!(ce||!t))try{await rt(s)}catch(r){console.error("ðŸŽ¯ [MainApp] Error in handleSuggestedPromptClick:",r),ue(!1)}},zn=s=>{It(s),!s.trim()&&tt&&(pt(null),E.info("Edit cancelled"))},Wn=async()=>{if(!t)return;const s=ae.isActive&&ae.currentGameId===t.id,r=!s;if(s){E.info("Generating session summary...");try{const m=await wt.generatePlayingSessionSummary(t);await wt.storeSessionSummary(t.id,m);const l={id:`msg_${Date.now()}`,content:`**Session Summary - Switching to Planning Mode**

${m.summary}`,role:"assistant",timestamp:Date.now()};b(d=>{const f={...d};return f[t.id]&&(f[t.id]={...f[t.id],messages:[...f[t.id].messages,l],updatedAt:Date.now()}),f}),M(d=>d&&d.id===t.id?{...d,messages:[...d.messages,l],updatedAt:Date.now()}:d),await P.addMessage(t.id,l),E.success("Switched to Planning Mode ðŸ“‹")}catch(m){console.error("Failed to create playing session summary:",m),E.error("Failed to create session summary.")}}else if(r){E.info("Generating session summary...");try{const m=await wt.generatePlanningSessionSummary(t);await wt.storeSessionSummary(t.id,m);const l={id:`msg_${Date.now()}`,content:`**Session Summary - Switching to Playing Mode**

${m.summary}`,role:"assistant",timestamp:Date.now()};b(d=>{const f={...d};return f[t.id]&&(f[t.id]={...f[t.id],messages:[...f[t.id].messages,l],updatedAt:Date.now()}),f}),M(d=>d&&d.id===t.id?{...d,messages:[...d.messages,l],updatedAt:Date.now()}:d),await P.addMessage(t.id,l),E.success("Switched to Playing Mode ðŸŽ®")}catch(m){console.error("Failed to create planning session summary:",m),E.error("Failed to create session summary.")}}q(t.id)},$n=()=>{L&&(L.abort(),Y(null),ue(!1),F([]))},Ht=async(s,r=0,m=60)=>{var l;if(r>=m){console.error("ðŸŽ® [MainApp] â±ï¸ Stopped polling for subtab updates after",r,"attempts");return}await new Promise(d=>setTimeout(d,1e3));try{P.clearCache();const d=await P.getConversations(!0),f=d[s];if(!f){console.error("ðŸŽ® [MainApp] âŒ Conversation not found:",s);return}if(!f.subtabs||f.subtabs.length===0){console.error(`ðŸŽ® [MainApp] âš ï¸ Conversation "${f.title}" has no subtabs, stopping poll`);return}const D=f.subtabs.filter(X=>{var V;return(X.status||((V=X.metadata)==null?void 0:V.status))==="loading"}),K=f.subtabs.filter(X=>{var V;return(X.status||((V=X.metadata)==null?void 0:V.status))==="loaded"}),oe=D.length>0;if(r===0&&console.error(`ðŸŽ® [MainApp] ðŸ” Starting poll for "${f.title}" (${f.subtabs.length} subtabs, ${D.length} loading)`),!oe){console.error(`ðŸŽ® [MainApp] âœ… All subtabs loaded for "${f.title}" after ${r} attempts`),console.error(`ðŸŽ® [MainApp] ðŸ“Š Final status: ${K.length} loaded, ${D.length} loading`);const X=Ze(d);b(X),console.error("ðŸŽ® [MainApp] ðŸ” Active conversation check:",{activeConvId:t==null?void 0:t.id,targetConvId:s,matches:(t==null?void 0:t.id)===s});const O={...X[s],subtabs:((l=X[s].subtabs)==null?void 0:l.map(V=>({...V})))||[],_updateTimestamp:Date.now()};console.error("ðŸŽ® [MainApp] âœ… FORCE-UPDATING active conversation with loaded subtabs"),console.error("ðŸŽ® [MainApp] ðŸ“Š Subtab statuses:",O.subtabs.map(V=>({title:V.title,status:V.status}))),console.error("ðŸŽ® [MainApp] ðŸ“Š Setting active conversation to trigger re-render..."),console.error("ðŸŽ® [MainApp] ðŸ“Š Old active conv ID:",t==null?void 0:t.id),console.error("ðŸŽ® [MainApp] ðŸ“Š New active conv ID:",O.id),b({...X}),M(O);return}(r%5===0||r===1)&&console.error(`ðŸŽ® [MainApp] ðŸ”„ "${f.title}": ${D.length} subtabs still loading... (attempt ${r+1})`),Ht(s,r+1,m)}catch(d){console.error("ðŸŽ® [MainApp] âŒ Error polling for subtab updates:",d)}},at=n.useRef(null);n.useEffect(()=>{if(!(t!=null&&t.subtabs)||t.subtabs.length===0||t.isGameHub||t.isUnreleased)return;const s=t.subtabs.some(r=>r.status==="loading");s&&at.current!==t.id?(console.error(`ðŸŽ® [MainApp] ðŸ”„ Detected loading subtabs on tab switch for "${t.title}"`),console.error("ðŸŽ® [MainApp] ðŸ“Š Subtab statuses:",t.subtabs.map(r=>({title:r.title,status:r.status}))),at.current=t.id,setTimeout(()=>{at.current===t.id&&Ht(t.id)},2e3)):!s&&at.current===t.id&&(at.current=null)},[t==null?void 0:t.id,t==null?void 0:t.subtabs]);const Vn=async s=>{console.log("ðŸŽ® [MainApp] handleCreateGameTab called:",{gameTitle:s.gameTitle,currentUserTier:re.tier,hasAiResponse:!!s.aiResponse,isUnreleased:s.isUnreleased});try{const r=he.getCurrentUser();if(!r)return console.error("User not authenticated for game tab creation"),E.error("Please sign in to create game tabs."),null;const l=`game-${s.gameTitle.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-")}`,d=A[l];if(d)return console.log("ðŸŽ® [MainApp] Game tab already exists in local state:",l),d;console.log("ðŸŽ® [MainApp] Creating new game tab via gameTabService:",{conversationId:l,userTier:re.tier});const f=await Te.createGameTab({gameTitle:s.gameTitle,genre:s.genre||"Action RPG",conversationId:l,userId:r.id,userTier:re.tier,aiResponse:s.aiResponse,isUnreleased:s.isUnreleased||!1});return b(D=>({...D,[l]:f})),r.authUserId&&_s.markGameHubTabCreated(r.authUserId,s.gameTitle,l).catch(D=>console.warn("Failed to track Game Hub tab creation:",D)),E.success(`Game tab "${s.gameTitle}" created!`),f}catch(r){return console.error("Failed to create game tab:",r),E.error("Failed to create game tab. Please try again."),null}},qn=n.useCallback(async s=>{console.log("ðŸ—‘ï¸ [MainApp] Deleting queued message:",s);const m=Object.values(A).flatMap(l=>l.messages).find(l=>l.id===s);m&&m.queueId?await ze.removePendingMessage(m.queueId):(console.warn("[MainApp] No queueId found, clearing all pending messages"),await ze.clearAllMessages()),b(l=>{const d={...l};return Object.keys(d).forEach(f=>{d[f]={...d[f],messages:d[f].messages.filter(D=>D.id!==s),updatedAt:Date.now()}}),d}),t&&M(l=>l?{...l,messages:l.messages.filter(d=>d.id!==s),updatedAt:Date.now()}:null),E.success("Queued message removed")},[A,t]),Zn=n.useCallback((s,r)=>{console.log("âœï¸ [MainApp] Setting up edit for message:",s),!(!t||t.messages.findIndex(l=>l.id===s)===-1)&&(pt(s),It(r),E.info("Editing message - modify and resend, or clear to cancel"))},[t]),[Yn,Ut]=n.useState(!1),[Be,zt]=n.useState(null),[Wt,$t]=n.useState(""),[Kn,vt]=n.useState(!1),Qn=n.useCallback(async(s,r,m)=>{const l=s.startsWith("msg_")?"message":"subtab";if(console.log("ðŸ“Š [MainApp] Feedback:",{messageId:s,type:r,contentType:l}),!!t)if(r==="up"){const{feedbackService:d}=await Ce(async()=>{const{feedbackService:D}=await import("./services-wFLDuxkn.js").then(K=>K.P);return{feedbackService:D}},__vite__mapDeps([0,1,2,3,4,5,6,7,8]));(await d.submitPositiveFeedback(s,t.id,l)).success&&E.success("Thanks for your feedback! ðŸ‘")}else zt(s),$t(m||""),Ut(!0)},[t]),Jn=n.useCallback(async(s,r)=>{if(!Be||!t)return;const m=Be.startsWith("msg_")?"message":"subtab";vt(!0);try{const{feedbackService:l}=await Ce(async()=>{const{feedbackService:f}=await import("./services-wFLDuxkn.js").then(D=>D.P);return{feedbackService:f}},__vite__mapDeps([0,1,2,3,4,5,6,7,8]));if((await l.submitNegativeFeedback(Be,t.id,s,r,m)).success){E.success("Thanks for helping us improve! ðŸ™");const f=document.querySelector(`[data-message-id="${Be}"]`);f&&f.__confirmFeedback&&f.__confirmFeedback("down")}else E.error("Failed to submit feedback")}catch(l){console.error("[MainApp] Error submitting feedback:",l),E.error("Failed to submit feedback")}finally{vt(!1),Ut(!1),zt(null),$t("")}},[Be,t]),Xn=n.useCallback(async(s,r,m)=>{if(!Be||!t)return{success:!1,error:"No message selected"};vt(!0);try{const{feedbackService:l}=await Ce(async()=>{const{feedbackService:f}=await import("./services-wFLDuxkn.js").then(D=>D.P);return{feedbackService:f}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),d=await l.submitCorrection({messageId:Be,conversationId:t.id,originalResponse:Wt,correctionText:s,correctionType:r,correctionScope:m,gameTitle:t.isGameHub?null:t.gameTitle??null});return d.success&&E.success("ðŸŽ“ OTAKON will learn from this! Thanks for teaching!"),d}catch(l){return console.error("[MainApp] Error submitting correction:",l),{success:!1,error:"Failed to submit correction"}}finally{vt(!1)}},[Be,Wt,t]),ea=n.useCallback(async(s,r,m,l)=>{var d;if(t){console.log("âœï¸ [MainApp] Modifying subtab:",{tabId:s,tabTitle:r,suggestion:m});try{const f=((d=t.subtabs)==null?void 0:d.map(oe=>oe.id===s?{...oe,status:"loading",content:"Regenerating based on your feedback..."}:oe))||[],D={...t,subtabs:f,updatedAt:Date.now()};b(oe=>({...oe,[t.id]:D})),M(D);const K=`[SYSTEM: Regenerate the "${r}" insight tab based on user feedback]

User's feedback for the "${r}" tab:
"${m}"

Previous content:
${l.slice(0,500)}${l.length>500?"...":""}

Please regenerate the "${r}" content incorporating the user's feedback. Make sure to use the OTAKON INSIGHT_UPDATE tag to update the tab.`;Me.current&&await Me.current(K),E.info(`Regenerating "${r}"...`)}catch(f){console.error("[MainApp] Error modifying subtab:",f),E.error(`Failed to modify "${r}"`)}}},[t,b]),ta=n.useCallback(async s=>{var m,l;if(!t)return;const r=(m=t.subtabs)==null?void 0:m.find(d=>d.id===s);if(r){console.log("ðŸ—‘ï¸ [MainApp] Deleting subtab:",{tabId:s,title:r.title});try{if(!await da.deleteSubtab(t.id,s))throw new Error("Failed to delete subtab from database");const f=((l=t.subtabs)==null?void 0:l.filter(K=>K.id!==s))||[],D={...t,subtabs:f,subtabsOrder:f.map(K=>K.id),updatedAt:Date.now()};b(K=>({...K,[t.id]:D})),M(D),E.success(`"${r.title}" deleted`)}catch(d){console.error("[MainApp] Error deleting subtab:",d),E.error(`Failed to delete "${r.title}"`)}}},[t,b]),rt=async(s,r)=>{var ot,bs,vs,ws,js,ys,Ns,As,ks,Cs,Ss,Ms,Fs;const m=Date.now(),l=m-ls.current;if(l<cs){console.warn(`â±ï¸ [MainApp] Rate limit: ${l}ms since last request (min ${cs}ms)`);return}if(ls.current=m,!navigator.onLine){if(console.log("ðŸ“´ [MainApp] User is offline, attempting to queue message..."),!t){E.error("Cannot queue message: no active conversation");return}if(!await ze.canQueueMessage()){E.error("Offline queue is full (max 10 messages). Please wait for network to restore.");return}const ee=await ze.queueMessage({conversationId:t.id,content:s,imageUrl:r});if(ee){const le={id:`msg_pending_${Date.now()}`,content:s+`

_â³ Queued - will send when online_`,role:"user",timestamp:Date.now(),imageUrl:r,queueId:ee};b(ge=>{const S={...ge};return S[t.id]&&(S[t.id]={...S[t.id],messages:[...S[t.id].messages,le],updatedAt:Date.now()},M(S[t.id])),S}),E.info("Message queued - will send when online"),console.log("âœ… [MainApp] Message queued for offline sending:",ee)}else E.error("Failed to queue message for offline sending");return}if(ha.trackActivity("send_message"),!t||ce){console.warn("ðŸ“¸ [MainApp] handleSendMessage blocked:",{hasActiveConversation:!!t,isLoading:ce,message:s==null?void 0:s.substring(0,50)});return}if(!r&&!(s!=null&&s.trim())){E.error("Please enter a message");return}if(s&&s.length>1e4){E.error("Message is too long (max 10,000 characters)");return}console.log("ðŸ“¸ [MainApp] Sending message with image:",{message:s,hasImage:!!r,imageUrl:(r==null?void 0:r.substring(0,50))+"..."}),(r||s&&(s.toLowerCase().includes("help")||s.toLowerCase().includes("how to")||s.toLowerCase().includes("what should")||s.toLowerCase().includes("stuck")||s.toLowerCase().includes("tutorial")||s.toLowerCase().includes("guide")))&&!t.isGameHub&&(!ae.isActive||ae.currentGameId!==t.id)&&se(t.id,!0);let f=t.messages;if(tt){const z=t.messages.findIndex(ee=>ee.id===tt);if(z!==-1){const ee=t.messages.slice(z);f=t.messages.slice(0,z),console.log("âœï¸ [MainApp] Edit mode: removing messages from index",z,"onwards"),Ce(async()=>{const{MessageService:le}=await import("./services-wFLDuxkn.js").then(ge=>ge.O);return{MessageService:le}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(({MessageService:le})=>{const ge=le.getInstance();ee.forEach(S=>{ge.deleteMessage(t.id,S.id).catch(ve=>console.warn("Failed to delete message from DB:",ve))})}).catch(le=>console.warn("Failed to import MessageService:",le))}pt(null)}const D={id:`msg_${Date.now()}`,content:s,role:"user",timestamp:Date.now(),imageUrl:r};b(z=>{const ee={...z};return ee[t.id]&&(ee[t.id]={...ee[t.id],messages:[...f,D],subtabs:tt?[]:ee[t.id].subtabs,updatedAt:Date.now()},M(ee[t.id])),ee});const oe=((ot=(await P.addMessage(t.id,D)).message)==null?void 0:ot.id)||D.id;if(It(""),Qt.hasTabCommand(s)){const z=Qt.parseTabCommand(s,t);z&&console.log("ðŸ“ [MainApp] Command description:",Qt.describeCommand(z))}const O=!!r?"image":"text";if(_){const z=O==="text"?_.textCount:_.imageCount,ee=O==="text"?_.textLimit:_.imageLimit,le=z/ee*100;if(le>=90&&le<100){const ge=ee-z;E.warning(`${ge} ${O} ${ge===1?"query":"queries"} remaining this month (${Math.floor(le)}% used)`)}}if(!it.canMakeRequest(O)){const z={id:`msg_${Date.now()+1}`,content:`You've reached your ${O} query limit for this month. Upgrade to Pro for more queries.`,role:"assistant",timestamp:Date.now()};b(ee=>{const le={...ee};return le[t.id]&&(le[t.id]={...le[t.id],messages:[...le[t.id].messages,z],updatedAt:Date.now()},M(le[t.id])),le}),P.addMessage(t.id,z).catch(ee=>console.error("Failed to save error message:",ee)),E.error("Monthly limit reached! Upgrade to Pro for unlimited queries.");return}if(it.incrementUsage(O),_){const z={..._,usage:{..._.usage,textCount:O==="text"?_.usage.textCount+1:_.usage.textCount,imageCount:O==="image"?_.usage.imageCount+1:_.usage.imageCount,totalRequests:_.usage.totalRequests+1},updatedAt:Date.now()};$(z)}_!=null&&_.authUserId&&new ia().incrementUsage(_.authUserId,O).then(()=>jn()).catch(ee=>console.warn("Failed to update usage in Supabase:",ee)),F([]),ue(!0);const V=new AbortController;Y(V);try{const z=he.getCurrentUser();if(!z)throw new Error("User not authenticated");let ee=r;const le=z.tier==="pro"||z.tier==="vanguard_pro";if(r&&le&&!Et){console.log("ðŸ”„ [MainApp] AI mode OFF - uploading screenshot to storage...");const{uploadScreenshot:T}=await Ce(async()=>{const{uploadScreenshot:W}=await import("./services-wFLDuxkn.js").then(Z=>Z.Q);return{uploadScreenshot:W}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),I=await T(r,z.authUserId);if(I.success&&I.publicUrl){console.log("âœ… [MainApp] Screenshot uploaded to storage:",{url:I.publicUrl,size:I.fileSize}),ee=I.publicUrl;const W={id:`msg_${Date.now()+1}`,content:"Screenshot saved to your chat. AI analysis is currently disabled. Enable AI mode to get insights about your gameplay.",role:"assistant",timestamp:Date.now()};b(Z=>{const B={...Z};return B[t.id]&&(B[t.id]={...B[t.id],messages:[...B[t.id].messages,W],updatedAt:Date.now()},M(B[t.id])),B}),await P.addMessage(t.id,W),F([]),ue(!1),Y(null);return}else console.error("âŒ [MainApp] Failed to upload screenshot:",I.error),E.error(`Failed to save screenshot: ${I.error}`)}let ge=t;if(t.messages.length>10){const{contextSummarizationService:T}=await Ce(async()=>{const{contextSummarizationService:I}=await import("./services-wFLDuxkn.js").then(W=>W.R);return{contextSummarizationService:I}},__vite__mapDeps([0,1,2,3,4,5,6,7,8]));if(T.shouldSummarize(t)){const I=await T.applyContextSummarization(t);await P.updateConversation(t.id,I),ge=I,b(W=>({...W,[t.id]:I})),M(I)}}const S=await _s.getChatResponseWithStructure(ge,z,s,ae.isActive&&ae.currentGameId===t.id,!!ee,ee,V.signal);if(V.signal.aborted)return;const ve={id:`msg_${Date.now()+1}`,content:S.content,role:"assistant",timestamp:Date.now()};b(T=>{const I={...T};return I[t.id]&&(I[t.id]={...I[t.id],messages:[...I[t.id].messages,ve],updatedAt:Date.now()},M(I[t.id])),I});const sa=((bs=(await P.addMessage(t.id,ve)).message)==null?void 0:bs.id)||ve.id;if(et&&S.content)try{let T="";const I=S.content.match(/\*?\*?Hint:?\*?\*?\s*/i);if(I){const W=(I.index||0)+I[0].length,Z=S.content.substring(W),B=Z.match(/\n\s*\*?\*?(?:Lore|Places of Interest|Strategy|Characters|Items|Walkthrough|Tips):?\*?\*?/i);B&&B.index!==void 0?T=Z.substring(0,B.index).trim():T=Z.split(/\n\n/)[0].trim()}else S.content.match(/\*?\*?(?:Lore|Places of Interest|Strategy):?\*?\*?/i)||(T=S.content.split(/\n\n/)[0].trim());if(T){const W=T.replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1").replace(/[_~`]/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/#{1,6}\s/g,"").replace(/```[\s\S]*?```/g,"").replace(/`([^`]+)`/g,"$1").replace(/\n+/g," ").replace(/\s+/g," ").trim();W&&W.length>10&&(console.log("ðŸ”Š [TTS] Speaking hint only:",W.substring(0,100)+"..."),Kt.speak(W).catch(Z=>console.error("TTS Error:",Z)))}}catch(T){console.error("TTS Error:",T)}else if(!et&&S.content)try{const{showAINotification:T,isScreenLockedOrHidden:I}=await Ce(async()=>{const{showAINotification:W,isScreenLockedOrHidden:Z}=await import("./services-wFLDuxkn.js").then(B=>B.L);return{showAINotification:W,isScreenLockedOrHidden:Z}},__vite__mapDeps([0,1,2,3,4,5,6,7,8]));if(I()){let W="";const Z=S.content.match(/\*?\*?Hint:?\*?\*?\s*/i);if(Z){const B=(Z.index||0)+Z[0].length,fe=S.content.substring(B),Ee=fe.match(/\n\s*\*?\*?(?:Lore|Places of Interest|Strategy|Characters|Items|Walkthrough|Tips):?\*?\*?/i);Ee&&Ee.index!==void 0?W=fe.substring(0,Ee.index).trim():W=fe.split(/\n\n/)[0].trim()}else S.content.match(/\*?\*?(?:Lore|Places of Interest|Strategy):?\*?\*?/i)||(W=S.content.split(/\n\n/)[0].trim());if(W){const B=W.replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1").replace(/[_~`]/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/#{1,6}\s/g,"").replace(/```[\s\S]*?```/g,"").replace(/`([^`]+)`/g,"$1").replace(/\n+/g," ").replace(/\s+/g," ").trim();B&&B.length>10&&T(B,t.title||"Otagon AI")}}}catch(T){console.error("Notification Error:",T)}console.warn("ðŸš¨ðŸš¨ðŸš¨ [MainApp] AI RESPONSE PROCESSING STARTED ðŸš¨ðŸš¨ðŸš¨"),console.warn("ðŸš¨ Response object:",JSON.stringify({hasContent:!!S.content,contentLength:(vs=S.content)==null?void 0:vs.length,stateUpdateTags:S.stateUpdateTags,hasOtakonTags:((ws=S.otakonTags)==null?void 0:ws.size)>0,otakonTagKeys:S.otakonTags?Array.from(S.otakonTags.keys()):[]},null,2));const Es=S.followUpPrompts||S.suggestions;console.log("ðŸ” [MainApp] suggestionsToUse (before processing):",Es);let Ne=We.processAISuggestions(Es);if(console.log("ðŸ” [MainApp] processedSuggestions (after processing):",Ne),z!=null&&z.authUserId&&Ne.length>0)try{const T=t!=null&&t.isGameHub?null:(t==null?void 0:t.gameTitle)??null;Ne=await Jt.filterNewPrompts(z.authUserId,Ne,"followup",T),console.log("ðŸ” [MainApp] processedSuggestions (after shown filter):",Ne)}catch(T){console.warn("[MainApp] Failed to filter shown prompts, using unfiltered:",T)}console.log("ðŸ“Š [MainApp] AI Response received:",{hasStateUpdateTags:!!S.stateUpdateTags,stateUpdateTags:S.stateUpdateTags,hasOtakonTags:((js=S.otakonTags)==null?void 0:js.size)>0,otakonTagKeys:S.otakonTags?Array.from(S.otakonTags.keys()):[],contentPreview:(ys=S.content)==null?void 0:ys.substring(0,200)});let je=null,Fe=null;if(S.stateUpdateTags&&S.stateUpdateTags.length>0){console.error("ðŸŽ® [MainApp] Processing state update tags:",S.stateUpdateTags);for(const T of S.stateUpdateTags){if(T.startsWith("PROGRESS:")){const I=parseInt(((Ns=T.split(":")[1])==null?void 0:Ns.trim())||"0",10);!isNaN(I)&&I>=0&&I<=100&&(console.error(`ðŸŽ® [MainApp] Found progress in stateUpdateTags: ${I}%`),je=I)}if(T.startsWith("OBJECTIVE:")){const I=(As=T.split(":")[1])==null?void 0:As.trim();I&&(console.error(`ðŸŽ® [MainApp] Found objective in stateUpdateTags: ${I}`),Fe=I)}}}if((ks=S.otakonTags)!=null&&ks.has("PROGRESS")&&je===null){const T=S.otakonTags.get("PROGRESS");typeof T=="number"&&T>=0&&T<=100&&(console.error(`ðŸŽ® [MainApp] Found progress in otakonTags: ${T}%`),je=T)}if((Cs=S.otakonTags)!=null&&Cs.has("OBJECTIVE")&&Fe===null){const T=S.otakonTags.get("OBJECTIVE");T&&typeof T=="string"&&T.trim()&&(console.error(`ðŸŽ® [MainApp] Found objective in otakonTags: ${T}`),Fe=T)}(je!==null||Fe!==null)&&console.error("ðŸŽ® [MainApp] ðŸ“Œ Deferring progress/objective updates until after migration decision:",{progressUpdate:je,objectiveUpdate:Fe});const Re=S.progressiveInsightUpdates||[];if(Re.length>0&&console.error("ðŸŽ® [MainApp] ðŸ“Œ Deferring",Re.length,"subtab updates until after migration decision"),S.otakonTags.has("SUBTAB_UPDATE")){const T=S.otakonTags.get("SUBTAB_UPDATE");if(Array.isArray(T)&&T.length>0){console.log("ðŸ“ [MainApp] OTAKON_SUBTAB_UPDATE detected:",T.length,"updates");const I=t.subtabs||[],W={};I.forEach(B=>{const fe=B.title.toLowerCase().replace(/\s+/g,"_");W[fe]=B.id,B.type&&(W[B.type]=B.id)});const Z=T.map(B=>{const fe=W[B.tab]||W[B.tab.toLowerCase().replace(/\s+/g,"_")];return fe?{tabId:fe,title:B.tab.split("_").map(Ee=>Ee.charAt(0).toUpperCase()+Ee.slice(1)).join(" "),content:B.content}:(console.warn(`ðŸ“ [MainApp] Could not find subtab for: ${B.tab}`),null)}).filter(Boolean);Z.length>0&&Te.updateSubTabsFromAIResponse(t.id,Z).then(()=>{console.log(`ðŸ“ [MainApp] Successfully updated ${Z.length} subtabs`),P.getConversations().then(B=>{const fe=Ze(B);b(fe);const Ee=fe[t.id];Ee&&M(Ee)})}).catch(B=>console.error("ðŸ“ [MainApp] Failed to update subtabs:",B))}}if(S.otakonTags.has("OTAKON_INSIGHT_UPDATE")||S.otakonTags.has("OTAKON_INSIGHT_MODIFY_PENDING")||S.otakonTags.has("OTAKON_INSIGHT_DELETE_REQUEST")){if(S.otakonTags.has("OTAKON_INSIGHT_UPDATE")){const T=S.otakonTags.get("OTAKON_INSIGHT_UPDATE");if(typeof T=="string")try{const I=JSON.parse(T);I.id&&I.content&&Te.updateSubTabsFromAIResponse(t.id,[{tabId:I.id,title:"",content:I.content}]).then(()=>{P.getConversations().then(W=>{const Z=Ze(W);b(Z);const B=Z[t.id];B&&M(B)})}).catch(W=>console.error("Failed to update tab:",W))}catch(I){console.error("Failed to parse INSIGHT_UPDATE:",I)}}if(S.otakonTags.has("OTAKON_INSIGHT_MODIFY_PENDING")){const T=S.otakonTags.get("OTAKON_INSIGHT_MODIFY_PENDING");if(typeof T=="string")try{const I=JSON.parse(T);I.id&&(I.title||I.content)&&Te.updateSubTabsFromAIResponse(t.id,[{tabId:I.id,title:I.title||"",content:I.content||""}]).then(()=>{P.getConversations().then(W=>{const Z=Ze(W);b(Z);const B=Z[t.id];B&&M(B)})}).catch(W=>console.error("Failed to modify tab:",W))}catch(I){console.error("Failed to parse INSIGHT_MODIFY_PENDING:",I)}}if(S.otakonTags.has("OTAKON_INSIGHT_DELETE_REQUEST")){const T=S.otakonTags.get("OTAKON_INSIGHT_DELETE_REQUEST");if(typeof T=="string")try{const I=JSON.parse(T);if(I.id){const W=((Ss=t.subtabs)==null?void 0:Ss.filter(Z=>Z.id!==I.id))||[];P.updateConversation(t.id,{subtabs:W}).then(()=>{P.getConversations().then(Z=>{b(Z);const B=Z[t.id];B&&M(B)})}).catch(Z=>console.error("Failed to delete tab:",Z))}}catch(I){console.error("Failed to parse INSIGHT_DELETE_REQUEST:",I)}}}if(S.otakonTags.has("GAME_ID")){const T=S.otakonTags.get("GAME_ID"),I=S.otakonTags.get("CONFIDENCE"),W=S.otakonTags.get("GAME_STATUS")==="unreleased",Z=S.otakonTags.get("GENRE")||"Default",B=S.otakonTags.get("IS_FULLSCREEN")==="true",fe=I==="high"&&B;if(fe||console.log("âš ï¸ [MainApp] Tab creation blocked:",{gameTitle:T,confidence:I,isFullscreen:B,reason:B?I!=="high"?"âŒ Low confidence detection":"âŒ Generic detection":"âŒ Pre-game screen detected (main menu/launcher) - staying in Game Hub",hint:"Take a gameplay or in-game menu screenshot (inventory, map, skills) to create a dedicated game tab"}),fe){const Ee=Te.generateGameConversationId(T),Vt=await P.getConversation(Ee);let me;if(Vt)me=Vt.id;else{console.log("ðŸŽ® [MainApp] Creating new game tab for:",T,W?"(unreleased)":"(released)");const we=await Vn({gameTitle:T,genre:Z,aiResponse:S,isUnreleased:W});me=(we==null?void 0:we.id)||"";const Ie=await P.getConversations();b(Ie)}if(me&&me!==t.id){const be=[D,ve],we=await P.getConversations(),Ie=we[t.id],qt=we[me];if(Ie&&qt){const Ge=Ie.messages.filter(ke=>ke.id!==D.id&&ke.id!==ve.id),xe=[...qt.messages,...be];b(ke=>({...ke,[t.id]:{...ke[t.id],messages:Ge,updatedAt:Date.now()},[me]:{...ke[me],messages:xe,updatedAt:Date.now()}})),M({...qt,messages:xe,updatedAt:Date.now()}),console.log("ðŸ“¦ [MainApp] Optimistically updated UI with migrated messages")}await new Promise(Ge=>setTimeout(Ge,500)),await xa.migrateMessagesAtomic([oe,sa],t.id,me),Te.updateSubtabsAfterMigration(me,S).catch(Ge=>console.error("ðŸ”„ [MainApp] Background subtab update failed:",Ge));const Is=await P.getConversations();b(Is);const Ae=Is[me];if(Ae){if(je!==null||Fe!==null){const xe={updatedAt:Date.now()};je!==null&&(xe.gameProgress=je,console.error(`ðŸŽ® [MainApp] âœ… Applying progress ${je}% to TARGET: ${Ae.title} (${me})`)),Fe!==null&&(xe.activeObjective=Fe,console.error(`ðŸŽ® [MainApp] âœ… Applying objective to TARGET: ${Ae.title}`)),await P.updateConversation(me,xe),Object.assign(Ae,xe),b(ke=>({...ke,[me]:{...ke[me],...xe}}))}if(await P.setActiveConversation(me),M(Ae),se(me,!0),De(!1),Ne.length>0)F(Ne),z!=null&&z.authUserId&&Jt.recordShownPrompts(z.authUserId,Ne,"followup",Ae.gameTitle??null).catch(xe=>console.warn("[MainApp] Failed to record shown prompts:",xe));else{const xe=We.getFallbackSuggestions(Ae.id,!1);F(xe)}const Ge=(Ms=Ae.subtabs)==null?void 0:Ms.some(xe=>xe.status==="loading");console.error(`ðŸŽ® [MainApp] ðŸ” Checking if polling needed for "${Ae.title}" (ID: ${me})`),console.error(`ðŸŽ® [MainApp] ðŸ” Subtabs status: ${((Fs=Ae.subtabs)==null?void 0:Fs.length)||0} total, ${Ge?"HAS LOADING":"all loaded or none"}`),Ge?(console.error("ðŸŽ® [MainApp] ðŸ”„ Starting background refresh for loading subtabs"),setTimeout(()=>{console.error(`ðŸŽ® [MainApp] â° Delay complete, starting poll for conversation: ${me}`),Ht(me)},8e3)):console.error(`ðŸŽ® [MainApp] âœ… No loading subtabs for "${Ae.title}", skipping poll`),Re.length>0&&(console.error(`ðŸŽ® [MainApp] âœ… Applying ${Re.length} deferred subtab updates to TARGET: ${Ae.title}`),Te.updateSubTabsFromAIResponse(me,Re).then(()=>{console.error("ðŸŽ® [MainApp] âœ… Successfully applied deferred subtab updates to target"),P.getConversations().then(xe=>{const ke=Ze(xe);b(ke);const Ts=ke[me];Ts&&M(Ts)})}).catch(xe=>{console.error("ðŸŽ® [MainApp] âŒ Failed to apply deferred subtab updates:",xe)}))}}else{if(je!==null||Fe!==null){const be={updatedAt:Date.now()};je!==null&&(be.gameProgress=je,console.error(`ðŸŽ® [MainApp] âœ… Applying progress ${je}% to CURRENT: ${t.title} (${t.id})`)),Fe!==null&&(be.activeObjective=Fe,console.error(`ðŸŽ® [MainApp] âœ… Applying objective to CURRENT: ${t.title}`));const we={...t,...be};b(Ie=>({...Ie,[t.id]:we})),M(we),P.updateConversation(t.id,be).catch(Ie=>console.error("Failed to update progress:",Ie))}if(Re.length>0&&(console.error(`ðŸŽ® [MainApp] âœ… Applying ${Re.length} subtab updates to CURRENT: ${t.title}`),Te.updateSubTabsFromAIResponse(t.id,Re).then(()=>{console.error("ðŸŽ® [MainApp] âœ… Successfully applied subtab updates"),P.getConversations().then(be=>{const we=Ze(be);b(we);const Ie=we[t.id];Ie&&M(Ie)})}).catch(be=>{console.error("ðŸŽ® [MainApp] âŒ Failed to apply subtab updates:",be)})),Ne.length>0){if(console.log("âœ… [MainApp] Setting AI-provided suggestions (no migration):",Ne),F(Ne),z!=null&&z.authUserId){const be=t.isGameHub?null:t.gameTitle??null;Jt.recordShownPrompts(z.authUserId,Ne,"followup",be).catch(we=>console.warn("[MainApp] Failed to record shown prompts:",we))}}else{const be=We.getFallbackSuggestions(t.id,t.isGameHub);F(be)}}}}}catch(z){if(console.error("Failed to get AI response:",z),z instanceof Error&&z.name==="AbortError"){const ge={id:`msg_${Date.now()+1}`,content:"*Response stopped by user*",role:"assistant",timestamp:Date.now()};b(S=>{const ve={...S};return ve[t.id]&&(ve[t.id]={...ve[t.id],messages:[...ve[t.id].messages,ge],updatedAt:Date.now()},M(ve[t.id])),ve}),await P.addMessage(t.id,ge);return}const ee=await Ds.handleAIError(z,{operation:"handleSendMessage",conversationId:t.id,userId:_==null?void 0:_.id,timestamp:Date.now(),retryCount:0}),le={id:`msg_${Date.now()+1}`,content:ee.message||"Sorry, I'm having trouble thinking right now. Please try again.",role:"assistant",timestamp:Date.now()};b(ge=>{const S={...ge};return S[t.id]&&(S[t.id]={...S[t.id],messages:[...S[t.id].messages,le],updatedAt:Date.now()},M(S[t.id])),S}),await P.addMessage(t.id,le),ee.type==="user_notification"&&Ds.displayError(ee.message||"An error occurred","error")}finally{ue(!1),Y(null)}};return n.useEffect(()=>{Me.current=rt},[rt]),n.useEffect(()=>{const s=async()=>{console.log("ðŸŒ [MainApp] Network restored - checking for queued messages...");try{const r=await ze.getPendingMessages();if(r.length===0){console.log("âœ… [MainApp] No queued messages to send");return}console.log(`ðŸ“¤ [MainApp] Flushing ${r.length} queued messages...`),E.info(`Sending ${r.length} queued message(s)...`);for(const l of r)try{await new Promise(d=>setTimeout(d,500)),(t==null?void 0:t.id)!==l.conversationId&&console.log(`ðŸ“ [MainApp] Queued message for different conversation: ${l.conversationId}`),Me.current&&(t==null?void 0:t.id)===l.conversationId?(b(d=>{const f={...d};return f[l.conversationId]&&(f[l.conversationId]={...f[l.conversationId],messages:f[l.conversationId].messages.filter(D=>!D.content.includes("â³ Queued")||D.content.replace(`

_â³ Queued - will send when online_`,"")!==l.content),updatedAt:Date.now()}),f}),await Me.current(l.content,l.imageUrl),await ze.removePendingMessage(l.id),console.log(`âœ… [MainApp] Sent queued message: ${l.content.substring(0,30)}...`)):console.log(`â­ï¸ [MainApp] Skipping queued message (different conversation): ${l.conversationId}`)}catch(d){console.error("âŒ [MainApp] Failed to send queued message:",d)}const m=await ze.getPendingMessages();m.length===0?E.success("All queued messages sent!"):E.info(`${m.length} message(s) still queued for other conversations`)}catch(r){console.error("âŒ [MainApp] Failed to flush offline queue:",r)}};return window.addEventListener("otakon:network-restored",s),()=>{window.removeEventListener("otakon:network-restored",s)}},[t]),G&&(!_||Object.keys(A).length===0)?e.jsx("div",{className:"h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(vr,{size:"lg",className:"mx-auto mb-4"}),e.jsx("p",{className:"text-text-muted",children:_?"Initializing chat...":"Loading..."})]})}):!_&&!G?e.jsx("div",{className:"h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-text-muted",children:"User not found. Please refresh the page."})})}):e.jsxs("div",{className:"app-container h-screen bg-background flex overflow-hidden",children:[e.jsx(Nt,{fallback:e.jsx("div",{className:"w-64 bg-[#1C1C1C] p-4 border-r border-[#424242] flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-[#CFCFCF]",children:[e.jsx("p",{className:"mb-2 text-2xl",children:"âš ï¸"}),e.jsx("p",{className:"text-sm mb-2",children:"Sidebar unavailable"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 px-3 py-1 bg-[#FF4D4D] rounded text-xs hover:bg-[#FF6B6B] transition-colors",children:"Reload"})]})}),children:e.jsx(hr,{isOpen:ye,onClose:()=>De(!1),conversations:A,activeConversation:t,onConversationSelect:ps,onDeleteConversation:yn,onPinConversation:Nn,onUnpinConversation:An,onClearConversation:kn,onAddGame:gs})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("header",{className:"chat-header-fixed bg-surface backdrop-blur-sm border-b border-surface-light/20 px-3 py-3 sm:px-4 sm:py-4 lg:px-6 lg:py-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>De(!0),className:"lg:hidden btn-icon p-3 text-text-muted hover:text-text-primary min-h-[44px] min-w-[44px] flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),e.jsx(ss,{size:"md",bounce:!1,userTier:re.tier,isOnTrial:!!(re.trialExpiresAt&&re.trialExpiresAt>Date.now())})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 lg:space-x-4",children:[e.jsx("div",{className:"mr-1 sm:mr-2",children:e.jsx(xr,{user:re,onClick:Cn})}),(re.tier==="pro"||re.tier==="vanguard_pro")&&e.jsx(br,{isEnabled:Et,onToggle:_n,isPro:!0}),(re.tier==="pro"||re.tier==="vanguard_pro")&&e.jsx(gr,{isHandsFree:et,onToggle:Pn}),e.jsx("button",{onClick:fs,className:`btn-icon p-3 transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center ${Ye===Q.CONNECTED?"text-green-400 hover:text-green-300":"text-text-muted hover:text-text-primary"}`,title:Ye===Q.CONNECTED?"PC Connected - Click to manage":"Connect to PC",children:e.jsxs("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01"})]})}),e.jsx("button",{ref:hs,onClick:On,className:"btn-icon p-3 text-text-muted hover:text-text-primary transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center",children:e.jsxs("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[C&&R&&te&&e.jsx("div",{className:"flex-shrink-0 pt-3 sm:pt-4 lg:pt-6",children:e.jsx(Nt,{fallback:e.jsx("div",{className:"px-6 py-2",children:e.jsx("p",{className:"text-xs text-[#CFCFCF]",children:"Profile banner unavailable"})}),children:e.jsx(jr,{onComplete:R,onDismiss:te})})}),re.tier==="free"&&e.jsx(yr,{}),pn&&qe&&e.jsx("div",{className:"mx-3 sm:mx-4 lg:mx-6 mb-3 flex-shrink-0",children:e.jsx("div",{className:"bg-gradient-to-r from-[#1C1C1C] to-[#252525] border border-[#FF4D4D]/30 rounded-xl px-4 py-3 shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-[#FF4D4D] border-t-transparent rounded-full animate-spin flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("span",{className:"text-sm font-medium text-white truncate",children:["Generating Insights: ",qe.gameName]}),e.jsxs("span",{className:"text-xs text-[#A3A3A3] flex-shrink-0",children:[qe.current,"/",qe.total]})]}),e.jsx("div",{className:"mt-2 h-1.5 bg-[#2E2E2E] rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-[#FF4D4D] to-[#FFAB40] rounded-full transition-all duration-500 ease-out",style:{width:`${qe.current/qe.total*100}%`}})})]})]})})}),t&&!t.isGameHub&&t.gameTitle&&e.jsx("div",{className:"px-3 sm:px-4 lg:px-6 pb-3 sm:pb-4 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Sa,{progress:t.gameProgress||0,gameTitle:t.gameTitle,className:"px-3 sm:px-4"})}),_t&&e.jsxs("button",{onClick:()=>Lt(!0),className:"hidden lg:flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-[#E53A3A]/10 to-[#FF6B6B]/5 backdrop-blur-sm border border-[#E53A3A]/30 rounded-lg hover:border-[#E53A3A]/60 hover:from-[#E53A3A]/15 hover:to-[#FF6B6B]/10 transition-all duration-200 group",title:"View game information",children:[e.jsx("svg",{className:"w-4 h-4 text-[#E53A3A] group-hover:text-[#FF6B6B] transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-xs font-medium text-[#E53A3A] group-hover:text-[#FF6B6B] transition-colors",children:"Game Info"})]}),bn&&e.jsx("div",{className:"hidden lg:flex items-center gap-2 px-3 py-2 text-xs text-[#A3A3A3]",children:e.jsx("div",{className:"w-3 h-3 border border-[#FF4D4D] border-t-transparent rounded-full animate-spin"})})]})}),t&&e.jsx("div",{className:"lg:hidden px-3 sm:px-4 mb-3 sm:mb-4 flex-shrink-0 relative z-30",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>De(!0),className:"flex-1 bg-gradient-to-r from-surface/30 to-background/30 backdrop-blur-sm border border-surface-light/20 rounded-lg px-4 py-3 transition-all duration-200 hover:from-surface/40 hover:to-background/40 hover:border-surface-light/30 active:scale-[0.98]",children:e.jsx("h2",{className:"text-sm sm:text-base font-semibold bg-gradient-to-r from-[#FF4D4D] to-[#FFAB40] bg-clip-text text-transparent text-center",children:t.title})}),!t.isGameHub&&t.gameTitle&&_t&&e.jsx("button",{onClick:()=>Lt(!0),className:"flex-shrink-0 p-3 bg-gradient-to-r from-[#E53A3A]/10 to-[#FF6B6B]/5 backdrop-blur-sm border border-[#E53A3A]/30 rounded-lg hover:border-[#E53A3A]/60 hover:from-[#E53A3A]/15 hover:to-[#FF6B6B]/10 transition-all duration-200 group",title:"View game information",children:e.jsx("svg",{className:"w-5 h-5 text-[#E53A3A] group-hover:text-[#FF6B6B] transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),e.jsx("div",{className:"flex-1 min-h-0",children:e.jsx(Nt,{fallback:e.jsx(Ur,{}),children:e.jsx(Ma,{conversation:t,onSendMessage:rt,isLoading:ce,isPCConnected:Ye===Q.CONNECTED,onRequestConnect:fs,userTier:re.tier,onStop:$n,isManualUploadMode:ie,onToggleManualUploadMode:()=>Se(!ie),suggestedPrompts:g,onSuggestedPromptClick:Un,activeSession:ae,onToggleActiveSession:Wn,initialMessage:xn,onMessageChange:zn,queuedImage:Le,onImageQueued:wn,isSidebarOpen:ye,onDeleteQueuedMessage:qn,onEditMessage:Zn,onFeedback:Qn,onModifySubtab:ea,onDeleteSubtab:ta})})})]})]}),e.jsx(fa,{isOpen:ct,onClose:()=>dt(!1),user:re}),e.jsx(ba,{isOpen:Mt,onClose:Sn,onUpgrade:Mn,user:re}),e.jsx(va,{isOpen:H,onClose:In,onConnect:Gn,onDisconnect:Hn,onClearError:Tn,status:Ye,error:vn,connectionCode:Ft,lastSuccessfulConnection:dn,onShowConnectionSplash:()=>rs(!0)}),e.jsx(Fr,{isOpen:ne,onClose:()=>rs(!1)}),e.jsx(Hr,{isOpen:an,onClose:()=>os(!1),tierName:rn}),e.jsx(wa,{isOpen:un,onClose:Dn,isHandsFree:et,onToggleHandsFree:Ln}),e.jsx(ja,{isOpen:gn,onClose:()=>Dt(!1),onCreateGame:En}),e.jsx(ya,{isOpen:fn,onClose:()=>Lt(!1),gameData:_t,gameName:(t==null?void 0:t.gameTitle)||""}),e.jsx(Na,{isOpen:Yn,onClose:()=>{Ut(!1),zt(null),$t("")},onSubmit:Jn,onSubmitCorrection:Xn,isSubmitting:Kn,isAuthenticated:!!(re!=null&&re.authUserId),originalResponse:Wt,gameTitle:t!=null&&t.isGameHub?null:t==null?void 0:t.gameTitle}),e.jsx(wr,{isOpen:Bt.isOpen,position:Bt.position,onClose:Gt,onOpenSettings:Bn,onOpenGuide:Fn,onLogout:Rn,userTier:re.tier,buttonRef:hs,onTrialStart:async()=>{await he.refreshUser();const s=he.getCurrentUser();s&&$(s)},onUpgradeClick:()=>{Ve(!0),Gt()}}),Xe&&e.jsx(Nr,{onStartChat:()=>mt(!1),onAddGame:gs})]})};console.log("ðŸš€ðŸš€ðŸš€ APP.TSX LOADED - NEW CODE VERSION 9:24 PM ðŸš€ðŸš€ðŸš€");const Wr=()=>{const o=He(),[i,c]=Ks(),[a,u]=n.useState(null),x=$e();console.log("[LandingPageRoute] Search params:",Object.fromEntries(i.entries())),n.useEffect(()=>{if(x!=null&&x.user&&x.onboardingStatus){const{onboardingStatus:C}=x;C==="complete"?o("/app",{replace:!0}):C!=="login"&&o("/onboarding",{replace:!0})}},[x,o]),n.useEffect(()=>{const C=i.get("modal");u(C)},[i]);const h=()=>{o("/login")},k=()=>{c({modal:"about"})},w=()=>{c({modal:"privacy"})},p=()=>{c({modal:"refund"})},y=()=>{c({modal:"terms"})},U=()=>{c({modal:"contact"})},v=()=>{c({})},N=C=>{o(C)};return e.jsxs(e.Fragment,{children:[e.jsx(Va,{onGetStarted:h,onOpenAbout:k,onOpenPrivacy:w,onOpenRefund:p,onOpenTerms:y,onOpenContact:U,onDirectNavigation:N}),e.jsx(Qs,{isOpen:a==="about",onClose:v}),e.jsx(as,{isOpen:a==="privacy",onClose:v}),e.jsx(ns,{isOpen:a==="terms",onClose:v}),e.jsx(Aa,{isOpen:a==="refund",onClose:v}),e.jsx(ka,{isOpen:a==="contact",onClose:v})]})},$r=()=>{const o=He(),i=$e();n.useEffect(()=>{if(i!=null&&i.user){const{onboardingStatus:x}=i;x==="complete"?o("/app",{replace:!0}):o("/onboarding",{replace:!0})}},[i,o]);const c=()=>{o("/onboarding")},a=()=>{o("/")},u=()=>{};return e.jsx(Za,{onComplete:c,onBackToLanding:a,onSetAppState:u})},Vr=()=>{const o=He(),i=()=>{o("/onboarding")},c=a=>{console.error("[AuthCallbackRoute] Auth error:",a),o("/")};return e.jsx(pa,{onAuthSuccess:i,onAuthError:c})},Ws=()=>{const o=He(),{user:i}=$e(),c=()=>{o("/onboarding/how-to-use")};return e.jsx(Ya,{onComplete:c,user:i})},qr=()=>{const o=He(),{user:i}=$e(),[c,a]=pe.useState(Q.DISCONNECTED),[u,x]=pe.useState(null),[h,k]=pe.useState(null),w=pe.useRef(null),p=pe.useRef(!1);pe.useEffect(()=>{const N=localStorage.getItem("otakon_connection_code");N&&k(N)},[]),pe.useEffect(()=>()=>{w.current&&(clearTimeout(w.current),w.current=null),c===Q.CONNECTING&&(lt(),k(null),a(Q.DISCONNECTED))},[c]);const y=async()=>{if(i)try{const{error:N}=await Oe.from("users").update({pc_connection_skipped:!0,has_seen_how_to_use:!0,app_state:{onboardingStatus:"pro-features",hasSeenHowToUse:!0,pcConnectionSkipped:!0,completedHowToUseAt:new Date().toISOString()}}).eq("auth_user_id",i.authUserId);N?console.error("[HowToUseRoute] Failed to update database:",N):console.log("[HowToUseRoute] Database updated, onboarding status: pro-features (skipped connection)")}catch(N){console.error("[HowToUseRoute] Error updating database:",N)}o("/onboarding/pro-features")},U=N=>{console.log("[HowToUseRoute] handleConnect called with code:",N),x(null),a(Q.CONNECTING),k(N),p.current=!1,w.current&&(clearTimeout(w.current),w.current=null),w.current=setTimeout(()=>{console.log("[HowToUseRoute] Connection timeout after 15 seconds, webSocketOpened:",p.current),lt(),p.current?x(`No PC client found with this code. Please check that:
â€¢ The code is correct (all 6 digits)
â€¢ PC client is running and showing the same code`):x("Could not reach the relay server. Please check your internet connection and try again."),a(Q.ERROR),localStorage.removeItem("otakon_connection_code"),localStorage.removeItem("otakon_last_connection")},15e3),Ct(N,()=>{console.log("[HowToUseRoute] âœ… WebSocket connection opened to relay server, waiting for partner_connected..."),p.current=!0},C=>{console.log("[HowToUseRoute] WebSocket message received:",C.type,C),(C.type==="partner_connected"||C.type==="connection_alive"||C.type==="connected"||C.status==="connected")&&(console.log("[HowToUseRoute] âœ… Partner connected! Setting status to CONNECTED"),w.current&&(clearTimeout(w.current),w.current=null),a(Q.CONNECTED),x(null),localStorage.setItem("otakon_connection_code",N),localStorage.setItem("otakon_last_connection",new Date().toISOString()),localStorage.setItem("otakonHasConnectedBefore","true"),i&&Oe.from("users").update({pc_connected:!0}).eq("auth_user_id",i.authUserId).then(({error:R})=>{R&&console.error("[HowToUseRoute] Failed to update PC connection in database:",R)}))},C=>{console.error("[HowToUseRoute] âŒ WebSocket error:",C),w.current&&(clearTimeout(w.current),w.current=null),localStorage.removeItem("otakon_connection_code"),localStorage.removeItem("otakon_last_connection");let R=C;C.includes("Connection to the server failed")||C.includes("Connection closed unexpectedly")?p.current?R="Connection lost. Please try again.":R="Could not connect to relay server. Please check your internet connection.":C.includes("Invalid code")?R="Please enter a valid 6-digit code":C.includes("No PC client found")&&(R=`No PC client found with this code. Please check that:
â€¢ The code is correct
â€¢ PC client is running and showing the same code`),x(R),a(Q.ERROR),k(N)},()=>{console.log("[HowToUseRoute] WebSocket connection closed, webSocketOpened:",p.current),a(C=>C===Q.CONNECTING||C===Q.ERROR?C:C===Q.CONNECTED?Q.DISCONNECTED:Q.DISCONNECTED)})},v=async()=>{if(o("/onboarding/features"),i)try{const{error:N}=await Oe.from("users").update({pc_connected:!0,has_seen_how_to_use:!0,app_state:{onboardingStatus:"features-connected",hasSeenHowToUse:!0,pcConnected:!0,completedHowToUseAt:new Date().toISOString()}}).eq("auth_user_id",i.authUserId);N&&console.error("[HowToUseRoute] Background DB update failed:",N)}catch(N){console.error("[HowToUseRoute] Background DB update error:",N)}};return e.jsx(dr,{onSkipConnection:y,onConnect:U,status:c,error:u,connectionCode:h,onConnectionSuccess:v})},Zr=()=>{const o=He(),{user:i}=$e(),c=async()=>{if(o("/onboarding/pro-features"),i)try{const{error:a}=await Oe.from("users").update({has_seen_features_connected:!0,app_state:{onboardingStatus:"pro-features",hasSeenFeaturesConnected:!0,completedFeaturesAt:new Date().toISOString()}}).eq("auth_user_id",i.authUserId);a&&console.error("[FeaturesConnectedRoute] Background DB update failed:",a)}catch(a){console.error("[FeaturesConnectedRoute] Background DB update error:",a)}};return e.jsx(er,{onComplete:c})},Yr=()=>{const o=He(),{user:i}=$e(),c=async()=>{if(i)try{const{error:x}=await Oe.from("users").update({has_seen_pro_features:!0,onboarding_completed:!0,app_state:{onboardingStatus:"complete",hasSeenProFeatures:!0,onboardingCompleted:!0,completedOnboardingAt:new Date().toISOString()}}).eq("auth_user_id",i.authUserId);x&&console.error("[ProFeaturesRoute] DB update failed:",x)}catch(x){console.error("[ProFeaturesRoute] DB update error:",x)}o("/app")},a=()=>{},u=()=>{};return e.jsx(rr,{onComplete:c,onUpgrade:a,onUpgradeToVanguard:u})},$s=()=>{const o=He(),{user:i}=$e(),[c,a]=Ks(),[u,x]=n.useState(null),[h,k]=n.useState(Q.DISCONNECTED),[w,p]=n.useState(null),[y,U]=n.useState(null),v=n.useRef(null),N=n.useRef(!1),C=n.useCallback(G=>{if(console.log("[MainAppRoute] WebSocket message received:",G.type,G),G.type==="partner_connected"||G.type==="connection_alive"||G.type==="connected"||G.status==="connected"){console.log("[MainAppRoute] âœ… Partner connected! Setting status to CONNECTED"),v.current&&(clearTimeout(v.current),v.current=null),k(Q.CONNECTED),p(null);const j=t.current||localStorage.getItem("otakon_connection_code");j&&(U(j),localStorage.setItem("otakon_connection_code",j),localStorage.setItem("otakon_last_connection",new Date().toISOString()),localStorage.setItem("otakonHasConnectedBefore","true"))}if(G.type==="partner_disconnected"||G.type==="partner_left"||G.type==="peer_disconnected"){console.log("[MainAppRoute] âš ï¸ Partner disconnected! PC app may have closed."),k(Q.DISCONNECTED),U(null),p(null),localStorage.removeItem("otakon_connection_code"),localStorage.removeItem("otakon_last_connection");return}G.type},[]);n.useEffect(()=>{const G=localStorage.getItem("otakon_connection_code");G&&(console.log("[MainAppRoute] Found saved connection code, attempting to reconnect..."),U(G))},[]),n.useEffect(()=>{const G=c.get("modal");x(G)},[c]);const R=async()=>{const{authService:G}=await Ce(async()=>{const{authService:j}=await import("./core-services-lUmqlasC.js").then(g=>g.e);return{authService:j}},__vite__mapDeps([6,7,8,0,1,2,3,4,5]));await G.signOut(),o("/earlyaccess")},te=()=>{},_=()=>{a({modal:"about"})},$=()=>{a({modal:"privacy"})},A=()=>{a({modal:"terms"})},b=()=>{a({})},t=n.useRef(null),M=G=>{console.log("[MainAppRoute] handleConnect called with code:",G),p(null),k(Q.CONNECTING),t.current=G,N.current=!1,v.current&&(clearTimeout(v.current),v.current=null),v.current=setTimeout(()=>{console.log("[MainAppRoute] Connection timeout after 15 seconds, webSocketOpened:",N.current),lt(),N.current?p(`No PC client found with this code. Please check that:
â€¢ The code is correct (all 6 digits)
â€¢ PC client is running and showing the same code`):p("Could not reach the relay server. Please check your internet connection and try again."),k(Q.ERROR),localStorage.removeItem("otakon_connection_code"),localStorage.removeItem("otakon_last_connection")},15e3),Ct(G,()=>{console.log("[MainAppRoute] âœ… WebSocket connection opened to relay server, waiting for partner_connected..."),N.current=!0},C,j=>{console.error("[MainAppRoute] âŒ WebSocket error callback:",j),v.current&&(clearTimeout(v.current),v.current=null),localStorage.removeItem("otakon_connection_code"),localStorage.removeItem("otakon_last_connection");let g=j;j.includes("Connection to the server failed")||j.includes("Connection closed unexpectedly")?N.current?g="Connection lost. Please try again.":g="Could not connect to relay server. Please check your internet connection.":j.includes("Invalid code")?g="Please enter a valid 6-digit code":j.includes("No PC client found")&&(g=`No PC client found with this code. Please check that:
â€¢ The code is correct
â€¢ PC client is running and showing the same code`),p(g),k(Q.ERROR)},()=>{console.log("[MainAppRoute] WebSocket connection closed, webSocketOpened:",N.current),k(j=>j===Q.CONNECTING?(console.log("[MainAppRoute] Connection closed while connecting - may be waiting for timeout"),j):j===Q.ERROR?j:j===Q.CONNECTED?(console.log("[MainAppRoute] Connection lost after being connected"),Q.DISCONNECTED):Q.DISCONNECTED)})},ce=()=>{console.log("[MainAppRoute] handleDisconnect called"),v.current&&(clearTimeout(v.current),v.current=null),lt(),U(null),k(Q.DISCONNECTED),p(null),localStorage.removeItem("otakon_connection_code"),localStorage.removeItem("otakon_last_connection")},ue=()=>{p(null),k(Q.DISCONNECTED)};return e.jsxs(e.Fragment,{children:[e.jsx(zr,{onLogout:R,onOpenSettings:te,onOpenAbout:_,onOpenPrivacy:$,onOpenTerms:A,connectionStatus:h,connectionError:w,connectionCode:y,onConnect:M,onDisconnect:ce,onClearConnectionError:ue,showProfileSetupBanner:!(i!=null&&i.hasProfileSetup),onProfileSetupComplete:async G=>{try{const{onboardingService:j}=await Ce(async()=>{const{onboardingService:F}=await import("./services-wFLDuxkn.js").then(L=>L.N);return{onboardingService:F}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),{authService:g}=await Ce(async()=>{const{authService:F}=await import("./core-services-lUmqlasC.js").then(L=>L.e);return{authService:F}},__vite__mapDeps([6,7,8,0,1,2,3,4,5]));i!=null&&i.authUserId&&(await j.markProfileSetupComplete(i.authUserId,G),await g.refreshUser(),o("/app",{replace:!0}))}catch(j){console.error("Error completing profile setup:",j),window.location.reload()}},onProfileSetupDismiss:async()=>{try{const{onboardingService:G}=await Ce(async()=>{const{onboardingService:g}=await import("./services-wFLDuxkn.js").then(F=>F.N);return{onboardingService:g}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),{authService:j}=await Ce(async()=>{const{authService:g}=await import("./core-services-lUmqlasC.js").then(F=>F.e);return{authService:g}},__vite__mapDeps([6,7,8,0,1,2,3,4,5]));i!=null&&i.authUserId&&(await G.markProfileSetupComplete(i.authUserId,{}),await j.refreshUser(),o("/app",{replace:!0}))}catch(G){console.error("Error dismissing profile setup:",G),window.location.reload()}}}),e.jsx(Qs,{isOpen:u==="about",onClose:b}),e.jsx(as,{isOpen:u==="privacy",onClose:b}),e.jsx(ns,{isOpen:u==="terms",onClose:b})]})};async function St({request:o}){const c=new URL(o.url).pathname,{data:{session:a}}=await Oe.auth.getSession();if(!a)return c!=="/"&&c!=="/earlyaccess"?Pe("/"):{user:null,onboardingStatus:"login"};const{data:u,error:x}=await Oe.rpc("get_complete_user_data",{p_auth_user_id:a.user.id});if(x||!u||u.length===0)return a?c==="/"||c==="/login"?Pe("/onboarding"):{user:null,onboardingStatus:"initial"}:{user:null,onboardingStatus:"login"};const h=u[0],w=(h.app_state||{}).onboardingStatus||"initial";if(c==="/"||c==="/earlyaccess"){if(w==="complete")return Pe("/app");if(w!=="login")return Pe("/onboarding")}return{user:{id:h.id,authUserId:h.auth_user_id,email:h.email,tier:h.tier,hasProfileSetup:h.has_profile_setup??void 0,hasSeenSplashScreens:h.has_seen_splash_screens??void 0,hasSeenHowToUse:h.has_seen_how_to_use??void 0,hasSeenFeaturesConnected:h.has_seen_features_connected??void 0,hasSeenProFeatures:h.has_seen_pro_features??void 0,pcConnected:h.pc_connected??void 0,pcConnectionSkipped:h.pc_connection_skipped??void 0,onboardingCompleted:h.onboarding_completed??void 0,hasWelcomeMessage:h.has_welcome_message??void 0,isNewUser:h.is_new_user??void 0,hasUsedTrial:h.has_used_trial??void 0,textCount:h.text_count||0,imageCount:h.image_count||0,textLimit:h.text_limit||0,imageLimit:h.image_limit||0,totalRequests:h.total_requests||0,lastReset:h.last_reset?new Date(h.last_reset).getTime():Date.now(),createdAt:h.created_at?new Date(h.created_at).getTime():Date.now(),updatedAt:h.updated_at?new Date(h.updated_at).getTime():Date.now()},onboardingStatus:w}}async function Qe({request:o}){const i=await St({request:o}),{user:c,onboardingStatus:a}=i;if(!c)return Pe("/");const u=new URL(o.url).pathname;return a==="complete"?Pe("/app"):["/onboarding/welcome","/onboarding/how-to-use","/onboarding/features","/onboarding/pro-features"].includes(u)?{user:c,onboardingStatus:a}:u==="/onboarding"?Pe("/onboarding/welcome"):Pe("/onboarding/welcome")}async function Vs({request:o}){const i=await St({request:o}),{user:c,onboardingStatus:a}=i;return c?a!=="complete"?Pe("/onboarding"):{user:c,onboardingStatus:a}:Pe("/")}const Kr=[{path:"/",loader:St,element:e.jsx(Wr,{})},{path:"/earlyaccess",loader:St,element:e.jsx($r,{})},{path:"/auth/callback",element:e.jsx(Vr,{})},{path:"/onboarding",loader:Qe,children:[{index:!0,loader:Qe,element:e.jsx(Ws,{})},{path:"welcome",loader:Qe,element:e.jsx(Ws,{})},{path:"how-to-use",loader:Qe,element:e.jsx(qr,{})},{path:"features",loader:Qe,element:e.jsx(Zr,{})},{path:"pro-features",loader:Qe,element:e.jsx(Yr,{})}]},{path:"/app",loader:Vs,element:e.jsx($s,{})},{path:"/app/*",loader:Vs,element:e.jsx($s,{})},{path:"*",loader:()=>Pe("/")}],Qr=aa(Kr,{basename:"/"});function Jr(){return e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"min-h-screen bg-[#0A0A0A] flex items-center justify-center",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})}),children:e.jsx(ra,{router:Qr})})}const Xr=["/images/mascot/1.png","/images/mascot/2.png","/images/mascot/4.png","/images/mascot/5.1.png","/images/mascot/5.2.png","/images/mascot/6.png","/images/mascot/8.png","/images/mascot/9.png","/images/mascot/10.png","/images/mascot/11.png","/images/mascot/pro-user.png","/images/mascot/vanguard-user.png"],eo=["/images/otagon-logo.png","/icon-192.png"],qs=new Map,to=o=>{const i=qs.get(o);return i?Promise.resolve(i):new Promise((c,a)=>{const u=new Image;u.onload=()=>{qs.set(o,u),c(u)},u.onerror=()=>{console.warn(`[ImagePreloader] Failed to preload: ${o}`),a(new Error(`Failed to load image: ${o}`))},u.src=o})},Zs=async o=>{const i=o.map(c=>to(c).catch(()=>null));await Promise.all(i)},so=async()=>{console.log("[ImagePreloader] Starting full image preload...");const o=performance.now();await Promise.all([Zs(Xr),Zs(eo)]);const i=Math.round(performance.now()-o);console.log(`[ImagePreloader] All images preloaded in ${i}ms`)};if(typeof window<"u"){const o=()=>{so().catch(i=>{console.warn("[ImagePreloader] Preload failed:",i)})};"requestIdleCallback"in window?window.requestIdleCallback(o,{timeout:2e3}):setTimeout(o,100)}oa.createRoot(document.getElementById("root")).render(e.jsx(pe.StrictMode,{children:e.jsx(Nt,{children:e.jsx(Jr,{})})}));
