import{S as b,a8 as O,M as P,a9 as m}from"./vendor-qw7dqrHC.js";import{j as c}from"./react-vendor-QZf8v__N.js";import{u as v,b as x,c as E,t as j}from"./markdown-utils-C3JbJ9xt.js";const N="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",f=[],p={allowDangerousHtml:!0},R=/^(https?|ircs?|mailto|xmpp)$/i,T=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function q(e){const r=S(e),o=H(e);return D(r.runSync(r.parse(o),o),e)}function S(e){const r=e.rehypePlugins||f,o=e.remarkPlugins||f,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...p}:p;return v().use(x).use(o).use(E,n).use(r)}function H(e){const r=e.children||"",o=new b;return typeof r=="string"&&(o.value=r),o}function D(e,r){const o=r.allowedElements,n=r.allowElement,i=r.components,d=r.disallowedElements,g=r.skipHtml,w=r.unwrapDisallowed,h=r.urlTransform||F;for(const s of T)Object.hasOwn(r,s.from)&&O("Unexpected `"+s.from+"` prop, "+(s.to?"use `"+s.to+"` instead":"remove it")+" (see <"+N+"#"+s.id+"> for more info)");return r.className&&(e={type:"element",tagName:"div",properties:{className:r.className},children:e.type==="root"?e.children:[e]}),P(e,y),j(e,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function y(s,l,a){if(s.type==="raw"&&a&&typeof l=="number")return g?a.children.splice(l,1):a.children[l]={type:"text",value:s.value},l;if(s.type==="element"){let t;for(t in m)if(Object.hasOwn(m,t)&&Object.hasOwn(s.properties,t)){const k=s.properties[t],u=m[t];(u===null||u.includes(s.tagName))&&(s.properties[t]=h(String(k||""),t,s))}}if(s.type==="element"){let t=o?!o.includes(s.tagName):d?d.includes(s.tagName):!1;if(!t&&n&&typeof l=="number"&&(t=!n(s,l,a)),t&&a&&typeof l=="number")return w&&s.children?a.children.splice(l,1,...s.children):a.children.splice(l,1),l}}}function F(e){const r=e.indexOf(":"),o=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return r===-1||i!==-1&&r>i||o!==-1&&r>o||n!==-1&&r>n||R.test(e.slice(0,r))?e:""}export{q as M};
