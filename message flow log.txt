ChatInterface.tsx:857 ğŸ“¸ [ChatInterface] Image preview created: {hasResult: true, resultLength: 79463, resultStart: 'data:image/webp;base64,UklGRrToAABXRUJQVlA4IKjoAAB...'}
ChatInterface.tsx:800 ğŸ“¤ [ChatInterface] Submit attempt: {message: '', hasMessage: false, hasImageFile: true, hasImagePreview: true, queuedImagesCount: 0,Â â€¦}
ChatInterface.tsx:836 ğŸ“¤ [ChatInterface] Submitting: {message: '', hasImage: true, imageUrl: 'data:image/webp;base64,UklGRrToAABXRUJQVlA4IKjoAAB...'}
MainApp.tsx:3057 ğŸ“¸ [MainApp] Sending message with image: {message: '', hasImage: true, imageUrl: 'data:image/webp;base64,UklGRrToAABXRUJQVlA4IKjoAAB...'}
MainApp.tsx:3419 ğŸš€ [MainApp] About to call getChatResponseWithStructure with: {conversationId: 'game-hub', messageLength: 0, hasImage: true, sessionActive: false}
cacheService.ts:79 [CacheService] Cache MISS (memory-only mode): ai_structured_game-hub_353e6_false_true
MainApp.tsx:132 ğŸ”„ [MainApp] User changed: 9281a3bd-b0fc-4ea7-ad31-23341ea1c191 tier: pro
MainApp.tsx:147 ğŸ¯ [MainApp] Suggestions (4): (3)Â ["What's the latest gaming news?", 'Which games are releasing soon?', 'What are the latest game reviews?']
cacheService.ts:101 [CacheService] Cache MISS (memory), trying Supabase: user:c8844271-ab4f-4943-9844-cc644249b691
cacheService.ts:113 [CacheService] Cache MISS (Supabase): user:c8844271-ab4f-4943-9844-cc644249b691
authService.ts:281 ğŸ” [AuthService] No cached user found, loading from database...
groundingControlService.ts:403 [GroundingControl] getGroundingUsage called for: c8844271-ab4f-4943-9844-cc644249b691
groundingControlService.ts:458 [GroundingControl] Raw data from DB: null
groundingControlService.ts:462 [GroundingControl] No usage record found for this month - user has full quota
groundingControlService.ts:692 ğŸ” [GroundingControl] Check result: {tier: 'pro', queryType: 'general_knowledge', useGrounding: false, usageType: 'ai_message', reason: 'General gaming knowledge - AI can answer from training',Â â€¦}
aiService.ts:1037 ğŸ“¡ [GEMINI CALL #5] ğŸ—ï¸ Main Structured Response | Game: Game Hub | Message: ... | HasImage: true | Grounding: false
MainApp.tsx:132 ğŸ”„ [MainApp] User changed: 9281a3bd-b0fc-4ea7-ad31-23341ea1c191 tier: pro
aiService.ts:1083 ğŸ¤– [AIService] Raw AI response (last 500 chars): Glintstone Key located exactly?", "How do I beat the Red Wolf of Radagon inside?", "Are there any illusory walls in the Academy?"]]

**Internal Data Structure**
```json
{
  "followUpPrompts": [
    "Where is the Glintstone Key located exactly?",
    "How do I beat the Red Wolf of Radagon inside?",
    "Are there any illusory walls in the Academy?"
  ],
  "stateUpdateTags": [
    "PROGRESS: 35",
    "OBJECTIVE: Infiltrating the Academy of Raya Lucaria"
  ],
  "progressiveInsightUpdates": []
}
```
aiService.ts:1084 ğŸ¤– [AIService] Checking for PROGRESS in raw response: âœ… FOUND (OTAKON_PROGRESS format)
aiService.ts:1092 ğŸ·ï¸ [AIService] Extracted otakonTags: {tagCount: 8, tagKeys: Array(8), progressValue: 35, objectiveValue: '"Infiltrating the Academy of Raya Lucaria"', suggestionsValue: Array(3)}
aiService.ts:1101 ğŸ¯ [AIService] Suggestions from parseOtakonTags: (3)Â ['Where is the Glintstone Key located exactly?', 'How do I beat the Red Wolf of Radagon inside?', 'Are there any illusory walls in the Academy?'] Length: 3
aiService.ts:1108 ğŸ“Š [AIService] Added PROGRESS to stateUpdateTags: 35
aiService.ts:1113 ğŸ¯ [AIService] Added OBJECTIVE to stateUpdateTags: "Infiltrating the Academy of Raya Lucaria"
aiService.ts:1131 ğŸ“¤ [AIService] Final aiResponse: {hasContent: true, contentLength: 1467, stateUpdateTags: Array(2), otakonTagKeys: Array(8)}
MainApp.tsx:3438 âœ… [MainApp] getChatResponseWithStructure completed, response: {hasContent: true, contentLength: 1467, hasFollowUpPrompts: true, hasSuggestions: true, followUpPromptsRaw: '["Where is the Glintstone Key located exactly?","Hâ€¦","Are there any illusory walls in the Academy?"]',Â â€¦}
MainApp.tsx:3448 ğŸ” [MainApp] FULL followUpPrompts array: (3)Â ['Where is the Glintstone Key located exactly?', 'How do I beat the Red Wolf of Radagon inside?', 'Are there any illusory walls in the Academy?']
MainApp.tsx:3449 ğŸ” [MainApp] FULL suggestions array: (3)Â ['Where is the Glintstone Key located exactly?', 'How do I beat the Red Wolf of Radagon inside?', 'Are there any illusory walls in the Academy?']
MainApp.tsx:3458 ğŸ” [MainApp] RAW suggestionsToUse: (3)Â ['Where is the Glintstone Key located exactly?', 'How do I beat the Red Wolf of Radagon inside?', 'Are there any illusory walls in the Academy?']
MainApp.tsx:3459 ğŸ” [MainApp] suggestionsToUse type: object
MainApp.tsx:3460 ğŸ” [MainApp] suggestionsToUse is Array: true
MainApp.tsx:3461 ğŸ” [MainApp] suggestionsToUse length: 3
MainApp.tsx:3462 ğŸ” [MainApp] suggestionsToUse content: ["Where is the Glintstone Key located exactly?","How do I beat the Red Wolf of Radagon inside?","Are there any illusory walls in the Academy?"]
MainApp.tsx:3463 ğŸ” [MainApp] response.followUpPrompts type: object isArray: true length: 3
MainApp.tsx:3464 ğŸ” [MainApp] response.suggestions type: object isArray: true length: 3
suggestedPromptsService.ts:127 ğŸ”§ [SuggestedPromptsService] processAISuggestions INPUT: (3)Â ['Where is the Glintstone Key located exactly?', 'How do I beat the Red Wolf of Radagon inside?', 'Are there any illusory walls in the Academy?']
suggestedPromptsService.ts:128 ğŸ”§ [SuggestedPromptsService] INPUT type: object
suggestedPromptsService.ts:129 ğŸ”§ [SuggestedPromptsService] INPUT is Array: true
suggestedPromptsService.ts:130 ğŸ”§ [SuggestedPromptsService] INPUT JSON: ["Where is the Glintstone Key located exactly?","How do I beat the Red Wolf of Radagon inside?","Are there any illusory walls in the Academy?"]
suggestedPromptsService.ts:146 ğŸ”§ [SuggestedPromptsService] Input is array, checking elements...
suggestedPromptsService.ts:155 ğŸ”§ [SuggestedPromptsService] Array after filtering: (3)Â ['Where is the Glintstone Key located exactly?', 'How do I beat the Red Wolf of Radagon inside?', 'Are there any illusory walls in the Academy?']
suggestedPromptsService.ts:207 ğŸ”§ [SuggestedPromptsService] suggestionsArray before filter: (3)Â ['Where is the Glintstone Key located exactly?', 'How do I beat the Red Wolf of Radagon inside?', 'Are there any illusory walls in the Academy?']
suggestedPromptsService.ts:208 ğŸ”§ [SuggestedPromptsService] RESULT after filter/map/slice: (3)Â ['Where is the Glintstone Key located exactly?', 'How do I beat the Red Wolf of Radagon inside?', 'Are there any illusory walls in the Academy?']
suggestedPromptsService.ts:209 ğŸ”§ [SuggestedPromptsService] RESULT length: 3
MainApp.tsx:3475 ğŸ” [MainApp] AFTER processAISuggestions: (3)Â ['Where is the Glintstone Key located exactly?', 'How do I beat the Red Wolf of Radagon inside?', 'Are there any illusory walls in the Academy?']
MainApp.tsx:3476 ğŸ” [MainApp] processedSuggestions length: 3
MainApp.tsx:3477 ğŸ” [MainApp] processedSuggestions content: ["Where is the Glintstone Key located exactly?","How do I beat the Red Wolf of Radagon inside?","Are there any illusory walls in the Academy?"]
MainApp.tsx:3639 ğŸš¨ğŸš¨ğŸš¨ [MainApp] AI RESPONSE PROCESSING STARTED ğŸš¨ğŸš¨ğŸš¨
handleSendMessage @ MainApp.tsx:3639
await in handleSendMessage
handleSubmit @ ChatInterface.tsx:846
callCallback2 @ chunk-TH7NCS4R.js?v=21523175:3680
invokeGuardedCallbackDev @ chunk-TH7NCS4R.js?v=21523175:3705
invokeGuardedCallback @ chunk-TH7NCS4R.js?v=21523175:3739
invokeGuardedCallbackAndCatchFirstError @ chunk-TH7NCS4R.js?v=21523175:3742
executeDispatch @ chunk-TH7NCS4R.js?v=21523175:7046
processDispatchQueueItemsInOrder @ chunk-TH7NCS4R.js?v=21523175:7066
processDispatchQueue @ chunk-TH7NCS4R.js?v=21523175:7075
dispatchEventsForPlugins @ chunk-TH7NCS4R.js?v=21523175:7083
(anonymous) @ chunk-TH7NCS4R.js?v=21523175:7206
batchedUpdates$1 @ chunk-TH7NCS4R.js?v=21523175:18966
batchedUpdates @ chunk-TH7NCS4R.js?v=21523175:3585
dispatchEventForPluginEventSystem @ chunk-TH7NCS4R.js?v=21523175:7205
dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay @ chunk-TH7NCS4R.js?v=21523175:5484
dispatchEvent @ chunk-TH7NCS4R.js?v=21523175:5478
dispatchDiscreteEvent @ chunk-TH7NCS4R.js?v=21523175:5455
MainApp.tsx:3640 ğŸš¨ Response object: {
  "hasContent": true,
  "contentLength": 1467,
  "stateUpdateTags": [
    "PROGRESS: 35",
    "OBJECTIVE: \"Infiltrating the Academy of Raya Lucaria\""
  ],
  "hasOtakonTags": true,
  "otakonTagKeys": [
    "SUGGESTIONS",
    "PROGRESS",
    "OBJECTIVE",
    "SUBTAB_UPDATE",
    "GAME_ID",
    "CONFIDENCE",
    "GENRE",
    "IS_FULLSCREEN"
  ]
}
handleSendMessage @ MainApp.tsx:3640
await in handleSendMessage
handleSubmit @ ChatInterface.tsx:846
callCallback2 @ chunk-TH7NCS4R.js?v=21523175:3680
invokeGuardedCallbackDev @ chunk-TH7NCS4R.js?v=21523175:3705
invokeGuardedCallback @ chunk-TH7NCS4R.js?v=21523175:3739
invokeGuardedCallbackAndCatchFirstError @ chunk-TH7NCS4R.js?v=21523175:3742
executeDispatch @ chunk-TH7NCS4R.js?v=21523175:7046
processDispatchQueueItemsInOrder @ chunk-TH7NCS4R.js?v=21523175:7066
processDispatchQueue @ chunk-TH7NCS4R.js?v=21523175:7075
dispatchEventsForPlugins @ chunk-TH7NCS4R.js?v=21523175:7083
(anonymous) @ chunk-TH7NCS4R.js?v=21523175:7206
batchedUpdates$1 @ chunk-TH7NCS4R.js?v=21523175:18966
batchedUpdates @ chunk-TH7NCS4R.js?v=21523175:3585
dispatchEventForPluginEventSystem @ chunk-TH7NCS4R.js?v=21523175:7205
dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay @ chunk-TH7NCS4R.js?v=21523175:5484
dispatchEvent @ chunk-TH7NCS4R.js?v=21523175:5478
dispatchDiscreteEvent @ chunk-TH7NCS4R.js?v=21523175:5455
MainApp.tsx:3654 ğŸ“Š [MainApp] AI Response received: {hasStateUpdateTags: true, stateUpdateTags: Array(2), hasOtakonTags: true, otakonTagKeys: Array(8), contentPreview: '**Hint:** You are standing at the threshold of theâ€¦ wearing the Kaiden armor, your best strategy ins'}
MainApp.tsx:3669 ğŸ® [MainApp] Processing state update tags: (2)Â ['PROGRESS: 35', 'OBJECTIVE: "Infiltrating the Academy of Raya Lucaria"']
handleSendMessage @ MainApp.tsx:3669
await in handleSendMessage
handleSubmit @ ChatInterface.tsx:846
callCallback2 @ chunk-TH7NCS4R.js?v=21523175:3680
invokeGuardedCallbackDev @ chunk-TH7NCS4R.js?v=21523175:3705
invokeGuardedCallback @ chunk-TH7NCS4R.js?v=21523175:3739
invokeGuardedCallbackAndCatchFirstError @ chunk-TH7NCS4R.js?v=21523175:3742
executeDispatch @ chunk-TH7NCS4R.js?v=21523175:7046
processDispatchQueueItemsInOrder @ chunk-TH7NCS4R.js?v=21523175:7066
processDispatchQueue @ chunk-TH7NCS4R.js?v=21523175:7075
dispatchEventsForPlugins @ chunk-TH7NCS4R.js?v=21523175:7083
(anonymous) @ chunk-TH7NCS4R.js?v=21523175:7206
batchedUpdates$1 @ chunk-TH7NCS4R.js?v=21523175:18966
batchedUpdates @ chunk-TH7NCS4R.js?v=21523175:3585
dispatchEventForPluginEventSystem @ chunk-TH7NCS4R.js?v=21523175:7205
dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay @ chunk-TH7NCS4R.js?v=21523175:5484
dispatchEvent @ chunk-TH7NCS4R.js?v=21523175:5478
dispatchDiscreteEvent @ chunk-TH7NCS4R.js?v=21523175:5455
MainApp.tsx:3676 ğŸ® [MainApp] Found progress in stateUpdateTags: 35%
handleSendMessage @ MainApp.tsx:3676
await in handleSendMessage
handleSubmit @ ChatInterface.tsx:846
callCallback2 @ chunk-TH7NCS4R.js?v=21523175:3680
invokeGuardedCallbackDev @ chunk-TH7NCS4R.js?v=21523175:3705
invokeGuardedCallback @ chunk-TH7NCS4R.js?v=21523175:3739
invokeGuardedCallbackAndCatchFirstError @ chunk-TH7NCS4R.js?v=21523175:3742
executeDispatch @ chunk-TH7NCS4R.js?v=21523175:7046
processDispatchQueueItemsInOrder @ chunk-TH7NCS4R.js?v=21523175:7066
processDispatchQueue @ chunk-TH7NCS4R.js?v=21523175:7075
dispatchEventsForPlugins @ chunk-TH7NCS4R.js?v=21523175:7083
(anonymous) @ chunk-TH7NCS4R.js?v=21523175:7206
batchedUpdates$1 @ chunk-TH7NCS4R.js?v=21523175:18966
batchedUpdates @ chunk-TH7NCS4R.js?v=21523175:3585
dispatchEventForPluginEventSystem @ chunk-TH7NCS4R.js?v=21523175:7205
dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay @ chunk-TH7NCS4R.js?v=21523175:5484
dispatchEvent @ chunk-TH7NCS4R.js?v=21523175:5478
dispatchDiscreteEvent @ chunk-TH7NCS4R.js?v=21523175:5455
MainApp.tsx:3685 ğŸ® [MainApp] Found objective in stateUpdateTags: "Infiltrating the Academy of Raya Lucaria"
handleSendMessage @ MainApp.tsx:3685
await in handleSendMessage
handleSubmit @ ChatInterface.tsx:846
callCallback2 @ chunk-TH7NCS4R.js?v=21523175:3680
invokeGuardedCallbackDev @ chunk-TH7NCS4R.js?v=21523175:3705
invokeGuardedCallback @ chunk-TH7NCS4R.js?v=21523175:3739
invokeGuardedCallbackAndCatchFirstError @ chunk-TH7NCS4R.js?v=21523175:3742
executeDispatch @ chunk-TH7NCS4R.js?v=21523175:7046
processDispatchQueueItemsInOrder @ chunk-TH7NCS4R.js?v=21523175:7066
processDispatchQueue @ chunk-TH7NCS4R.js?v=21523175:7075
dispatchEventsForPlugins @ chunk-TH7NCS4R.js?v=21523175:7083
(anonymous) @ chunk-TH7NCS4R.js?v=21523175:7206
batchedUpdates$1 @ chunk-TH7NCS4R.js?v=21523175:18966
batchedUpdates @ chunk-TH7NCS4R.js?v=21523175:3585
dispatchEventForPluginEventSystem @ chunk-TH7NCS4R.js?v=21523175:7205
dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay @ chunk-TH7NCS4R.js?v=21523175:5484
dispatchEvent @ chunk-TH7NCS4R.js?v=21523175:5478
dispatchDiscreteEvent @ chunk-TH7NCS4R.js?v=21523175:5455
MainApp.tsx:3713 ğŸ® [MainApp] ğŸ“Œ Deferring progress/objective updates until after migration decision: {progressUpdate: 35, objectiveUpdate: '"Infiltrating the Academy of Raya Lucaria"'}
handleSendMessage @ MainApp.tsx:3713
await in handleSendMessage
handleSubmit @ ChatInterface.tsx:846
callCallback2 @ chunk-TH7NCS4R.js?v=21523175:3680
invokeGuardedCallbackDev @ chunk-TH7NCS4R.js?v=21523175:3705
invokeGuardedCallback @ chunk-TH7NCS4R.js?v=21523175:3739
invokeGuardedCallbackAndCatchFirstError @ chunk-TH7NCS4R.js?v=21523175:3742
executeDispatch @ chunk-TH7NCS4R.js?v=21523175:7046
processDispatchQueueItemsInOrder @ chunk-TH7NCS4R.js?v=21523175:7066
processDispatchQueue @ chunk-TH7NCS4R.js?v=21523175:7075
dispatchEventsForPlugins @ chunk-TH7NCS4R.js?v=21523175:7083
(anonymous) @ chunk-TH7NCS4R.js?v=21523175:7206
batchedUpdates$1 @ chunk-TH7NCS4R.js?v=21523175:18966
batchedUpdates @ chunk-TH7NCS4R.js?v=21523175:3585
dispatchEventForPluginEventSystem @ chunk-TH7NCS4R.js?v=21523175:7205
dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay @ chunk-TH7NCS4R.js?v=21523175:5484
dispatchEvent @ chunk-TH7NCS4R.js?v=21523175:5478
dispatchDiscreteEvent @ chunk-TH7NCS4R.js?v=21523175:5455
MainApp.tsx:3961 ğŸ® [MainApp] DEBUG - All otakon tags from AI response: {hasGameId: true, allTagKeys: Array(8), allTagValues: {â€¦}, imageUrl: '(has image)', activeConversationId: 'game-hub',Â â€¦}
MainApp.tsx:3995 ğŸ® [MainApp] DEBUG - Game tab creation decision: {gameTitle: 'Elden Ring', confidence: 'high', confidenceIsHigh: true, isFullscreen: true, wasImageQuery: true,Â â€¦}
MainApp.tsx:428 ğŸ¯ [PROMPTS] âœ… Setting AI prompts for Game Hub : (2)Â ['Where is the Glintstone Key located exactly?', 'How do I beat the Red Wolf of Radagon inside?']
MainApp.tsx:147 ğŸ¯ [MainApp] Suggestions (3): (3)Â ['Where is the Glintstone Key located exactly?', 'How do I beat the Red Wolf of Radagon inside?', 'Are there any illusory walls in the Academy?']
MainApp.tsx:4027 ğŸ® [MainApp] Creating new game tab for: Elden Ring (released)
MainApp.tsx:2459 ğŸ® [MainApp] handleCreateGameTab called: {gameTitle: 'Elden Ring', currentUserTier: 'pro', hasAiResponse: true, isUnreleased: false}
MainApp.tsx:2485 ğŸ® [MainApp] Creating new game tab via gameTabService: {conversationId: 'game-elden-ring', userTier: 'pro'}
gameTabService.ts:94 ğŸ® [GameTabService] Creating new game tab: {gameTitle: 'Elden Ring', userTier: 'pro', isPro: true, isUnreleased: false, hasAiResponse: true}
gameTabService.ts:602 ğŸ® [GameTabService] Using genre-based subtabs for genre: Souls-like
generateInitialSubTabs @ gameTabService.ts:602
createGameTab @ gameTabService.ts:109
await in createGameTab
handleCreateGameTab @ MainApp.tsx:2491
handleSendMessage @ MainApp.tsx:4036
await in handleSendMessage
handleSubmit @ ChatInterface.tsx:846
callCallback2 @ chunk-TH7NCS4R.js?v=21523175:3680
invokeGuardedCallbackDev @ chunk-TH7NCS4R.js?v=21523175:3705
invokeGuardedCallback @ chunk-TH7NCS4R.js?v=21523175:3739
invokeGuardedCallbackAndCatchFirstError @ chunk-TH7NCS4R.js?v=21523175:3742
executeDispatch @ chunk-TH7NCS4R.js?v=21523175:7046
processDispatchQueueItemsInOrder @ chunk-TH7NCS4R.js?v=21523175:7066
processDispatchQueue @ chunk-TH7NCS4R.js?v=21523175:7075
dispatchEventsForPlugins @ chunk-TH7NCS4R.js?v=21523175:7083
(anonymous) @ chunk-TH7NCS4R.js?v=21523175:7206
batchedUpdates$1 @ chunk-TH7NCS4R.js?v=21523175:18966
batchedUpdates @ chunk-TH7NCS4R.js?v=21523175:3585
dispatchEventForPluginEventSystem @ chunk-TH7NCS4R.js?v=21523175:7205
dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay @ chunk-TH7NCS4R.js?v=21523175:5484
dispatchEvent @ chunk-TH7NCS4R.js?v=21523175:5478
dispatchDiscreteEvent @ chunk-TH7NCS4R.js?v=21523175:5455
gameTabService.ts:110 ğŸ® [GameTabService] Created 9 template subtabs (will be populated by generateInitialInsights)
aiService.ts:1145 ğŸ“š [AIService] Stored 4 topics for behavior tracking
gameTabService.ts:141 ğŸ® [GameTabService] Created new tab (cache preserved for performance): game-elden-ring
gameTabService.ts:151 ğŸ® [GameTabService] Triggering background game knowledge fetch for Elden Ring (IGDB: 119133)
gameKnowledgeFetcher.ts:428 ğŸ® [GameKnowledge] ğŸš€ TRIGGER called for: Elden Ring (IGDB ID: 119133)
gameKnowledgeFetcher.ts:443 ğŸ® [GameKnowledge] âœ… Background fetch initiated for Elden Ring
subtabsService.ts:41 ğŸ”„ [SubtabsService] Creating 9 subtabs in normalized table for conversation: game-elden-ring
setSubtabs @ subtabsService.ts:41
createGameTab @ gameTabService.ts:169
await in createGameTab
handleCreateGameTab @ MainApp.tsx:2491
handleSendMessage @ MainApp.tsx:4036
await in handleSendMessage
handleSubmit @ ChatInterface.tsx:846
callCallback2 @ chunk-TH7NCS4R.js?v=21523175:3680
invokeGuardedCallbackDev @ chunk-TH7NCS4R.js?v=21523175:3705
invokeGuardedCallback @ chunk-TH7NCS4R.js?v=21523175:3739
invokeGuardedCallbackAndCatchFirstError @ chunk-TH7NCS4R.js?v=21523175:3742
executeDispatch @ chunk-TH7NCS4R.js?v=21523175:7046
processDispatchQueueItemsInOrder @ chunk-TH7NCS4R.js?v=21523175:7066
processDispatchQueue @ chunk-TH7NCS4R.js?v=21523175:7075
dispatchEventsForPlugins @ chunk-TH7NCS4R.js?v=21523175:7083
(anonymous) @ chunk-TH7NCS4R.js?v=21523175:7206
batchedUpdates$1 @ chunk-TH7NCS4R.js?v=21523175:18966
batchedUpdates @ chunk-TH7NCS4R.js?v=21523175:3585
dispatchEventForPluginEventSystem @ chunk-TH7NCS4R.js?v=21523175:7205
dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay @ chunk-TH7NCS4R.js?v=21523175:5484
dispatchEvent @ chunk-TH7NCS4R.js?v=21523175:5478
dispatchDiscreteEvent @ chunk-TH7NCS4R.js?v=21523175:5455
gameKnowledgeFetcher.ts:221 ğŸ® [GameKnowledge] Knowledge already exists in global cache for Elden Ring
subtabsService.ts:44   âœ… Table write: SUCCESS
setSubtabs @ subtabsService.ts:44
await in setSubtabs
createGameTab @ gameTabService.ts:169
await in createGameTab
handleCreateGameTab @ MainApp.tsx:2491
handleSendMessage @ MainApp.tsx:4036
await in handleSendMessage
handleSubmit @ ChatInterface.tsx:846
callCallback2 @ chunk-TH7NCS4R.js?v=21523175:3680
invokeGuardedCallbackDev @ chunk-TH7NCS4R.js?v=21523175:3705
invokeGuardedCallback @ chunk-TH7NCS4R.js?v=21523175:3739
invokeGuardedCallbackAndCatchFirstError @ chunk-TH7NCS4R.js?v=21523175:3742
executeDispatch @ chunk-TH7NCS4R.js?v=21523175:7046
processDispatchQueueItemsInOrder @ chunk-TH7NCS4R.js?v=21523175:7066
processDispatchQueue @ chunk-TH7NCS4R.js?v=21523175:7075
dispatchEventsForPlugins @ chunk-TH7NCS4R.js?v=21523175:7083
(anonymous) @ chunk-TH7NCS4R.js?v=21523175:7206
batchedUpdates$1 @ chunk-TH7NCS4R.js?v=21523175:18966
batchedUpdates @ chunk-TH7NCS4R.js?v=21523175:3585
dispatchEventForPluginEventSystem @ chunk-TH7NCS4R.js?v=21523175:7205
dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay @ chunk-TH7NCS4R.js?v=21523175:5484
dispatchEvent @ chunk-TH7NCS4R.js?v=21523175:5478
dispatchDiscreteEvent @ chunk-TH7NCS4R.js?v=21523175:5455
gameTabService.ts:197 ğŸ¯ [GameTabService] First message detected - will generate initial insights for: Elden Ring
gameTabService.ts:198 ğŸ¯ [GameTabService] Subtabs status: (9)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
gameTabService.ts:203 ğŸ¯ [GameTabService] 9 subtabs need content - calling generateInitialInsights
gameTabService.ts:732 ğŸ¤– [GameTabService] ğŸ”„ [game-elden-ring] Generating initial insights for: Elden Ring
generateInitialInsights @ gameTabService.ts:732
(anonymous) @ gameTabService.ts:213
igdbService.ts:204 [IGDBService] Session cache hit: Elden Ring
MainApp.tsx:2520 ğŸ“š [MainApp] Auto-added game to Owned library: Elden Ring
MainApp.tsx:4052 ğŸ® [MainApp] Auto-switching new game tab to Playing mode
MainApp.tsx:4065 ğŸ® [MainApp] Migration detected - target: game-elden-ring source: game-hub
MainApp.tsx:4068 ğŸ’¾ [MainApp] Saving user message to TARGET conversation...
gameKnowledgeFetcher.ts:428 ğŸ® [GameKnowledge] ğŸš€ TRIGGER called for: Elden Ring (IGDB ID: 119133)
gameKnowledgeFetcher.ts:443 ğŸ® [GameKnowledge] âœ… Background fetch initiated for Elden Ring
MainApp.tsx:2526 ğŸ¯ [MainApp] Triggered background game knowledge fetch for: {gameTitle: 'Elden Ring', igdbId: 119133, tier: 'pro'}
gameKnowledgeFetcher.ts:221 ğŸ® [GameKnowledge] Knowledge already exists in global cache for Elden Ring
gameTabService.ts:794 ğŸ¤– [GameTabService] [game-elden-ring] Using AI response as context (1467 chars)
generateInitialInsights @ gameTabService.ts:794
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:799 ğŸ¤– [GameTabService] [game-elden-ring] ğŸš€ Calling AI generateInitialInsights...
generateInitialInsights @ gameTabService.ts:799
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
cacheService.ts:101 [CacheService] Cache MISS (memory), trying Supabase: insights_elden-ring_AIAnalysisHintYouarestandingatthethr_p0
cacheService.ts:113 [CacheService] Cache MISS (Supabase): insights_elden-ring_AIAnalysisHintYouarestandingatthethr_p0
aiService.ts:1719 ğŸ“¡ [GEMINI CALL #3] ğŸ¯ Generate Initial Insights | Game: Elden Ring | Genre: Souls-like | Progress: 0% | Tabs: 9
conversationService.ts:616 âœ… [ConversationService] Message saved to database: 2172f04a-c7b1-42ed-aace-df319b0c3b62
addMessage @ conversationService.ts:616
await in addMessage
handleSendMessage @ MainApp.tsx:4069
await in handleSendMessage
handleSubmit @ ChatInterface.tsx:846
callCallback2 @ chunk-TH7NCS4R.js?v=21523175:3680
invokeGuardedCallbackDev @ chunk-TH7NCS4R.js?v=21523175:3705
invokeGuardedCallback @ chunk-TH7NCS4R.js?v=21523175:3739
invokeGuardedCallbackAndCatchFirstError @ chunk-TH7NCS4R.js?v=21523175:3742
executeDispatch @ chunk-TH7NCS4R.js?v=21523175:7046
processDispatchQueueItemsInOrder @ chunk-TH7NCS4R.js?v=21523175:7066
processDispatchQueue @ chunk-TH7NCS4R.js?v=21523175:7075
dispatchEventsForPlugins @ chunk-TH7NCS4R.js?v=21523175:7083
(anonymous) @ chunk-TH7NCS4R.js?v=21523175:7206
batchedUpdates$1 @ chunk-TH7NCS4R.js?v=21523175:18966
batchedUpdates @ chunk-TH7NCS4R.js?v=21523175:3585
dispatchEventForPluginEventSystem @ chunk-TH7NCS4R.js?v=21523175:7205
dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay @ chunk-TH7NCS4R.js?v=21523175:5484
dispatchEvent @ chunk-TH7NCS4R.js?v=21523175:5478
dispatchDiscreteEvent @ chunk-TH7NCS4R.js?v=21523175:5455
MainApp.tsx:4072 ğŸ’¾ [MainApp] Saving AI message to TARGET conversation...
conversationService.ts:616 âœ… [ConversationService] Message saved to database: 62888b65-8eac-4b95-9c43-b8872cf25f0c
addMessage @ conversationService.ts:616
await in addMessage
handleSendMessage @ MainApp.tsx:4073
await in handleSendMessage
handleSubmit @ ChatInterface.tsx:846
callCallback2 @ chunk-TH7NCS4R.js?v=21523175:3680
invokeGuardedCallbackDev @ chunk-TH7NCS4R.js?v=21523175:3705
invokeGuardedCallback @ chunk-TH7NCS4R.js?v=21523175:3739
invokeGuardedCallbackAndCatchFirstError @ chunk-TH7NCS4R.js?v=21523175:3742
executeDispatch @ chunk-TH7NCS4R.js?v=21523175:7046
processDispatchQueueItemsInOrder @ chunk-TH7NCS4R.js?v=21523175:7066
processDispatchQueue @ chunk-TH7NCS4R.js?v=21523175:7075
dispatchEventsForPlugins @ chunk-TH7NCS4R.js?v=21523175:7083
(anonymous) @ chunk-TH7NCS4R.js?v=21523175:7206
batchedUpdates$1 @ chunk-TH7NCS4R.js?v=21523175:18966
batchedUpdates @ chunk-TH7NCS4R.js?v=21523175:3585
dispatchEventForPluginEventSystem @ chunk-TH7NCS4R.js?v=21523175:7205
dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay @ chunk-TH7NCS4R.js?v=21523175:5484
dispatchEvent @ chunk-TH7NCS4R.js?v=21523175:5478
dispatchDiscreteEvent @ chunk-TH7NCS4R.js?v=21523175:5455
MainApp.tsx:4076 âœ… [MainApp] Messages saved to target with IDs: {userMessageDbId: '2172f04a-c7b1-42ed-aace-df319b0c3b62', aiMessageDbId: '62888b65-8eac-4b95-9c43-b8872cf25f0c'}
MainApp.tsx:4085 ğŸ® [MainApp] ğŸ’¾ Batching progress 35% to database for: game-elden-ring
MainApp.tsx:4090 ğŸ® [MainApp] ğŸ’¾ Batching objective to database for: game-elden-ring
MainApp.tsx:4095 âœ… [MainApp] Progress/objective saved to database (batched)
MainApp.tsx:4486 ğŸ”“ [MainApp] Processing lock released
MainApp.tsx:357 [MainApp] Fetching quota for user: c8844271-ab4f-4943-9844-cc644249b691 tier: pro
groundingControlService.ts:579 [GroundingControl] getRemainingQuota called with: {authUserId: 'c8844271-ab4f-4943-9844-cc644249b691', tier: 'pro'}
groundingControlService.ts:403 [GroundingControl] getGroundingUsage called for: c8844271-ab4f-4943-9844-cc644249b691
groundingControlService.ts:458 [GroundingControl] Raw data from DB: null
groundingControlService.ts:462 [GroundingControl] No usage record found for this month - user has full quota
groundingControlService.ts:582 [GroundingControl] getGroundingUsage returned: {gameKnowledge: 0, aiMessages: 0, total: 0}
groundingControlService.ts:585 [GroundingControl] Limits for tier: {gameKnowledge: 20, aiMessages: 30}
MainApp.tsx:363 [MainApp] Quota received: {gameKnowledge: {â€¦}, aiMessages: {â€¦}}
MainApp.tsx:364 [MainApp] Setting aiMessagesQuota to: 30
MainApp.tsx:428 ğŸ¯ [PROMPTS] âœ… Setting AI prompts for Elden Ring : (2)Â ['Where is the Glintstone Key located exactly?', 'How do I beat the Red Wolf of Radagon inside?']
MainApp.tsx:1288 âš ï¸ [MainApp] Skipping realtime subscription - conversation does not belong to current user: {conversationId: 'game-elden-ring', conversationUserId: 'c8844271-ab4f-4943-9844-cc644249b691', currentUserId: '9281a3bd-b0fc-4ea7-ad31-23341ea1c191'}
(anonymous) @ MainApp.tsx:1288
commitHookEffectListMount @ chunk-TH7NCS4R.js?v=21523175:16963
commitPassiveMountOnFiber @ chunk-TH7NCS4R.js?v=21523175:18206
commitPassiveMountEffects_complete @ chunk-TH7NCS4R.js?v=21523175:18179
commitPassiveMountEffects_begin @ chunk-TH7NCS4R.js?v=21523175:18169
commitPassiveMountEffects @ chunk-TH7NCS4R.js?v=21523175:18159
flushPassiveEffectsImpl @ chunk-TH7NCS4R.js?v=21523175:19543
flushPassiveEffects @ chunk-TH7NCS4R.js?v=21523175:19500
(anonymous) @ chunk-TH7NCS4R.js?v=21523175:19381
workLoop @ chunk-TH7NCS4R.js?v=21523175:197
flushWork @ chunk-TH7NCS4R.js?v=21523175:176
performWorkUntilDeadline @ chunk-TH7NCS4R.js?v=21523175:384
MainApp.tsx:1369 ğŸ® [IGDB] Effect triggered: {hasActiveConv: true, gameTitle: 'Elden Ring', isGameHub: false, convId: 'game-elden-ring', prevFetched: null}
MainApp.tsx:1393 ğŸ® [MainApp] Fetching IGDB data for: Elden Ring
igdbService.ts:204 [IGDBService] Session cache hit: Elden Ring
MainApp.tsx:2437 ğŸ® [MainApp] ğŸ”„ Detected loading subtabs on tab switch for "Elden Ring"
(anonymous) @ MainApp.tsx:2437
commitHookEffectListMount @ chunk-TH7NCS4R.js?v=21523175:16963
commitPassiveMountOnFiber @ chunk-TH7NCS4R.js?v=21523175:18206
commitPassiveMountEffects_complete @ chunk-TH7NCS4R.js?v=21523175:18179
commitPassiveMountEffects_begin @ chunk-TH7NCS4R.js?v=21523175:18169
commitPassiveMountEffects @ chunk-TH7NCS4R.js?v=21523175:18159
flushPassiveEffectsImpl @ chunk-TH7NCS4R.js?v=21523175:19543
flushPassiveEffects @ chunk-TH7NCS4R.js?v=21523175:19500
(anonymous) @ chunk-TH7NCS4R.js?v=21523175:19381
workLoop @ chunk-TH7NCS4R.js?v=21523175:197
flushWork @ chunk-TH7NCS4R.js?v=21523175:176
performWorkUntilDeadline @ chunk-TH7NCS4R.js?v=21523175:384
MainApp.tsx:2438 ğŸ® [MainApp] ğŸ“Š Subtab statuses: (9)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
(anonymous) @ MainApp.tsx:2438
commitHookEffectListMount @ chunk-TH7NCS4R.js?v=21523175:16963
commitPassiveMountOnFiber @ chunk-TH7NCS4R.js?v=21523175:18206
commitPassiveMountEffects_complete @ chunk-TH7NCS4R.js?v=21523175:18179
commitPassiveMountEffects_begin @ chunk-TH7NCS4R.js?v=21523175:18169
commitPassiveMountEffects @ chunk-TH7NCS4R.js?v=21523175:18159
flushPassiveEffectsImpl @ chunk-TH7NCS4R.js?v=21523175:19543
flushPassiveEffects @ chunk-TH7NCS4R.js?v=21523175:19500
(anonymous) @ chunk-TH7NCS4R.js?v=21523175:19381
workLoop @ chunk-TH7NCS4R.js?v=21523175:197
flushWork @ chunk-TH7NCS4R.js?v=21523175:176
performWorkUntilDeadline @ chunk-TH7NCS4R.js?v=21523175:384
MainApp.tsx:147 ğŸ¯ [MainApp] Suggestions (3): (3)Â ['Where is the Glintstone Key located exactly?', 'How do I beat the Red Wolf of Radagon inside?', 'Are there any illusory walls in the Academy?']
MainApp.tsx:1401 âœ… [MainApp] IGDB data loaded: Elden Ring
MainApp.tsx:1405 ğŸ–¼ï¸ [MainApp] Cover URL for sidebar: https://images.igdb.com/igdb/image/upload/t_cover_small/co4jni.jpg Original: https://images.igdb.com/igdb/image/upload/t_cover_big/co4jni.jpg
MainApp.tsx:1413 ğŸ–¼ï¸ [MainApp] Updated conversation with coverUrl: game-elden-ring
GameInfoModal.tsx:110 [GameInfoModal] Checking categories, version: 0
GameInfoModal.tsx:110 [GameInfoModal] Checking categories, version: 0
MainApp.tsx:2372 ğŸ® [MainApp] ğŸ” Starting poll for "Elden Ring" (9 subtabs, 9 loading)
MainApp.tsx:2402 ğŸ® [MainApp] ğŸ”„ "Elden Ring": 9 subtabs still loading... (attempt 1)
gameTabService.ts:808 ğŸ¤– [GameTabService] [game-elden-ring] ğŸ“¥ AI returned: 9 insights
generateInitialInsights @ gameTabService.ts:808
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:815 ğŸ¤– [GameTabService] [game-elden-ring] âœ… Got 9 insights: (9)Â ['story_so_far', 'boss_strategy', 'hidden_paths', 'build_optimization', 'missed_items', 'points_of_interest', 'death_recovery', 'level_layout', 'npc_questlines']
generateInitialInsights @ gameTabService.ts:815
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:829 ğŸ¤– [GameTabService] [game-elden-ring] ğŸ“– Read 9 subtabs from database
generateInitialInsights @ gameTabService.ts:829
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1033 ğŸ¤– [GameTabService] Building content mapping for subtabs...
generateInitialInsights @ gameTabService.ts:1033
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1034 ğŸ¤– [GameTabService] AI returned insight keys: (9)Â ['story_so_far', 'boss_strategy', 'hidden_paths', 'build_optimization', 'missed_items', 'points_of_interest', 'death_recovery', 'level_layout', 'npc_questlines']
generateInitialInsights @ gameTabService.ts:1034
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1050 âœ… [GameTabService] Subtab "Story So Far" â†’ key "story_so_far" â†’ AI content (936 chars)
(anonymous) @ gameTabService.ts:1050
generateInitialInsights @ gameTabService.ts:1037
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1050 âœ… [GameTabService] Subtab "Boss Strategy" â†’ key "boss_strategy" â†’ AI content (984 chars)
(anonymous) @ gameTabService.ts:1050
generateInitialInsights @ gameTabService.ts:1037
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1050 âœ… [GameTabService] Subtab "Hidden Paths & Secrets" â†’ key "hidden_paths" â†’ AI content (905 chars)
(anonymous) @ gameTabService.ts:1050
generateInitialInsights @ gameTabService.ts:1037
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1050 âœ… [GameTabService] Subtab "Build Optimization" â†’ key "build_optimization" â†’ AI content (984 chars)
(anonymous) @ gameTabService.ts:1050
generateInitialInsights @ gameTabService.ts:1037
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1050 âœ… [GameTabService] Subtab "Items You May Have Missed" â†’ key "missed_items" â†’ AI content (854 chars)
(anonymous) @ gameTabService.ts:1050
generateInitialInsights @ gameTabService.ts:1037
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1050 âœ… [GameTabService] Subtab "Points of Interest" â†’ key "points_of_interest" â†’ AI content (869 chars)
(anonymous) @ gameTabService.ts:1050
generateInitialInsights @ gameTabService.ts:1037
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1050 âœ… [GameTabService] Subtab "Death Recovery Strategy" â†’ key "death_recovery" â†’ AI content (757 chars)
(anonymous) @ gameTabService.ts:1050
generateInitialInsights @ gameTabService.ts:1037
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1050 âœ… [GameTabService] Subtab "Level Layout Insights" â†’ key "level_layout" â†’ AI content (782 chars)
(anonymous) @ gameTabService.ts:1050
generateInitialInsights @ gameTabService.ts:1037
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1050 âœ… [GameTabService] Subtab "NPC Questlines" â†’ key "npc_questlines" â†’ AI content (877 chars)
(anonymous) @ gameTabService.ts:1050
generateInitialInsights @ gameTabService.ts:1037
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1097 ğŸ¤– [GameTabService] Updating subtabs with content...
generateInitialInsights @ gameTabService.ts:1097
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1107 ğŸ¤– [GameTabService] Subtabs to save: (9)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
generateInitialInsights @ gameTabService.ts:1107
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1108 ğŸ¤– [GameTabService] ALL statuses: (9)Â ['loaded', 'loaded', 'loaded', 'loaded', 'loaded', 'loaded', 'loaded', 'loaded', 'loaded']
generateInitialInsights @ gameTabService.ts:1108
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1109 ğŸ¤– [GameTabService] ALL types: (9)Â ['story', 'strategies', 'tips', 'strategies', 'items', 'tips', 'tips', 'strategies', 'tips']
generateInitialInsights @ gameTabService.ts:1109
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1112 ğŸ¤– [GameTabService] ğŸ—‘ï¸ Clearing cache BEFORE subtabs write...
generateInitialInsights @ gameTabService.ts:1112
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
subtabsService.ts:41 ğŸ”„ [SubtabsService] Updating 9 subtabs in normalized table for conversation: game-elden-ring
setSubtabs @ subtabsService.ts:41
generateInitialInsights @ gameTabService.ts:1115
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
subtabsService.ts:44   âœ… Table write: SUCCESS
setSubtabs @ subtabsService.ts:44
await in setSubtabs
generateInitialInsights @ gameTabService.ts:1115
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1119 ğŸ¤– [GameTabService] âœ… Subtabs dual-write complete (table + JSONB)
generateInitialInsights @ gameTabService.ts:1119
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1126 ğŸ¤– [GameTabService] ğŸ” Subtabs saved successfully, skipping verification read
generateInitialInsights @ gameTabService.ts:1126
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1132 ğŸ¤– [GameTabService] âœ… Conversation metadata updated
generateInitialInsights @ gameTabService.ts:1132
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
gameTabService.ts:1167 ğŸ¤– [GameTabService] [game-elden-ring] Generation tracking cleaned up
generateInitialInsights @ gameTabService.ts:1167
await in generateInitialInsights
(anonymous) @ gameTabService.ts:213
MainApp.tsx:2377 ğŸ® [MainApp] âœ… All subtabs loaded for "Elden Ring" after 6 attempts
SubTabs.tsx:295 ğŸ“‚ [SubTabs] Initial mount complete - content already exists, NOT auto-expanding
MainApp.tsx:428 ğŸ¯ [PROMPTS] âœ… Setting AI prompts for Elden Ring : (2)Â ['Where is the Glintstone Key located exactly?', 'How do I beat the Red Wolf of Radagon inside?']
MainApp.tsx:147 ğŸ¯ [MainApp] Suggestions (3): (3)Â ['Where is the Glintstone Key located exactly?', 'How do I beat the Red Wolf of Radagon inside?', 'Are there any illusory walls in the Academy?']
